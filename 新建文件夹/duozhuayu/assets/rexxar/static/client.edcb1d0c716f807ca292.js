!function(e){function t(t){for(var r,i,c=t[0],l=t[1],s=t[2],f=0,p=[];f<c.length;f++)i=c[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://static.duozhuayu.com/static";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;a.push(["tjUo",0]),n()}({"+Tm7":function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var o=function(e){return e?(t=e.replace(/^\?/,""))?t.split("&").reduce(function(e,t){var n=r(t.split("="),2),o=n[0],a=n[1],i=void 0===a?"":a;return e[o]=i&&decodeURIComponent(i),e},{}):{}:{};var t},a=[void 0,null,""],i=function(e){return Object.keys(e).filter(function(t){return!a.includes(e[t])}).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}},"+UyT":function(e,t,n){},"/OR3":function(e,t,n){"use strict";var r=n("GBY4"),o=n.n(r),a=n("cnfQ"),i=n("pDFs"),c=n("qLMV"),l=n("XjTe"),s=n("1tCc");function u(e){return new Promise(function(t,n){var r=document.createElement("script");function o(){r.onload=null,r.onerror=null,document.body.removeChild(r)}r.onload=function(){o(),t()},r.onerror=function(){o(),n()},r.src=e,document.body.appendChild(r)})}var f=n("l9ey"),p=n("B3zl"),d=n("ueSK"),m=n("Y+bJ");function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"d",function(){return v}),n.d(t,"b",function(){return E}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return k}),n.d(t,"h",function(){return _}),n.d(t,"e",function(){return S}),n.d(t,"c",function(){return C}),n.d(t,"a",function(){return P});var g,v=function(){return function(e){var t,n;return(g=Promise.all([(t=i.c,n=i.b,u(t).catch(function(){return u(n)})),e({fetch:{types:[],from:"/wechat/jssdkconfig?url=".concat(encodeURIComponent(location.href.split("#")[0]))}})]).then(function(e){var t=h(e,2)[1];return window.wx.config(y({},t,{jsApiList:["scanQRCode","getLocation","chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage","openAddress"]})),new Promise(function(e,t){window.wx.ready(e),window.wx.error(t)})})).then(function(){return e({type:d.vg})},function(){e({type:d.ug}),e(Object(m.c)("WECHAT_SDK_FAILURE"))})}},x=f.f?p.a:"".concat(location.protocol,"//").concat(location.host),w={link:x,title:"多抓鱼 - 买书卖书交朋友",desc:"让真正的好东西物尽其用。",imgUrl:"https://img.duozhuayu.com/7e52121e354a11e7afb400163e04f327.jpg"},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()(e,!0),a=r.pathname,i=r.query,c=n.user,l=void 0===c?{}:c,s=n.gaSource;return r.set("query",y({},i,{utm_source:s||"".concat(f.f?"app":"","share_").concat(a),utm_medium:t,sharer_id:l.id})),r.toString()};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!f.c&&!f.f)return Promise.resolve();var n=y({},w,e);if(n.link&&!n.link.startsWith("/")||(n.link="".concat(x).concat(n.link||"")),n.link=Object(c.b)(n.link),Object(l.b)())return g.then(function(){wx.miniProgram.postMessage({data:y({},n,{link:O(n.link,"miniProgram",t)})})}),Promise.resolve();var r=y({},n,{success:function(){"function"==typeof n.success&&n.success.call(null,"timeline"),Object(s.a)("share","timeline")}}),o=y({},n,{success:function(){"function"==typeof n.success&&n.success.call(null,"appMessage"),Object(s.a)("share","appMessage")}});if(r=y({},r,{link:O(r.link,"timeline",t)}),o=y({},o,{link:O(r.link,"appMessage",t)}),f.f){var a={link:O(r.link,"app",t)};return new Promise(function(){p.c.onShare(r,o,a)})}return g.then(function(){window.wx.onMenuShareTimeline(r),window.wx.onMenuShareAppMessage(o)})}var j=function(e){var t=y({},e);return"timeStamp"in t&&(t.timestamp=t.timeStamp,delete t.timeStamp),g.then(function(){return e=t,new Promise(function(t,n){window.wx.chooseWXPay(y({},e,{success:t,cancel:n,fail:n}))});var e})},k=function(){return g.then(function(){return new Promise(function(e){window.wx.scanQRCode({needResult:1,scanType:["barCode"],success:e,fail:e})})})},_=function(){return g},S=function(){return g.then(function(){return new Promise(function(e,t){window.wx.openAddress({success:function(t){Object(s.a)("wechat_address","success"),e(t)},cancel:function(e){Object(s.a)("wechat_address","cancel"),t(e)},fail:function(e){Object(s.a)("wechat_address","failure"),t(e)}})})})},C=function(){return function(e){var t=Object(a.a)().location,n=t.pathname,r=t.search;e({fetch:{from:"POST /wechat/login-qrcode",types:[null,d.Ob,null],body:{current_page:"".concat(encodeURI(n)).concat(r)}}})}},P=function(e){return{fetch:{from:"POST /wechat/login-qrcode/verify",types:[null,d.kb,null],body:{rid:e}}}}},"/ky4":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("ueSK"),o=function(e,t){return{type:r.cf,value:t,key:e}},a=function(){return{fetch:{from:"/settings",types:[r.df,r.ef]}}}},"0+oS":function(e,t,n){},"0FDP":function(e,t,n){},"1aN8":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return h});var r=n("GBY4"),o=n.n(r),a=n("U9wH"),i=n("cnfQ"),c=n("YnYI"),l=n("+Tm7"),s=n("JzTR"),u=n("juUW"),f=n("78eS"),p="/open-collections",d=function(e){var t=e.withPaginationState,n=e.limit;return function(e,r){var i=Object(f.f)(r().openCollections)||p,c=t?i:p;return e({isReset:!1,fetch:{from:Object(a.a)(o()(c,{},!0),function(e){e.query.limit=n}).toString(),schema:s.a.openCollections,types:[u.h,u.i,u.g]}})}},m=function(e){return function(t){var n=Object(i.a)().location,r={type:"home",limit:5,user_id:Object(l.a)(n.search).user_id},o=Object(c.b)(p,r);return t({isReset:e,fetch:{from:o,schema:s.a.openCollections,types:[u.e,u.f,u.d]}})}},y=function(e){return{id:e,fetch:{from:"/open-collections/".concat(e),schema:s.a.openCollection,types:[u.k,u.l,u.j]}}},b=function(e){return{id:e,fetch:{from:"/open-collections/".concat(e),schema:s.a.openCollection,types:[null,u.l,null]}}},h=function(e){return function(t,n){var r=n().homeContribList,o=Object(i.a)().location,a={user_id:Object(l.a)(o.search).user_id},p=Object(f.f)(r),d=e||!p?Object(c.b)("/oc-contributions",a):p;return t({isReset:e,fetch:{from:d,schema:s.a.ocContribs,types:[u.b,u.c,u.a]}})}}},"1tCc":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("cnfQ"),o="";document.addEventListener("click",function(){var e=Object(r.a)().location.pathname;o=e});var a=function(e,t,n){var r,a=["send","event",{eventCategory:e,eventAction:t,eventLabel:o,eventValue:n}];(r=window).ga.apply(r,a)},i=function(e){var t=e.id,n=e.type,r=e.position,o=e.list,a=e.sourceType,i=void 0===a?null:a,c=e.sourceId,l=void 0===c?null:c,s=e.url,u=void 0===s?"/list-item/click":s,f={id:t,type:n,position:r,list:o,sourceType:i,sourceId:l};fetch("".concat("https://log-api.duozhuayu.com").concat(u),{method:"POST",credentials:"include",body:JSON.stringify(f)})}},"1tPW":function(e,t,n){},"2/BI":function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n("ueSK");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.tf:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},e,o({},t.key,t.isExpanded));default:return e}};var a=function(e,t){return t in e&&e[t]}},"2dMJ":function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c),s=n("zDcZ");n("4L6x");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=/^[\u4e00-\u9fa5￥]/,d=/[\u4e00-\u9fa5￥]$/;t.a=function(e){var t=e.autoPadding,n=e.centerAlign,r=e.className,a=e.following,c=e.emphasis,m=e.padStart,y=e.invalid,b=e.lighter,h=e.padEnd,g=e.normal,v=e.primary,x=e.limit,w=e.light,O=e.price,E=e.digit,j=e.right,k=e.stylizedNumber,_=e.large,S=e.small,C=e.quoted,P=e.mark,I=e.children,T=f(e,["autoPadding","centerAlign","className","following","emphasis","padStart","invalid","lighter","padEnd","normal","primary","limit","light","price","digit","right","stylizedNumber","large","small","quoted","mark","children"]),N=I;return O&&(N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"number"!=typeof e?t?"￥0.00":"￥0":"￥".concat((e/100).toFixed(t?2:0))}(I,E)),t&&(p.test(N)||(m=!0),d.test(N)||(h=!0)),i.a.createElement("span",u({},T,{className:o.a.dynamic([["2668029154",[s.a.lightYellow,s.a.primary]]])+" "+(null!=T.className&&T.className||l()("Text",r,{"Text--centerAlign":n,"Text--following":a,"Text--emphasis":c,"Text--invalid":y,"Text--lighter":b,"Text--normal":g,"Text--primary":v,"Text--limit":x,"Text--light":w,"Text--large":_,"Text--small":S,"Text--ps":m,"Text--pe":h,"Text--right":j,"Text--stylizedNumber":k,"Text--quoted":C,"Text--mark":P})||"")}),N,i.a.createElement(o.a,{id:"2668029154",dynamic:[s.a.lightYellow,s.a.primary]},[".Text--quoted.__jsx-style-dynamic-selector::before{content:'「';}",".Text--quoted.__jsx-style-dynamic-selector::after{content:'」';}",".Text--mark.__jsx-style-dynamic-selector{position:relative;z-index:0;}",".Text--mark.__jsx-style-dynamic-selector::after{content:'';width:100%;height:10px;position:absolute;z-index:-1;left:0;bottom:3px;background-color:".concat(s.a.lightYellow,";}"),".Text--primary.__jsx-style-dynamic-selector{color:".concat(s.a.primary,";}")]))}},"2l0V":function(e,t,n){"use strict";var r=n("/MKj"),o=n("q1tI"),a=n.n(o),i=n("r3dt"),c=n("l9ey"),l=n("cnfQ"),s=n("9At1"),u=n("5Wrh"),f=n("R/IG"),p=n("BjCW"),d=n("cP9F"),m=n("MX0m"),y=n.n(m),b=n("/OR3"),h=n("LTr4"),g=n("mM5K");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j={generateLoginQRCode:b.c,checkQRCodeLoginStatus:b.a},k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,O(t).call(this,e))).timeoutId=null,n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.generateLoginQRCode()}},{key:"checkQRCodeLoginStatusLooply",value:function(e){var t=this;this.props.checkQRCodeLoginStatus(e).then(function(){location.reload()}).catch(function(){t.timeoutId=setTimeout(function(){return t.checkQRCodeLoginStatusLooply(e)},1e3)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.rid;e.rid!==t&&t&&this.checkQRCodeLoginStatusLooply(t)}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"renderContent",value:function(){var e=this.props,t=e.QRCodeUrl,n=e.stock,r=function(e){return"https://asset.duozhuayu.com/mweb_guide_".concat(e?"instock":"nostock",".png")};return Object(c.j)()&&Object(i.g)()?a.a.createElement("div",{className:y.a.dynamic([["1521854524",[r(n),48,518/624*48]]])+" bg-img"},a.a.createElement("img",{src:t,alt:"保存二维码去多抓鱼",className:y.a.dynamic([["1521854524",[r(n),48,518/624*48]]])+" qrcode"}),a.a.createElement(y.a,{id:"1521854524",dynamic:[r(n),48,518/624*48]},[".bg-img.__jsx-style-dynamic-selector{position:relative;background:url(".concat(r(n),") center center;background-repeat:no-repeat;background-size:contain;height:").concat(48,"vh;max-height:360px;width:").concat(518/624*48,"vh;max-width:300px;margin:auto;}"),".qrcode.__jsx-style-dynamic-selector{position:absolute;left:10%;top:17%;width:8.2vh;height:8.2vh;}"])):a.a.createElement("div",{className:"jsx-978701416 wrapper"},a.a.createElement("img",{src:t,alt:"关注公众号登录",className:"jsx-978701416 qrcode"}),a.a.createElement("p",{className:"jsx-978701416 text"},"用微信扫描二维码即可登录"),a.a.createElement(y.a,{id:"978701416"},[".wrapper.jsx-978701416{margin-top:-15px;}",".qrcode.jsx-978701416{width:".concat(215,"px;height:").concat(215,"px;}"),".text.jsx-978701416{margin-top:3px;}"]))}},{key:"render",value:function(){return this.props.QRCodeUrl?this.renderContent():a.a.createElement("div",{className:"jsx-4256456392 wrapper"},a.a.createElement(g.a,null),a.a.createElement(y.a,{id:"4256456392"},[".wrapper.jsx-4256456392{margin:0 auto;width:".concat(215,"px;height:").concat(215,"px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")]))}}])&&x(n.prototype,r),l&&x(n,l),t}(),_=Object(r.b)(function(e){var t=e.webLogin,n=e.entities,r=t.rid,o=t.QRCodeUrl,a=Object(i.g)();return{rid:r,QRCodeUrl:o,stock:(Object(h.c)(n,a)||{}).stock}},j)(k);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={closeAlert:s.a,hideBanner:s.c},T={deleted:"你的账户已被封禁了",forbidden_sell:"你的账户已被封禁卖书了",forbidden_purchase:"你的账户已被封禁买书了",forbidden_speak_7days:"你因为发布了违禁内容而被禁言 7 天，在此期间不能发布内容。",forbidden_speak:"你因为发布了违禁内容而被永久禁言",violator_forbidden_speak:"你因为违规而被永久禁言"},N=function(e,t){return{noFooter:!0,title:"关注微信公众号",children:a.a.createElement("div",null,a.a.createElement("div",{style:{marginTop:"-15px"}},a.a.createElement("img",{alt:"多抓鱼",src:e,style:{width:"215px",verticalAlign:"top"}})),a.a.createElement("div",{style:{marginTop:".6em"}},t))}},R=function(e,t){if(!e)return{children:null};switch(e.type){case"COMMENT_DELETE":case"OC_CONTRIB_DELETE":return{actions:[a.a.createElement(u.a,{key:"1",onClick:t},"取消"),a.a.createElement(u.a,{key:"0",primary:!0,onClick:function(){e.confirmAction(),t()}},"确定")],children:"确定要删除吗？"};case"REMOVE_USERBOOK_SOLDBOOK_ACTIVITY":return{actions:[a.a.createElement(u.a,{key:"1",onClick:t},"取消"),a.a.createElement(u.a,{primary:!0,key:"0",onClick:function(){e.confirmAction(),t()}},"删除")],children:"删除后别人不会知道你卖过这本书"};case"WECHAT_SDK_FAILURE":return{actions:[a.a.createElement(u.a,{primary:!0,key:"0",onClick:function(){return window.location.reload()}},"刷新页面"),a.a.createElement(u.a,{key:"1",onClick:t},"继续使用")],children:"扫码、支付等功能加载失败，确定继续使用吗？"};case"CANT_CANCEL_PURCHASE_ORDER":return{actions:[a.a.createElement(u.a,{primary:!0,key:"0",onClick:t},"确定")],children:"当前订单正在拣货中，无法取消。"};case"CANT_CANCEL_SELL_ORDER":return{actions:[a.a.createElement(u.a,{primary:!0,key:"0",onClick:t},"确定")],children:"已安排快递，无法取消。"};case"BALANCE_NOT_ENOUGH":return{error:!0,autoHide:!0,timeout:5e3,children:"余额不足，卖书给多抓鱼可获得余额"};case"LOGIN":return n=t,r={noFooter:!0,children:a.a.createElement(_,null)},Object(c.j)()&&Object(i.g)()?C({},r,{style:{margin:0,padding:"20px"},mainStyle:{paddingTop:"5vh"},buttonStyle:{height:"18vh"}}):C({},r,{title:"扫码登录",onClose:function(){var e=Object(l.a)();"PUSH"===e.action&&e.goBack(),"POP"===e.action&&e.push("/"),n()}});case"SUBSCRIBE":return N("https://asset.duozhuayu.com/mp_qrcode/mobile_mp_subscribe.png","长按识别二维码关注「多抓鱼」公众号继续操作");case"SUBSCRIBE_FROM_SELL":return N("https://asset.duozhuayu.com/mp_qrcode/pc_sell_mp_subscribe.png","请到「多抓鱼」公众号扫码卖书");case"PAYMENT_WECHAT_MISMATCH":return{children:"支付失败，请去多抓鱼服务号完成支付"};case"PAYMENT_MINI_PROGRAM_MISMATCH":return{children:"支付失败，请去多抓鱼小程序完成支付"};case"PAYMENT_WECHAT_NATIVE_MISMATCH":return{children:"支付失败，请在桌面端使用扫码完成支付"};case"NOT_REAL_NAME_TRANSFER_ERROR":return{children:"微信需要实名认证才能进行支付提现操作，请先到微信中完成实名认证。"};case"IN_STOCK_REMIND_LIMIT":return{children:"你的到货提醒已经超过 1000 个的上限了，可以去购物车里删除一些再添加"};case"USER_ACTION_LIMIT":return{children:T[e.data.punishment]};case"CANT_BUY_FREE_BOOK":return{children:"卖书加入 free 计划后才可以购买 free 的书籍"};case"BUY_FREE_BOOK_TOO_FREQUENT_FOR_DAY":return{children:"不好意思，每人每天最多买 20 本 free 书，看完再来吧"};case"BUY_FREE_BOOK_TOO_FREQUENT_FOR_MONTH":return{children:"不好意思，每人每月最多买 100 本 free 书，看完再来吧"};default:return{children:null}}var n,r};t.a=Object(r.b)(function(e){return{tips:e.tips}},I)(function(e){var t=e.tips,n=t.banner,r=t.alertState,o=e.hideBanner,i=e.closeAlert,c=function(e){if(!e)return{children:null};switch(e.type){case"ERROR":return{error:!0,autoHide:!0,children:"出错了，请重试"};case"FORBIDDEN":return{error:!0,autoHide:!0,children:e.children||"没有权限进行这个操作"};case"BAD_REQUEST":return{error:!0,autoHide:!0,children:e.children};case"ORDER_SUCCESS":return{children:"下单成功"};case"NAME_MIN_LEN":return{error:!0,children:"请填写姓名"};case"NAME_MAX_LEN":return{error:!0,children:"姓名过长，应少于 15 个字符"};case"PHONE_INVALID":return{error:!0,children:"请输入正确的手机号"};case"PROVINCE_REQUIRED":return{error:!0,children:"请选择所在地区"};case"CITY_REQUIRED":return{error:!0,children:"请选择所在城市"};case"DISTRICT_REQUIRED":return{error:!0,children:"请选择所在区/县"};case"INVALID_REGION":return{error:!0,children:"快递站点不支持该地址，请重新选择"};case"STREET_REQUIRED":return{error:!0,children:"请填写详细地址"};case"STREET_MAX_LEN":return{error:!0,children:"详细地址过长，应小于 128 个字符"};case"DELIVERY_TIME_REQUIRED":return{error:!0,children:"请填写快递上门时间"};case"NEED_MORE_BOOKS":return{error:!0,children:"需要更多书才能下单"};case"UPDATE_ORDER_TIME_FAILURE":return{error:!0,autoHide:!0,children:"修改订单时间失败，请刷新页面重试"};case"ORDER_UPDATE_SUCCESS":return{autoHide:!0,children:"订单信息更新成功"};case"EXCEED_MAX_PURCHASE_NUM":return{error:!0,autoHide:!0,children:"选择的书超过100本了，请删减后再下单。"};case"PHONE_FORMAT_ERROR":return{error:!0,autoHide:!0,children:"请输入正确的手机号"};case"SEND_SMS_ERROR":return{error:!0,autoHide:!0,children:"验证码发送失败，请重试"};case"SMS_CODE_WRONG":return{error:!0,autoHide:!0,children:"验证码输入错误"};case"SMS_CODE_EXPIRED":return{error:!0,autoHide:!0,children:"验证码已超时，请重新发送"};case"PHONE_EXIST_SMS":return{error:!0,autoHide:!0,children:"手机号已验证"};case"INCORRECT_TIME":case"USER_BOOK_NOT_EXIST":case"USER_BOOKS_NOT_EXIST":return{error:!0,autoHide:!0,timeout:5e3,children:"下单时出现了一些问题，建议刷新页面后重试（刷新页面后已经添加的书不会丢失）"};case"BOOK_NOT_IN_CART":return{error:!0,autoHide:!0,children:"下单时出现了一些问题，请尝试重新下单"};case"PAYMENT_FAILURE":return{error:!0,autoHide:!0,children:"支付失败，请尝试重新发起支付"};case"CANT_CANCEL_SELL_ORDER":return{error:!0,autoHide:!0,children:"不能取消该订单，请刷新页面重新查看订单状态"};case"MESSAGE_MIN_LEN":return{error:!0,autoHide:!0,timeout:1500,children:"鱼邮不能为空"};case"UPDATE_MESSAGE_SUCCESS":return{autoHide:!0,children:"已发送"};case"REFUND_PURCHASE_ORDER_COUNT_LIMIT":return{error:!0,autoHide:!0,children:"今日取消买书订单次数已达上限"};case"WAITING_PAID_ORDER_COUNT_TOO_MORE":return{error:!0,autoHide:!0,children:"无法结算，当前未支付订单已有 5 个，请先支付后再结算。"};case"OPERATION_TOO_FREQUENT":case"RATE_LIMIT_REACHED":return{error:!0,autoHide:!0,children:"你的操作太频繁，请稍后再试"};case"WECHAT_PAY_TO_USER_FAILED":return{error:!0,autoHide:!0,children:"非常抱歉，由于微信支付企业付款服务暂时不可用，请稍后重试。如需帮助，请通过公众号联系多抓鱼客服。"};case"ADD_OWNINGBOOK_NOT_FOUND":return{error:!0,autoHide:!0,children:"抱歉，这本书我们还没有收录"};case"ADD_OWNINGBOOK_DZY_CODE_NOT_EXIST":return{error:!0,autoHide:!0,children:"无效的 ISBN 或多抓鱼条码"};case"SCAN_CODE_FAILURE":return{error:!0,autoHide:!0,children:"获取条形码失败，请重试"};case"WITHDRAW_SUCCESS":return{autoHide:!0,children:"提现成功"};case"OC_CONTRIB_FORM_INVALID":case"COMMENT_FORM_INVALID":return{error:!0,autoHide:!0,children:e.children};case"OC_CONTRIB_CREATE_SUCCESS":return{autoHide:!0,children:"提交成功"};case"OC_CONTRIB_CREATE_FAILURE":case"SEARCH_FEEDBACK_FAILURE":return{autoHide:!0,error:!0,children:"提交失败，待会再试试"};case"OC_CONTRIB_UPDATE_SUCCESS":return{autoHide:!0,children:"修改成功"};case"OC_CONTRIB_UPDATE_FAILURE":return{autoHide:!0,error:!0,children:"修改失败，待会再试试"};case"OCC_COMMENT_DELETE_SUCCESS":case"OC_CONTRIB_DELETE_SUCCESS":case"ACTIVITY_COMMENT_DELETE_SUCCESS":case"ACTIVITY_DELETE_SUCCESS":return{autoHide:!0,children:"删除成功"};case"OC_CONTRIB_DELETE_FAILURE":return{autoHide:!0,error:!0,children:"删除失败，待会再试试"};case"CATEGORY_SUBSCRIBE_SUCCESS_TOAST":return{autoHide:!0,children:e.children};case"USER_BOOK_INCONFORMITY":return{error:!0,autoHide:!0,children:"下单失败，请先认真核对下想卖的书再提交"};case"TRANSFER_SHELFBOOK_SUCCESS":return{primary:!0,autoHide:!0,children:"已经放入卖书列表了"};case"INVALID_ORDER_ADDRESS":return{error:!0,autoHide:!0,children:"不支持跨省修改地址"};case"MUST_AGREE_USER_PROTOCOL":return{error:!0,autoHide:!0,children:"同意「多抓鱼用户协议」后才能继续下一步"};case"DEBUG_SETTING_SUCCESS":return{autoHide:!0,children:"".concat(e.children||"Debug"," 设置成功")};case"DEBUG_SETTING_FAILURE":return{error:!0,autoHide:!0,children:"".concat(e.children||"Debug"," 设置失败")};case"SCAN_BOOK_NOT_FOUND":return{error:!0,autoHide:!0,children:"未发现这本书"};case"SCAN_BOOK_ERROR":return{error:!0,autoHide:!0,children:"出错了，请重试"};case"SEARCH_FEEDBACK_INVALID":return{error:!0,autoHide:!0,children:e.children};case"SEARCH_FEEDBACK_SUCCESS":return{autoHide:!0,children:"反馈成功"};default:return{children:null}}}(n),l=R(r,i);return a.a.createElement(d.a,null,a.a.createElement(p.a,S({onClose:o},c)),l.children&&a.a.createElement(f.a,S({onClose:i},l)))})},"2vYM":function(e,t,n){"use strict";n.d(t,"b",function(){return y});var r=n("q1tI"),o=n("/MKj"),a=n("VJYJ"),i=n("l9ey"),c=n("a4+a"),l=n("cUTp"),s=n("cnfQ");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.a)().location.pathname,t=Object(s.a)().location.search,n="".concat(e).concat(t);i.f&&window.ga("set","checkProtocolTask",null),window.ga("set","page",n),window.ga("send","pageview")},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t,n=this.props,r=n.history,o=n.location,c=n.loadStatus,l=n.user,s=n.onLogPageView,u=Object(a.a)(o.pathname,"/users/:id/:type?");if(u){var f=u.params,p=f.id,d=f.type;p===l.id&&(t=d?"/me/".concat(p,"/").concat(d):"/me/".concat(p))}("loading"!==e.loadStatus||"loaded"!==c&&"failed"!==c||(l.id&&window.ga("set","userId",l.id),window.ga("set","dimension1",Object(i.d)()),y(t)),e.location!==o&&"/blank"!==o.pathname)&&(y(t),s("POP"!==r.action?o.state:null))}},{key:"componentDidMount",value:function(){this.props.onLogPageView()}},{key:"render",value:function(){return null}}])&&f(n.prototype,o),c&&f(n,c),t}();t.a=Object(o.b)(function(e){var t=e.session;return{loadStatus:Object(l.c)(t),user:Object(l.d)(t)}},function(e,t){var n=t.location;return{onLogPageView:function(t){if(i.f){var r=n?"".concat(n.pathname).concat(n.search):"";setTimeout(function(){window.Rexxar&&window.Rexxar.Lifecycle&&window.Rexxar.Lifecycle.visible&&e(Object(c.e)(t,{page:r}))},300)}else e(Object(c.e)(t))}}})(b)},"3MNX":function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("zDcZ"),l=[];t.a=function(e){var t=e.items,n=void 0===t?l:t,r=e.style,a=e.color,s=e.bgColor,u=a||c.a.primary,f=s||u,p=r&&r.fontSize||16,d=r&&r.lineHeight||1.5,m=6*p/16,y=(p*d-m)/2;return i.a.createElement("ul",{style:r,className:o.a.dynamic([["41980579",[16,1.5,m,m,y,f,u]]])+" root"},n.map(function(e,t){return i.a.createElement("li",{key:t,className:o.a.dynamic([["41980579",[16,1.5,m,m,y,f,u]]])},e)}),i.a.createElement(o.a,{id:"41980579",dynamic:[16,1.5,m,m,y,f,u]},[".root.__jsx-style-dynamic-selector{margin:0;padding:0;list-style:none;font-size:".concat(16,"px;font-weight:300;line-height:").concat(1.5,";text-align:left;}"),"li.__jsx-style-dynamic-selector{padding-left:16px;position:relative;}","li.__jsx-style-dynamic-selector::before{content:'';box-sizing:border-box;width:".concat(m,"px;height:").concat(m,"px;position:absolute;left:0;top:").concat(y,"px;border-radius:50%;background:").concat(f,";border:1px solid ").concat(u,";}")]))}},"40O5":function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"j",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"k",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"h",function(){return b});var r=n("ueSK");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){var t=e.settings.balancePayDiscountRate;return t?t>=100?100:t:100},c=function(e){return i(e)<100},l=function(e){return e.settings.promotionsCount},s=function(e){var t=e.settings.userPromotions;return(void 0===t?[]:t).map(function(e){var t=e.id,n=e.endTime,r=e.promotion,o=r.id,a=r.type,i=r.amount,c=r.extends;return{couponId:t,endTime:n,id:o,type:a,amount:i,conditionAmount:c?c.validaters.amount:0}})},u=function(e){return e.settings.canFreeRetrieval},f=function(e){return e.settings.isPiracyUser},p=function(e){return e.settings.freePlanStatus},d=function(e){return e.settings.canJoinFreePlan},m=function(e){return e.settings.canBuyFreeBook},y=function(e){return e.settings.featuresEnabled},b=function(e){return e.settings.isForbiddenInvitationUser};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ef:return o({},e,t.payload);case r.cf:return o({},e,a({},t.key,t.value));default:return e}}},"48fa":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return E}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return k});var r=n("peh1"),o=n("cnfQ"),a=n("YnYI"),i=n("+Tm7"),c=n("LTr4"),l=n("IiWD"),s=n("JzTR"),u=n("NWy5");function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="categoryItems",m="".concat(d,"_CATEGORY_ITEMS_REQUEST"),y="".concat(d,"_CATEGORY_ITEMS_SUCCESS"),b="".concat(d,"_CATEGORY_ITEMS_FAILURE"),h="".concat(d,"_CATEGORY_ITEMS_ADD_ITEM"),g="".concat(d,"_CATEGORY_ITEMS_REMOVE_ITEM"),v=function(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n)};t.b=Object(u.i)({types:[m,y,b,h,g],mapActionToKey:function(e){return v(e.id,e.filter,e.sorter)},updaters:{remove:function(e,t){return e.filter(function(e){return"book"===e.schema?e.id.item!==t.payload.id:"subscribedBook"!==e.schema||e.id.item.book!==t.payload.id})}}});var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.virtuals||{};return f({},e,{virtuals:f({},n,{cartBook:t[n.cartBook]})})},w=Object(r.createSelector)(function(e){return Object(c.e)(e.entities)},function(e){return Object(c.f)(e.entities)},l.m,function(e,t,n,r){return Object(u.l)(e[d],v(t,n,r))},function(e,t,n,r){return r.map(function(r){if("book"===r.schema){var o=e[r.id.item];return f({},r.id,{item:x(o,t)})}if("subscribedBook"===r.schema){var a=e[r.id.item.book];return f({},r.id,{item:{book:x(a,t),category:n[r.id.item.category]}})}if("categories"===r.schema){var i=r.id.item;return f({},r.id,{item:f({},i,{categories:i.categories.map(function(e){return n[e]})})})}return r})}),O=function(e,t,n,r){return Object(u.n)(e[d],v(t,n,r))},E=function(e,t,n,r){return Object(u.p)(e[d],v(t,n,r))},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,c){var l=c(),u=n.sorter,f=void 0===u?"":u,p=n.filter,d=void 0===p?"":p,h=(n.nextUrlFromPath,E(l,e,d,f)),g=Object(o.a)().location,v=Object(i.a)(g.search).user_id,x=h;if(t||!h){var w="/categories/".concat(e,"/items");x=Object(a.b)(w,{user_id:v,sortBy:f,subCategoryId:d})}return r({id:e,isReset:t,sorter:f,filter:d,fetch:{from:x,types:[m,y,b],schema:s.a.categoryItems}})}},k=function(e,t,n){return{id:t,sorter:n.sorter,filter:n.filter,payload:{id:e},fetch:{from:"POST /books/".concat(e,"/dislike"),types:[g]}}}},"4L6x":function(e,t,n){},"4tqO":function(e,t,n){},"51ew":function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return h}),n.d(t,"e",function(){return g});var r=n("/1FC"),o=n("m8R6"),a=n("OtLZ"),i=n("NTIX"),c=n("RXTu"),l=n("NWy5"),s=n("mWCn");function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(c.c)({key:"ocContribItems",types:[s.e,s.f,s.a],updateReducer:function(e,t){switch(t.type){case s.E:var n=t.payload,r=n.contribItemId,o=n.contributionId,a=e[r];return f({},e,p({},r,f({},a,{contributions:a.contributions.filter(function(e){return e!==o})})));default:return e}}}),m=Object(c.c)({key:"ocContribs",types:[s.o,s.p,s.n],editType:s.m,createTypes:[s.h,s.i,s.g],updateTypes:[s.v,s.w,s.u],updateReducer:function(e,t){var n=null,c=t.userId;switch(t.type){case s.l:return Object(o.a)(e,t.id);case s.C:return n=e[t.id],Object(r.a)(n.latestVoters)?n.latestVoters=[c].concat(u(n.latestVoters)):n.latestVoters=[c],f({},e,p({},n.id,f({},n,{voteCount:n.voteCount+1,votedByMe:!0})));case s.t:return(n=e[t.id]).latestVoters=Object(a.a)(n.latestVoters,c),f({},e,p({},n.id,f({},n,{voteCount:Math.max(n.voteCount-1,0),votedByMe:!1})));case i.f:return f({},e,p({},(n=e[t.contribId]).id,f({},n,{commentsCount:n.commentsCount+1})));case i.i:return f({},e,p({},(n=e[t.contribId]).id,f({},n,{commentsCount:n.commentsCount-1})));default:return e}}}),y=(Object(l.c)({types:[s.c,s.d,s.b,s.i,s.l]}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type!==s.q)return e;var n=t.contribId;return f({},e,p({},n,!e[n]))}),b=function(e){return e.contribId},h=Object(l.i)({types:[s.y,s.z,s.x],mapActionToKey:b}),g=Object(l.i)({mapActionToKey:function(e){return e.ocId},types:[s.e,s.f,s.a,null,s.D],updaters:{remove:function(e,t){var n=t.payload.contribItemId;return e.filter(function(e){return e!==n})}}})},"59kf":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n("NWy5"),o=n("ueSK"),a=Object(r.i)({types:[o.sd,o.td,o.rd],mapActionToKey:function(e){return e.id}});t.a=a;var i=function(e){return e.multiVersionBooks},c=Object(r.b)(i),l=Object(r.e)(i)},"5Wrh":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a);n("duig");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){var t=e.checked,n=e.rightSpace,r=e.primary,a=e.emphasis,s=e.light,u=e.weaken,f=e.inverse,p=e.normal,d=e.tiny,m=e.small,y=e.medium,b=e.large,h=e.mega,g=e.block,v=e.floating,x=e.golden,w=e.gray,O=e.round,E=e.slim,j=e.text,k=e.cleanText,_=e.fuckThisShit,S=e.icon,C=e.flatIcon,P=e.className,I=e.component,T=void 0===I?"button":I,N=e.children,R=l(e,["checked","rightSpace","primary","emphasis","light","weaken","inverse","normal","tiny","small","medium","large","mega","block","floating","golden","gray","round","slim","text","cleanText","fuckThisShit","icon","flatIcon","className","component","children"]),L=i()("Button",P,{"Button--normal":p,"Button--checked":t,"Button--floating":v,"Button--rightSpace":n,"Button--gray":w,"Button--primary":r,"Button--emphasis":a,"Button--golden":x,"Button--light":s,"Button--weaken":u,"Button--inverse":f,"Button--fuckThisShit":_,"Button--tiny":d,"Button--small":m,"Button--medium":y,"Button--large":b,"Button--mega":h,"Button--block":g,"Button--round":O,"Button--slim":E,"Button--text":j,"Button--cleanText":k,"Button--icon":S,"Button--flatIcon":C});return o.a.createElement(T,c({className:L},R),S||p?o.a.createElement("div",{className:"Button-inner"},N):N)}},"6OPG":function(e,t,n){},"6lzq":function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"k",function(){return x}),n.d(t,"d",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"i",function(){return j}),n.d(t,"j",function(){return k}),n.d(t,"m",function(){return S}),n.d(t,"b",function(){return C}),n.d(t,"h",function(){return P}),n.d(t,"g",function(){return I}),n.d(t,"l",function(){return T}),n.d(t,"f",function(){return N});var r=n("cnfQ"),o=n("m8R6"),a=n("ueSK"),i=n("LTr4"),c=n("7zx8"),l=n("r3dt"),s=n("VjWl"),u=n("l9ey"),f=n("Y+bJ"),p=n("gbLe"),d=n("NWy5"),m=n("2vYM"),y=n("JzTR");function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=Object(r.a)().push,g=Object(p.a)(function(e){return function(t,n){var r=Object(d.o)(n().cart.cartBooks);return t({isReset:e,fetch:{types:[a.db,a.eb,a.cb],from:e||!r?"/user/cart":r,schema:y.a.cartBookList}})}}),v=Object(p.a)(function(e){return function(t,n){t(g(e)).then(function(){"drained"!==Object(d.m)(n().cart.cartBooks)&&t(v(!1))})}}),x=Object(p.a)(function(e){return function(t,n){var r=n().cart.cartBooks;(u.f||"loading"!==r.loadStatus)&&t(g(e))}}),w=function(e){return{id:e,fetch:{from:"/user/cart/".concat(e),types:[a.ab,a.bb,a.Z],schema:y.a.cartBook}}},O=Object(p.a)(function(e){Object(m.b)("/add_cart");var t=e.goods,n=b(e,["goods"]),r=t&&t.map(function(e){return Object(o.a)(e,["traitDesc"])});return{id:e.bookId,fetch:{types:[a.l,a.m,a.k],from:"post /user/cart",body:n,schema:y.a.cartBook,headers:{"x-request-misc":JSON.stringify({goodsInHeader:r})}}}}),E=function(){return function(e,t){var n=t(),r=n.bookSelect,o=r.selectedGoods,a=o.condition,c=o.flawFlag,l=o.flawReasons,u=r.selectOptions.bookId,f=n.entities;if(u){var p=Object(i.c)(f,u).goods;e(O({bookId:u,condition:a,flawFlag:c,flawReasons:l,goods:p})).then(function(){e(Object(s.a)())})}}},j=Object(p.a)(function(e){return function(t,n){var r=n(),o=Object(i.c)(r.entities,e).goods,a=Object(c.j)(r,e);if(Object(l.o)(o,a))t(Object(s.b)(e));else if(1===o.length&&!a){var u=o[0],f=u.condition,p=u.flawFlag,d=u.flawReasons;t(O({bookId:e,condition:f,flawFlag:p,flawReasons:d,goods:o}))}}}),k=Object(p.a)(function(e){return function(t){t(O({itemId:e}))}}),_=Object(p.a)(function(e,t){return{id:e,fetch:{types:[a.Gf,a.Hf,a.Ff],from:"patch /user/cart/".concat(e),body:t,schema:y.a.cartBook}}}),S=Object(p.a)(function(){return function(e,t){var n=t(),r=n.bookSelect.selectedGoods,o=Object(c.y)(n);e(_(o.id,r)).then(function(){e(Object(s.a)())})}}),C=function(e){return function(t,n){var r,o,c=n().entities,l=c.cartBooks.entities[e],s=l.itemType,u=l.hasReserved;"book"===s&&(r=l.book,o=Object(i.c)(c,r).stock),"item"===s&&(r=l.item,o=Object(i.l)(c,r).stock);var f=u||o;t({id:e,fetch:{types:[a.Ab,a.Bb,a.zb],from:"delete /user/cart/".concat(e)},inStock:f}).then(function(){"book"===s&&t({id:e,type:a.Bg,payload:{book:{id:r}}})})}},P=function(e,t){return{id:e,fetch:{types:[a.Pe,a.Qe,a.Oe],from:"patch /user/cart/".concat(e),body:{hasSelected:t}},hasSelected:t}},I=function(e){return function(t,n){t(function(e,t){return{ids:e,fetch:{types:[a.Je,a.Ke,a.Ie],from:"".concat(t?"post":"delete"," /user/cart/selected"),body:{cartBookIds:e}},hasSelected:t}}(Object(c.r)(n()).map(function(e){return e.id}),e))}},T=function(e){return function(t){var n=e.id,r=Object(l.d)(e).goods[0],o=r.condition,a=r.flawFlag,i=r.flawReasons;return t(_(n,{condition:o,flawFlag:a,flawReasons:i}))}},N=Object(p.d)(function(){return function(e,t){var n=t(),r=Object(c.O)(n),o=r.map(function(e){return e.id});return o.length>100?e(Object(f.c)("EXCEED_MAX_PURCHASE_NUM")):e(function(e,t){var n=t(),r=Object(c.w)(n);return r.length?Promise.all(r.map(function(t){return e(T(t))})):Promise.resolve()}).then(function(){return e({fetch:{types:[a.ve,a.we],from:"post /reserve",body:{cartIds:o}}})}).then(function(){u.f?setTimeout(function(){h("/cart/checkout")},200):h("/cart/checkout")},function(t){var n=[],o=["BOOK_SOLD_OUT","ITEM_SOLD_OUT"];if(o.includes(t.name)){var i=(t.data||[]).filter(function(e){return!e.stock}).map(function(e){return e.id});n=r.filter(function(e){var t=e.book,n=void 0===t?{}:t,r=e.item,o=void 0===r?{}:r;return i.includes(n.id||o.id)}).map(function(e){return e.id})}e({type:a.ue,error:t,outOfStockCartBookIds:n}),o.includes(t.name)&&e(Object(f.c)(t.name))})}})},"6tOG":function(e,t,n){"use strict";var r=n("XiPH"),o=n("ifKl"),a=n("a4+a"),i=n("cUTp"),c=n("l9ey");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function f(e,t,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&p(o,n.prototype),o}).apply(null,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,d(t).call(this,e))).name="ApiError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,u(Error)),t}(),y=n("8iCv"),b=n.n(y),h=n("eF/w"),g=(n("+Tm7"),function(){var e="https://www.duozhuayu.com/api";return e.startsWith("http")||(e=location.origin+e),e});function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){if(!("fetch"in l))return e(l);var s=l.fetch,u=E(l,["fetch"]),f=(s.types,O(s.types,3)),p=f[0],d=f[1],y=f[2],w=s.beforeSuccess,j=void 0===w?o.a:w,k=s.onFailure,_=void 0===k?o.a:k,S=s.schema,C=s.from,P=s.body,I=s.errorMap,T=s.fetchFn,N=void 0===T?fetch:T,R=E(s,["types","types","beforeSuccess","onFailure","schema","from","body","errorMap","fetchFn"]),L=O(C.split(" "),2),A=L[0],F=L[1],B=P;c.f&&!c.e||(R.credentials="include");var D=t(Object(a.a)({refresh:!1})),M=D.requestId,U=D.referRequestId,z=D.platform;R.headers||(R.headers={});var G=R.headers["x-request-misc"]?JSON.parse(R.headers["x-request-misc"]):{};R.headers=x({},R.headers,{"x-request-id":M,"x-refer-request-id":U,"x-request-misc":JSON.stringify(x({},G,{platform:z}))}),p&&e(x({type:p},u)),F||(F=A,A="get");var H=c.f&&A&&["POST","PUT","DELETE","PATCH"].includes(A.toUpperCase());if(H){var W;if(F.startsWith("http"))W=F,F="http://post/".concat(F);else{var V=g(),K=V.split("/").pop();W="".concat(V).concat(F),F="http://post/".concat(K).concat(F)}R.headers=x({},R.headers,{"x-native-request-url":W,"x-native-request-method":A})}F.startsWith("http")?"https:"===location.protocol&&F.startsWith("http:")&&(F=F.replace(/^http/,"https")):F="".concat(g()).concat(F);var q,Y=Date.now(),Q=Math.floor(1e8*Math.random()),Z=Object(i.d)(n().session).id||0,X=b()(Y,Z,Q);return R.headers=x({},R.headers,{"x-timestamp":Y,"x-security-key":Q,"x-request-token":X,"x-user-id":Z}),R.method=A.toUpperCase(),"function"==typeof P&&(B=P(n())),B&&(H?R.headers=x({},R.headers,{"content-type":"application/json","x-native-request-body":(q=B,JSON.stringify(q).replace(/[\u007f-\uffff]/g,function(e){return"\\u".concat("0000".concat(e.charCodeAt(0).toString(16)).slice(-4))}))}):(R.body=JSON.stringify(B),R.headers=x({},R.headers,{"content-type":"application/json"}))),R.headers=x({},R.headers,{"x-api-version":"0.0.13"}),N(F,R).then(function(e){if(204===e.status)return{res:e};var t=e.headers.get("content-type");return t&&"application/json"===t.split(";")[0]?e.text().then(function(t){try{var n=JSON.parse(t);return{res:e,json:n}}catch(e){h.b.captureException(e)}if(c.f&&c.e&&t.startsWith("_error_=")){var r=t.substr(8),o={};try{o=JSON.parse(r)}catch(e){}var a=o,i=a._network_error,l=a._response_error,s=a._response_code;if(i)return Promise.reject(o);if(l)return{res:e,text:t,resOk:!1,resStatus:s,json:l}}return{res:e,text:t}}):e.text().then(function(t){return{res:e,text:t}})}).then(function(t){var n=t.res,o=t.json,a=t.text,i=t.resOk,c=t.resStatus;if(void 0!==i?i:n.ok){if(d){j(o);var l=x({type:d},u);if(o){if(l.payload=o,S){var s=Object(r.a)(o.data||o,S),f=s.entities,p=s.result;l.entities=f,l.result=p}}else"GET"===R.method&&h.b.withScope(function(e){e.setExtra("method",R.method),e.setExtra("url",F),h.b.captureException(new m("Empty response"))}),l.payload={};e(l)}return o}var b={status:void 0!==c?c:n.status};o&&"object"===v(o.error)?b=x({},b,o.error):(b.name="SERVER_ERROR",b.message="string"==typeof o?o:a),I&&I[b.name]&&(b.name=I[b.name]);var g=x({error:b},u);return y&&(g.type=y,e(g)),_(g),Promise.reject(b)},function(t){var n=x({error:t},u),r=t&&"promise_cancel"===t.name;return y&&!r&&(n.type=y,e(n)),_(n),Promise.reject(t)})}}}},"78eS":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"h",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return p});var r=n("peh1"),o=n("RXTu"),a=Object(o.b)("openCollections"),i=Object(o.a)("openCollections"),c=Object(o.d)("openCollections"),l=function(e){return e.openCollections.ids},s=Object(r.createSelector)(function(e){return e.homeOpenCollections.ids},function(e){return e.slice(0,5)}),u=function(e){return e.nextUrl},f=function(e){return e.loadStatus},p=function(e){return e.count}},"7dLp":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var r=n("ueSK");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case r.We:return!e;case r.Ve:return!1;default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{changedUserBooks:[],isChangedUserBooksLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.Gc:return o({},e,{changedUserBooks:t.payload.data,isChangedUserBooksLoading:!1});case r.Fc:return o({},e,{changedUserBooks:[],isChangedUserBooksLoading:!0});default:return e}},l=function(e){return e.isSellAnonymous}},"7zx8":function(e,t,n){"use strict";var r=n("fvjX"),o=n("peh1"),a=n("BeL+"),i=n("dCOi"),c=n("r3dt"),l=n("EXbF"),s=n("51ew"),u=n("QV6A"),f=n("W7QA"),p=n("NWy5"),d=n("IiWD"),m=n("48fa"),y=n("xQ31"),b=n("ueSK"),h=[{title:"综合排序",value:""},{title:"销量优先",value:"sale"},{title:"评分优先",value:"doubanRating"},{title:"低价优先",value:"purchasePrice"},{title:"折扣优先",value:"purchaseRate"}];function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object(r.c)({sorters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Jf:return g({},e,v({},t.categoryId,t.sorter));case b.Sf:return g({},e,v({},t.tagId,t.sorter));default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.If:return g({},e,v({},t.categoryId,t.filter));default:return e}},sorterOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;switch((arguments.length>1?arguments[1]:void 0).type){case b.bf:default:return e}}}),w=n("P1rd"),O=n("FuOl");function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _=Object(r.c)({isUploading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.Yf:return!0;case b.Zf:return!1;default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.dg:return E({},e,t.values);case b.Zf:return{};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.eg:return E({},e,t.errors);case b.dg:case b.Zf:return{};default:return e}}}),S=Object(r.c)({isOrderSubmitting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.Xe:return!0;case b.Ye:case b.Ue:return!1;default:return e}},loadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case b.Vf:return"loading";case b.Wf:return"loaded";case b.Tf:return"failed";default:return e}},form:_,ids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Wf:return t.result;case b.g:case b.Zf:var n=k(e),r=t.payload.id,o=n.indexOf(r);return o>-1&&n.splice(o,1),n.push(r),n;case b.cg:var a=k(e),i=a.indexOf(t.id);return i>-1&&a.splice(i,1),a;case b.Ye:return[];default:return e}},originPrices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Uf:return t.oldPrices;case b.Wf:case b.Ye:return{};default:return e}},reserveHintId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.lf:return t.id;case b.ec:return"";default:return e}}});function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(r.c)({code:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.jg:return t.value;case b.qg:return"";default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.bf:if(!t.payload)return e;var n=C(t.payload.addressList,1)[0];return n&&n.phone?"verified":e;case b.b:return"phone"in t.values?"loaded"===e?e:t.isVerified?"verified":"initial":e;case b.lg:return"loading";case b.ng:return"loaded";case b.kg:return"initial";case b.mg:return 0===t.value?"initial":e;case b.pg:return"verifying";case b.qg:return"verified";case b.og:return"loaded";default:return e}},remainingSeconds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case b.ng:return 60;case b.mg:return e-1;case b.qg:return 0;default:return e}},verifiedPhone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.bf:if(!t.payload)return e;var n=C(t.payload.addressList,1)[0];return n&&n.phone?n.phone:e;case b.qg:return t.phone;default:return e}}}),N=Object(r.c)({deliveryTimes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Db:return P({},e,{sell:t.payload});default:return e}},regions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{purchase:{},sell:{},retrieval:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ce:return P({},e,I({},t.orderType||"sell",t.payload));default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.bf:if(!t.payload)return e;var n=C(t.payload.addressList,1)[0];if(!n)return e;var r=n.street2;return r&&(n.street+=r,delete n.street2),n;case b.b:return P({},e,t.values);case b.Ye:return P({},e,{deliveryTime:""});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.c:return P({},e,t.errors);case b.b:return{};default:return e}},phone:T}),R=n("XoAi"),L=n("Qcau"),A=Object(r.c)({currentCartBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.if:return t.payload;case b.Xb:return"";default:return e}},requestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case b.gd:return"loading";case b.hd:return"loaded";case b.fd:return"failed";default:return e}},outOfStockBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.fd:var n=t.error||{},r=n.name,o=n.data;return"LOCK_IN_BOOK_SOLD_OUT"===r?o?o[0]:null:e;default:return e}}}),F=Object(r.c)({currentBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.kf:return t.payload.bookId;case b.dc:return"";default:return e}},currentCartBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.kf:return t.payload.cartBookId||"";case b.dc:return"";default:return e}},requestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case b.se:return"loading";case b.te:return"loaded";case b.re:return"failed";default:return e}},finishPaymentRequestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case b.Jb:return"loading";case b.Kb:return"loaded";case b.Ib:return"failed";default:return e}}}),B=Object(r.c)({selectOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Qf:return t.payload;default:return e}},selectedGoods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Me:return t.payload;case b.Qf:return{};default:return e}}}),D=n("i6DS");function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var U=["BOOK_SOLD_OUT","LOCK_IN_BOOK_SOLD_OUT"],z=Object(p.c)({types:[b.db,b.eb,b.cb,b.m,b.Bb],updaters:{all:function(e,t){switch(t.type){case b.eb:if(t.isReset)return t.result;var n=e.map(function(e){return e.id}),r=t.result.filter(function(e){var t=e.id;return!n.includes(t)});return[].concat(M(e),M(r));case b.m:var o=t.result;return e.find(function(e){var t=e.id;return o===t})?e:[{id:o,schema:"inStockCartItem"}].concat(M(e));case b.Bb:return e.filter(function(e){return e.id!==t.id});case b.jb:return e.filter(function(e){return!t.cartBookIds.includes(e.id)});case b.ue:case b.fd:return U.includes(t.error.name)?e.filter(function(e){var n=e.id;return!t.outOfStockCartBookIds.includes(n)}):e;default:return e}}}}),G=Object(r.c)({isCheckoutLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.ib:return!0;case b.jb:case b.hb:return!1;default:return e}},reserveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ve:return"loading";case b.we:return"loaded";case b.ue:return"initial";case b.Ne:return t.selected?"initial":e;default:return e}},outOfStockBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ue:return["BOOK_SOLD_OUT","ITEM_SOLD_OUT"].includes(t.error.name)?t.error.data||[]:e;default:return e}},requestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case b.l:case b.Gf:return"loading";case b.m:case b.Hf:return"success";case b.k:case b.Ff:return"failed";default:return e}},cartBooks:z,inStockCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.eb:return void 0!==t.payload.inStockCount?t.payload.inStockCount:e;case b.m:return e+1;case b.Bb:return t.inStock?e-1:e;case b.jb:return e-t.cartBookIds.length;case b.bf:return t.payload.cart;default:return e}},noStockCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.eb:return t.payload.noStockCount||e;default:return e}},hasAllSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Ke:return t.hasSelected;default:return e}}}),H=n("kRXY"),W=n("2/BI"),V=n("qzae"),K=Object(r.c)({displayCoupon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.hf:return!0;case b.Wb:return!1;default:return e}},selectedCoupon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Re:return t.payload;default:return e}}}),q=Object(r.c)({shipperCode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.b:return t.shipperCode||null;case b.Db:var n=Object(a.a)((t.payload||[]).map(function(e){return e.shipperCode||null}));return 1===n.length?n[0]:e;default:return e}}}),Y=n("LTr4"),Q=n("TgTV"),Z=n("RXTu");function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(Z.c)({key:"soldBookActivities",updateReducer:function(e,t){switch(t.type){case b.Rf:return X({},e,J({},t.id,X({},e[t.id],t.payload)));default:return e}}}),Object(Z.a)("soldBookActivities"),Object(Z.b)("soldBookActivities");var $=n("qy67");function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.uf:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}({},e,ee({},t.key,t.isOpen));default:return e}},ne=Object(r.c)({showCloseGuide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.jf:return!0;case b.Zb:return!1;default:return e}},showFollowGuide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.mf:return t.payload;case b.ic:return"";default:return e}}}),re=n("59kf"),oe=n("pyes"),ae=Object(r.c)({foldStatuses:s.b,contribs:s.e}),ie=Object(p.c)({types:[b.Bd,b.Cd,b.Ad]}),ce=Object(r.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.Nd:return!0;case b.Od:case b.Md:return!1;default:return e}},cashierOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.gf:return t.payload.order;case b.Tb:return e&&e.id===t.payload.orderId&&e.type===t.payload.orderType?null:e;default:return e}}}),le=Object(p.c)({types:[b.Sd,b.Td,b.Rd,b.Ud,b.ae]}),se=Object(r.c)({refusedBooks:le,appealBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Ef:return t.payload;default:return e}},freeBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Kf:return t.payload;default:return e}}}),ue=Object(p.i)({types:[b.ee,b.fe,b.de],mapActionToKey:function(e){return e.status}}),fe=Object(r.c)({userBooks:ue,selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Se:return t.payload;case b.ze:return[];default:return e}},isCheckoutLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.ye:return!0;case b.ze:case b.xe:return!1;default:return e}}}),pe=n("YI9S"),de=n("jrpX"),me=n("7dLp"),ye=n("cUTp"),be=n("40O5"),he=n("c5cm"),ge=n("RbH8"),ve=Object(r.c)({isAgreed:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b.n:return!0;case b.Eb:return!1;default:return e}}}),xe=n("e2HP"),we=Object(r.c)({QRCodeUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===b.Ob?t.payload.url:e},rid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===b.Ob?t.payload.rid:e}});function Oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ee,je=Object(p.c)({types:[b.Dg,b.Eg,b.Cg,b.yg,b.Bg],updaters:{add:function(e,t){switch(t.type){case b.yg:var n=t.result;return e.find(function(e){var t=e.id;return n===t})?e:[{id:n,schema:"inStockRemindCartBook"}].concat(Oe(e));default:return e}},remove:function(e,t){switch(t.type){case b.Bg:return e.filter(function(e){return e.id!==t.id});default:return e}}}}),ke=n("B8iD");function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ce(e,t,n[t])})}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"f",function(){return Ie}),n.d(t,"Y",function(){return Te}),n.d(t,"u",function(){return Ne}),n.d(t,"X",function(){return Me}),n.d(t,"m",function(){return Ue}),n.d(t,"k",function(){return ze}),n.d(t,"l",function(){return Ge}),n.d(t,"z",function(){return He}),n.d(t,"q",function(){return Ve}),n.d(t,"e",function(){return Ke}),n.d(t,"c",function(){return qe}),n.d(t,"d",function(){return Ye}),n.d(t,"W",function(){return Qe}),n.d(t,"C",function(){return Ze}),n.d(t,"Q",function(){return Xe}),n.d(t,"R",function(){return Je}),n.d(t,"T",function(){return $e}),n.d(t,"t",function(){return et}),n.d(t,"V",function(){return tt}),n.d(t,"Z",function(){return nt}),n.d(t,"s",function(){return at}),n.d(t,"i",function(){return ct}),n.d(t,"j",function(){return lt}),n.d(t,"y",function(){return st}),n.d(t,"r",function(){return ft}),n.d(t,"B",function(){return pt}),n.d(t,"I",function(){return dt}),n.d(t,"J",function(){return ht}),n.d(t,"H",function(){return gt}),n.d(t,"M",function(){return vt}),n.d(t,"K",function(){return wt}),n.d(t,"G",function(){return Ot}),n.d(t,"O",function(){return jt}),n.d(t,"A",function(){return kt}),n.d(t,"a",function(){return _t}),n.d(t,"w",function(){return St}),n.d(t,"S",function(){return Ct}),n.d(t,"g",function(){return It}),n.d(t,"v",function(){return Tt}),n.d(t,"L",function(){return Nt}),n.d(t,"p",function(){return Lt}),n.d(t,"o",function(){return At}),n.d(t,"h",function(){return Ft}),n.d(t,"P",function(){return Bt}),n.d(t,"n",function(){return Dt}),n.d(t,"x",function(){return Mt}),n.d(t,"U",function(){return Ut}),n.d(t,"D",function(){return zt}),n.d(t,"E",function(){return Ht}),n.d(t,"N",function(){return Wt}),n.d(t,"F",function(){return Vt});var Pe=Object(r.c)((Ce(Ee={ocContribs:ae,bookContribs:R.a},d.d,d.f),Ce(Ee,m.a,m.b),Ce(Ee,y.a,y.b),Ce(Ee,"collectionLists",V.a),Ce(Ee,"notifications",oe.a),Ce(Ee,"collapsables",W.a),Ce(Ee,"refusedBooks",se),Ce(Ee,"rejected",fe),Ce(Ee,"addedBooks",S),Ce(Ee,"bookLists",L.a),Ce(Ee,"bookshelf",D.a),Ce(Ee,"addBook",O.a),Ce(Ee,"orderList",ie),Ce(Ee,"settings",be.a),Ce(Ee,"entities",Y.a),Ce(Ee,"session",ye.a),Ce(Ee,"account",w.a),Ce(Ee,"address",N),Ce(Ee,"payment",ce),Ce(Ee,"search",de.a),Ce(Ee,"layers",te),Ce(Ee,"traders",xe.a),Ce(Ee,"ocContribVoters",s.f),Ce(Ee,"cart",G),Ce(Ee,"wishlist",je),Ce(Ee,"tips",he.a),Ce(Ee,"checkout",H.a),Ce(Ee,"isSellAnonymous",me.b),Ce(Ee,"sellOrderChanges",me.c),Ce(Ee,"openCollections",f.d),Ce(Ee,"homeContribList",f.b),Ce(Ee,"homeOpenCollections",f.c),Ce(Ee,"occComments",u.c),Ce(Ee,"occCommentFormFocus",u.b),Ce(Ee,"bookSelect",B),Ce(Ee,"bookLockIn",A),Ce(Ee,"delivery",q),Ce(Ee,"activity",ge.b),Ce(Ee,"miniProgram",ne),Ce(Ee,"bookFilter",x),Ce(Ee,"bookReserve",F),Ce(Ee,"userProtocol",ve),Ce(Ee,"webLogin",we),Ce(Ee,"relatedBooks",pe.a),Ce(Ee,"multiVersionBooks",re.a),Ce(Ee,"couponSelect",K),Ce(Ee,"itemList",$.a),Ce(Ee,"tag",ke.a),Ee)),Ie=(t.b=Pe,function(e){return he.b(e.tips)}),Te=function(e){return ye.f(e.session)},Ne=function(e){return function(e){return e.isLoading}(e.payment)},Re=function(e,t){return t.map(function(t){return e[t]})},Le=function(e){return Y.e(e.entities)},Ae=function(e){return Y.o(e.entities)},Fe=function(e){return Y.f(e.entities)},Be=function(e){return Y.H(e.entities)},De=function(e){return Y.j(e.entities)},Me=(Object(o.createSelector)(Le,function(e,t){return L.b(e.bookLists,t)},Re),Object(o.createSelector)(Le,function(e,t){return L.b(e.bookLists,t)},Re),Object(o.createSelector)(Le,function(e){return Y.J(e.entities)},function(e,t){return L.b(e.bookLists,t)},function(e,t,n){return n.map(function(n){var r=Se({},n,{book:e[n.book]});return n.buyer&&(r.buyer=t[n.buyer]),n.seller&&(r.seller=t[r.seller]),r})})),Ue=(Object(o.createSelector)(De,function(e){return V.b(e.collectionLists,"home")},Re),Object(o.createSelector)(De,function(e){return V.b(e.collectionLists,"collections")},Re)),ze=Object(o.createSelector)(Le,function(e,t){return L.b(e.bookLists,"collection-".concat(t))},Re),Ge=function(e,t){return L.c(e.bookLists,"collection-".concat(t))},He=Object(o.createSelector)(function(e){return Y.u(e.entities)},function(e){return Y.H(e.entities)},function(e){return Y.e(e.entities)},function(e){return e.orderList.ids},function(e,t,n,r){return r.map(function(r){var o=e[r];return o.userBooks?Se({},o,{userBooks:o.userBooks.map(function(e){var r=t[e];return Se({},r,{book:n[r.book]})})}):o})}),We=function(e,t,n){var r=t[n];return r?Se({},r,{book:e[r.book]}):null},Ve=Object(o.createSelector)(Le,Be,function(e,t){return t},We),Ke=function(e){return function(e){return e.ids}(e.addedBooks)},qe=Object(o.createSelector)(Ke,Le,Be,function(e,t,n){return e.map(function(e){return We(t,n,e)})}),Ye=function(e){var t=e.addedBooks.originPrices;return qe(e).map(function(e){var n=e.id,r=t[n];return r!==e.acquirePrice&&(e.oldPrice=r),e})},Qe=Object(o.createSelector)(Ke,function(e){return _e(e).reverse()}),Ze=function(e){return Object(p.k)(e.refusedBooks.refusedBooks)},Xe=Object(o.createSelector)(Be,Ke,function(e,t){return t.reduce(function(t,n){return t+e[n].acquirePrice},0)}),Je=Object(o.createSelector)(Be,Ke,function(e,t){return t.reduce(function(t,n){return t+(e[n].acquirePriceMediumCondition||0)},0)}),$e=Object(o.createSelector)(Be,function(e,t){return t},function(e,t){return t.reduce(function(t,n){return t+100*e[n].prelockCouponRate},0)}),et=function(e){var t=e.settings.isUnrestrictedSeller,n=e.address.values.city;return t?Xe(e)>=100:"北京市"===n?Xe(e)>=2e3:Xe(e)>=4e3},tt=Object(o.createSelector)(Le,Ae,Fe,function(e){return e.cart.cartBooks.ids},function(e,t,n,r){return r.map(function(r){var o=r.id,a=r.schema,i=n[o],c={type:a,item:Se({},i)};return i.book&&(c.item.book=e[i.book]),i.item&&(c.item.item=t[i.item]),c})}),nt=Object(o.createSelector)(Le,Fe,function(e){return e.wishlist.ids},function(e,t,n){return n.map(function(n){var r=n.id,o=t[r];return Se({},o,{book:e[o.book]})})}),rt=Object(o.createSelector)(tt,function(e){return e.filter(function(e){var t=e.type,n=e.item.hasLocked;return"preLockCartBook"===t&&!n})}),ot=Object(o.createSelector)(rt,function(e){return e.filter(function(e){return e.item.book.stock})}),at=function(e,t){return ot(e).find(function(e){return e.item.id===t})},it=Object(o.createSelector)(tt,function(e){return e.map(function(e){return e.item})}),ct=function(e,t){var n=Fe(e),r=Le(e),o=Ae(e),a=n[t];if(a)return Se({},a,{book:r[a.book],item:o[a.item]})},lt=function(e,t){return it(e).find(function(e){return e.book&&e.book.id===t})},st=Object(o.createSelector)(it,function(e){return e.bookSelect.selectOptions.bookId},function(e,t){return e.find(function(e){return!!e.book&&e.book.id===t})}),ut=function(e){var t=e.book,n=void 0===t?{}:t,r=e.item,o=void 0===r?{}:r,a=e.hasReserved,i=e.hasLocked,l=e.hasPreLocked,s=e.lockStatus,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=n.goods||[],p=(u?f:f.filter(function(e){return"free"!==e.condition})).length>0,d=(o.item?o.item.goods:[]).length>0;return!l&&!Object(c.r)(s)&&(a||i||p||d)},ft=Object(o.createSelector)(it,be.c,function(e,t){return e.filter(function(e){return ut(e,t)})}),pt=function(e){return e.cart.outOfStockBooks},dt=Object(o.createSelector)(it,be.c,function(e,t){return e.filter(function(e){return e.hasSelected&&ut(e,t)})}),mt=function(e){return"book"===e.itemType&&"free"===(Object(c.m)(e.book,e)||{}).condition},yt=function(e){return"free"===e.condition},bt=Object(o.createSelector)(dt,function(e){return e.filter(function(e){return"book"===e.itemType})}),ht=Object(o.createSelector)(dt,function(e){return e.filter(function(e){return"item"===e.itemType})}),gt=Object(o.createSelector)(bt,function(e){return e.filter(yt)}),vt=Object(o.createSelector)(bt,function(e){return e.filter(function(e){return!yt(e)})}),xt=Object(o.createSelector)(dt,function(e){return e.filter(mt)}),wt=Object(o.createSelector)(ht,function(e){return e.length}),Ot=Object(o.createSelector)(bt,function(e){return e.length}),Et=Object(o.createSelector)(it,function(e){return e.filter(function(e){return e.hasSelected&&e.hasLocked})}),jt=Object(o.createSelector)(it,be.c,function(e,t){return e.filter(function(e){return e.hasSelected&&!e.hasLocked&&ut(e,t)})}),kt=Object(o.createSelector)(tt,function(e){return e.findIndex(function(e){return"noStockCartItem"===e.type})}),_t=function(e){var t=e.condition,n=e.flawFlag,r=e.book,o=e.hasReserved;if(!r)return!1;var a=r.goods||[];return!o&&!a.find(function(e){return e.condition===t&&e.flawFlag===n})},St=Object(o.createSelector)(jt,function(e){return e.filter(_t)}),Ct=Object(o.createSelector)(dt,function(e){return e.reduce(function(e,t){return e+Object(c.e)(t)},0)}),Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"book";return Object(o.createSelector)(dt,function(t){return t.filter(function(t){return t.itemType===e}).reduce(function(e,t){return e+Object(c.e)(t)},0)})},It=Pt("book"),Tt=Pt("item"),Nt=Object(o.createSelector)(Et,function(e){return e.reduce(function(e,t){return e+Object(c.e)(t)},0)}),Rt=function(e){return i.a*e.length},Lt=Object(o.createSelector)(xt,Rt),At=Object(o.createSelector)(gt,Rt),Ft=Object(o.createSelector)(It,bt,function(e){return e.address.values.province},At,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=Object(i.d)(n),a=Object(i.b)(n),c=Object(i.c)(n);return e+r>=o?0:0===t.length?0:t.length<=3?a:a+(t.length-3)*c}),Bt=Object(o.createSelector)(Tt,ht,function(e){return e.address.values.province},function(e,t,n){var r=i.h,o=Object(i.b)(n);return e>r?0:0===t.length?0:o}),Dt=Object(o.createSelector)(It,Ft,Nt,function(e){return Object(be.b)(e)},function(e,t,n,r){var o=r.find(function(r){var o=r.type,a=r.conditionAmount;return Object(l.b)(o,a,e,t,n)}),a={};o&&(a={couponId:o.couponId,id:o.id,type:o.type,amount:o.amount});return a}),Mt=Object(o.createSelector)(function(e){return Y.r(e.entities)},function(e){return Q.b(e.entities)},function(e){return oe.b(e.notifications)},function(e,t,n){return n.map(function(n){var r=e[n],o=r.data.message;return o?Se({},r,{data:{message:t[o]}}):r})}),Ut=Object(o.createSelector)(function(e){return Y.E(e.entities)},function(e){return w.c(e.account)},Re),zt=function(e){return function(t){return p.n(t.rejected.userBooks,e)}},Gt=function(e,t,n){return Object(a.a)(n).map(function(n){var r=Se({},t[n]);return r.book=e[r.book],r})},Ht=function(e){return Object(o.createSelector)(Le,Be,function(e){return function(t){return p.l(t.rejected.userBooks,e)}}(e),Gt)},Wt=Object(o.createSelector)(Le,Be,function(e){return e.rejected.selected},Gt),Vt=Object(o.createSelector)(Wt,function(e){return e.address.values.province},be.l,be.k,function(e,t,n,r){if(n)return 0;return Object(i.b)(t,r)+(e.length<=6?0:(e.length-6)*Object(i.e)(t,r))})},"8W/B":function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("/MKj"),l=n("l9ey"),s=n("XjTe"),u=n("cUTp"),f=n("Y+bJ"),p=n("5Wrh");t.a=Object(c.b)(function(e){return{isWechatSubscribed:Object(u.b)(e.session)}},function(e){return{alertSubscription:function(){return e(Object(f.c)("SUBSCRIBE"))}}})(function(e){var t=e.isWechatSubscribed,n=e.alertSubscription;return t||Object(s.b)()||l.f||Object(l.i)()?null:i.a.createElement("div",{className:"jsx-898071587 root"},i.a.createElement("div",{className:"jsx-898071587 wrap"},i.a.createElement("div",{className:"jsx-898071587 content"},i.a.createElement("img",{alt:"多抓鱼",src:"//img.duozhuayu.com/eb77c5e8affa11e7b58200163e067c99_l.jpeg",className:"jsx-898071587 logo"}),i.a.createElement("div",{className:"jsx-898071587 desc"},l.c?i.a.createElement("p",{className:"jsx-898071587"},"关注「多抓鱼」公众号去买书和卖书"):i.a.createElement("p",{className:"jsx-898071587"},"关注微信公众号「多抓鱼」买书和卖书吧"))),l.c&&i.a.createElement("div",{className:"jsx-898071587 ft"},i.a.createElement(p.a,{primary:!0,normal:!0,onClick:n},"去关注"))),i.a.createElement(o.a,{id:"898071587"},[".root.jsx-898071587{display:none;}",".root.jsx-898071587,.wrap.jsx-898071587{width:100%;max-width:600px;height:66px;}",".wrap.jsx-898071587{position:fixed;top:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;z-index:3;border-bottom:0.5px solid #f2f2f2;}",".content.jsx-898071587{height:100%;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:24px;}",".content.jsx-898071587:before{position:absolute;width:18px;height:18px;top:8px;left:16px;-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);content:'';background-image:url('//img.duozhuayu.com/4952291cb31411e7bf0500163e067c99_l.jpeg');background-repeat:no-repeat;background-size:50% 50%;background-position:0 0;}",".logo.jsx-898071587{width:40px;min-width:40px;height:22px;}",".desc.jsx-898071587{font-size:14px;color:#333;line-height:1.5;font-weight:400;position:relative;margin:0 78px 0 12px;}",".ft.jsx-898071587{-webkit-flex:1;-ms-flex:1;flex:1;max-width:80px;}","@media (max-width:960px){.root.jsx-898071587{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}","@media (max-width:374px){.desc.jsx-898071587{margin-right:30px;}}"]))})},"8iCv":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r,o,a,i,c,l,s,u,f,p,d,m,y,b,h,g,v,x,w,O,E,j,k,_,S,C,P,I,T,N,R,L,A,F,B,D,M,U,z,G,H,W,V,K,q,Y,Q,Z,X,J,$,ee,te,ne,re,oe,ae,ie,ce,le,se,ue,fe,pe,de,me,ye,be,he,ge,ve,xe,we,Oe,Ee,je,ke,_e,Se,Ce,Pe,Ie,Te,Ne,Re,Le,Ae,Fe,Be,De,Me,Ue,ze,Ge,He,We,Ve,Ke,qe,Ye,Qe,Ze,Xe,Je,$e,et,tt,nt,rt,ot,at,it,ct,lt,st,ut,ft,pt,dt,mt,yt,bt,ht,gt,vt,xt,wt,Ot,Et,jt,kt,_t,St,Ct,Pt,It,Tt,Nt,Rt,Lt,At,Ft,Bt,Dt,Mt,Ut,zt,Gt,Ht,Wt,Vt,Kt,qt,Yt,Qt,Zt,Xt,Jt,$t,en,tn,nn,rn,on,an,cn,ln,sn,un,fn,pn,dn,mn,yn,bn,hn,gn,vn,xn,wn,On,En,jn,kn,_n,Sn,Cn,Pn,In,Tn,Nn,Rn,Ln,An,Fn,Bn,Dn,Mn,Un,zn,Gn,Hn,Wn,Vn,Kn,qn,Yn,Qn,Zn,Xn,Jn,$n,er,tr,nr,rr,or,ar,ir,cr,lr,sr,ur,fr,pr,dr,mr,yr,br,hr,gr,vr,xr,wr,Or,Er,jr,kr,_r,Sr,Cr,Pr,Ir,Tr,Nr,Rr,Lr,Ar,Fr,Br,Dr,Mr,Ur,zr,Gr,Hr,Wr,Vr,Kr,qr,Yr,Qr,Zr,Xr,Jr,$r,eo,to,no,ro,oo,ao,io,co,lo,so,uo,fo,po,mo,yo,bo,ho,go,vo,xo,wo,Oo,Eo,jo,ko,_o,So,Co,Po,Io,To,No,Ro,Lo,Ao,Fo,Bo,Do,Mo,Uo,zo,Go,Ho,Wo,Vo,Ko,qo,Yo,Qo,Zo,Xo,Jo,$o,ea,ta,na,ra,oa,aa,ia,ca,la,sa,ua,fa,pa,da,ma,ya,ba,ha,ga,va,xa,wa,Oa,Ea,ja,ka,_a,Sa,Ca,Pa,Ia,Ta,Na,Ra,La,Aa,Fa,Ba,Da,Ma,Ua,za,Ga,Ha,Wa,Va,Ka,qa,Ya,Qa,Za,Xa,Ja,$a,ei,ti,ni,ri,oi,ai,ii,ci,li,si,ui,fi,pi,di,mi,yi,bi,hi,gi,vi,xi,wi,Oi,Ei,ji,ki,_i,Si,Ci,Pi,Ii,Ti,Ni,Ri,Li,Ai,Fi,Bi,Di,Mi,Ui,zi,Gi,Hi,Wi,Vi,Ki,qi,Yi,Qi,Zi,Xi,Ji,$i,ec,tc,nc,rc,oc,ac,ic,cc,lc,sc,uc,fc,pc,dc,mc,yc,bc,hc,gc,vc,xc,wc,Oc,Ec,jc,kc,_c,Sc,Cc,Pc,Ic,Tc,Nc,Rc,Lc,Ac,Fc,Bc,Dc,Mc,Uc,zc,Gc,Hc,Wc,Vc,Kc,qc,Yc,Qc,Zc,Xc,Jc,$c,el,tl,nl,rl,ol,al,il,cl,ll,sl,ul,fl,pl,dl,ml,yl,bl,hl,gl,vl,xl,wl,Ol,El,jl,kl,_l,Sl,Cl,Pl,Il,Tl,Nl,Rl,Ll,Al,Fl,Bl,Dl,Ml,Ul,zl,Gl,Hl,Wl,Vl,Kl,ql,Yl,Ql,Zl,Xl,Jl,$l,es,ts,ns,rs,os,as,is,cs,ls,ss,us,fs,ps,ds,ms,ys,bs,hs,gs,vs,xs,ws,Os,Es,js,ks,_s,Ss,Cs,Ps,Is,Ts,Ns,Rs,Ls,As,Fs,Bs,Ds,Ms,Us,zs,Gs,Hs,Ws,Vs,Ks,qs,Ys,Qs,Zs,Xs,Js,$s,eu,tu,nu,ru,ou,au,iu,cu,lu,su,uu,fu,pu,du,mu,yu,bu,hu,gu,vu,xu,wu,Ou,Eu,ju,ku,_u,Su,Cu,Pu,Iu,Tu,Nu,Ru,Lu,Au,Fu,Bu,Du,Mu,Uu,zu,Gu,Hu,Wu,Vu,Ku,qu,Yu,Qu,Zu,Xu,Ju,$u,ef,tf,nf,rf,of,af,cf,lf,sf,uf,ff,pf,df,mf,yf,bf,hf,gf,vf,xf,wf,Of,Ef,jf,kf,_f,Sf,Cf,Pf,If,Tf,Nf,Rf,Lf,Af,Ff,Bf,Df,Mf,Uf,zf,Gf,Hf,Wf,Vf,Kf,qf,Yf,Qf,Zf,Xf,Jf,$f,ep,tp,np,rp,op,ap,ip,cp,lp,sp,up,fp,pp,dp,mp,yp,bp,hp,gp,vp,xp,wp,Op,Ep,jp,kp,_p,Sp,Cp,Pp,Ip,Tp,Np,Rp,Lp,Ap,Fp,Bp,Dp,Mp,Up,zp,Gp,Hp,Wp,Vp,Kp,qp,Yp,Qp,Zp,Xp,Jp,$p,ed,td,nd,rd,od,ad,id,cd,ld,sd,ud,fd,pd,dd,md,yd,bd,hd,gd,vd,xd,wd,Od,Ed,jd,kd,_d,Sd,Cd,Pd,Id,Td,Nd,Rd,Ld,Ad,Fd,Bd,Dd,Md,Ud,zd,Gd,Hd,Wd,Vd,Kd,qd,Yd,Qd,Zd,Xd,Jd,$d,em,tm,nm,rm,om,am,im,cm,lm,sm,um,fm,pm,dm,mm,ym,bm,hm,gm,vm,xm,wm,Om,Em,jm,km,_m,Sm,Cm,Pm,Im,Tm,Nm,Rm,Lm,Am,Fm,Bm,Dm,Mm,Um,zm,Gm,Hm,Wm,Vm,Km,qm,Ym,Qm,Zm,Xm,Jm,$m,ey,ty,ny,ry,oy,ay,iy,cy,ly,sy,uy,fy,py,dy,my,yy,by,hy,gy,vy,xy,wy,Oy,Ey,jy,ky,_y,Sy,Cy,Py,Iy,Ty,Ny,Ry,Ly,Ay,Fy,By,Dy,My,Uy,zy,Gy,Hy,Wy,Vy,Ky,qy,Yy,Qy,Zy,Xy,Jy,$y,eb,tb,nb,rb,ob,ab,ib,cb,lb,sb,ub,fb,pb,db,mb,yb,bb,hb,gb,vb,xb,wb,Ob,Eb,jb,kb,_b,Sb,Cb,Pb,Ib,Tb,Nb,Rb,Lb,Ab,Fb,Bb,Db,Mb,Ub,zb,Gb,Hb,Wb,Vb,Kb,qb,Yb,Qb,Zb,Xb,Jb,$b,eh,th,nh,rh,oh,ah,ih,ch,lh,sh,uh,fh,ph,dh,mh,yh,bh,hh,gh,vh,xh,wh,Oh,Eh,jh,kh,_h,Sh,Ch,Ph,Ih,Th,Nh,Rh,Lh,Ah,Fh,Bh,Dh,Mh,Uh,zh,Gh,Hh,Wh,Vh,Kh,qh,Yh,Qh,Zh,Xh,Jh,$h,eg,tg,ng,rg,og,ag,ig,cg,lg,sg,ug,fg,pg,dg,mg,yg,bg,hg,gg,vg,xg,wg,Og,Eg,jg,kg,_g,Sg,Cg,Pg,Ig,Tg,Ng,Rg,Lg,Ag,Fg,Bg,Dg,Mg,Ug,zg,Gg,Hg,Wg,Vg,Kg,qg,Yg,Qg,Zg,Xg,Jg,$g,ev,tv,nv,rv,ov,av,iv,cv,lv,sv,uv,fv,pv,dv,mv,yv,bv,hv,gv,vv,xv,wv,Ov,Ev,jv,kv,_v,Sv,Cv,Pv,Iv,Tv,Nv,Rv,Lv,Av,Fv,Bv,Dv,Mv,Uv,zv,Gv,Hv,Wv,Vv,Kv,qv,Yv,Qv,Zv,Xv,Jv,$v,ex,tx,nx,rx,ox,ax,ix,cx,lx,sx,ux,fx,px,dx,mx,yx,bx,hx,gx,vx,xx,wx,Ox,Ex,jx,kx,_x,Sx,Cx,Px,Ix,Tx,Nx,Rx,Lx,Ax,Fx,Bx,Dx,Mx,Ux,zx,Gx,Hx,Wx,Vx,Kx,qx,Yx,Qx,Zx,Xx,Jx,$x,ew,tw,nw,rw,ow,aw,iw,cw,lw,sw,uw,fw,pw,dw,mw,yw,bw,hw,gw,vw,xw,ww,Ow,Ew,jw,kw,_w,Sw,Cw,Pw,Iw,Tw,Nw,Rw,Lw,Aw,Fw,Bw,Dw,Mw,Uw,zw,Gw,Hw,Ww,Vw,Kw,qw,Yw,Qw,Zw,Xw,Jw,$w,eO,tO,nO,rO,oO,aO,iO,cO,lO,sO,uO,fO,pO,dO,mO,yO,bO,hO,gO,vO,xO,wO,OO,EO,jO,kO,_O,SO,CO,PO,IO,TO,NO,RO,LO,AO,FO,BO,DO,MO,UO,zO,GO,HO,WO,VO,KO,qO,YO,QO,ZO,XO,JO,$O,eE,tE,nE,rE,oE,aE,iE,cE,lE,sE,uE,fE,pE,dE,mE,yE,bE,hE,gE,vE,xE,wE,OE,EE,jE,kE,_E,SE,CE,PE,IE,TE,NE,RE,LE,AE,FE,BE,DE,ME,UE,zE,GE,HE,WE,VE,KE,qE,YE,QE,ZE,XE,JE,$E,ej,tj,nj,rj,oj,aj,ij,cj,lj,sj,uj,fj,pj,dj,mj,yj,bj,hj,gj,vj,xj,wj,Oj,Ej,jj,kj,_j,Sj,Cj,Pj,Ij,Tj,Nj,Rj,Lj,Aj,Fj,Bj,Dj,Mj,Uj,zj,Gj,Hj,Wj,Vj,Kj,qj,Yj,Qj,Zj,Xj,Jj,$j,ek,tk,nk,rk,ok,ak,ik,ck,lk,sk,uk,fk,pk,dk,mk,yk,bk,hk,gk,vk,xk,wk,Ok,Ek,jk,kk,_k,Sk,Ck,Pk,Ik,Tk,Nk,Rk,Lk,Ak,Fk,Bk,Dk,Mk,Uk,zk,Gk,Hk,Wk,Vk,Kk,qk,Yk,Qk,Zk,Xk,Jk,$k,e_,t_,n_,r_,o_,a_,i_,c_,l_,s_,u_,f_,p_,d_,m_,y_,b_,h_,g_,v_,x_,w_,O_,E_,j_,k_,__,S_,C_,P_,I_,T_,N_,R_,L_,A_,F_,B_,D_,M_,U_,z_,G_,H_,W_,V_,K_,q_,Y_,Q_,Z_,X_,J_,$_,eS,tS,nS,rS,oS,aS,iS,cS,lS,sS,uS,fS,pS,dS,mS,yS,bS,hS,gS,vS,xS,wS,OS,ES,jS,kS,_S,SS,CS,PS,IS,TS,NS,RS,LS,AS,FS,BS,DS,MS,US,zS,GS,HS,WS,VS,KS,qS,YS,QS,ZS,XS,JS,$S,eC,tC,nC,rC,oC,aC,iC,cC,lC,sC,uC,fC,pC,dC,mC,yC,bC,hC,gC,vC,xC,wC,OC,EC,jC,kC,_C,SC,CC,PC,IC,TC,NC,RC,LC,AC,FC,BC,DC,MC,UC,zC,GC,HC,WC,VC,KC,qC,YC,QC,ZC,XC,JC,$C,eP,tP,nP,rP,oP,aP,iP,cP,lP,sP,uP,fP,pP,dP,mP,yP,bP,hP,gP,vP,xP,wP,OP,EP,jP,kP,_P,SP,CP,PP,IP,TP,NP,RP,LP,AP,FP,BP,DP,MP,UP,zP,GP,HP,WP,VP,KP,qP,YP,QP,ZP,XP,JP,$P,eI,tI,nI,rI,oI,aI,iI,cI,lI,sI,uI,fI,pI,dI,mI,yI,bI,hI,gI,vI,xI,wI,OI,EI,jI,kI,_I,SI,CI,PI,II,TI,NI,RI,LI,AI,FI,BI,DI,MI,UI,zI,GI,HI,WI,VI,KI,qI,YI,QI,ZI,XI,JI,$I,eT,tT,nT,rT,oT,aT,iT,cT,lT,sT,uT,fT,pT,dT,mT,yT,bT,hT,gT,vT,xT,wT,OT,ET,jT,kT,_T,ST,CT,PT,IT,TT,NT,RT,LT,AT,FT,BT,DT,MT,UT,zT,GT,HT,WT,VT,KT,qT,YT,QT,ZT,XT,JT,$T,eN,tN,nN,rN,oN,aN,iN,cN,lN,sN,uN,fN,pN,dN,mN,yN,bN,hN,gN,vN,xN,wN,ON,EN,jN,kN,_N,SN,CN,PN,IN,TN,NN,RN,LN,AN,FN,BN,DN,MN,UN,zN,GN,HN,WN,VN,KN,qN,YN,QN,ZN,XN,JN,$N,eR,tR,nR,rR,oR,aR,iR,cR,lR,sR,uR,fR,pR,dR,mR,yR,bR,hR,gR,vR,xR,wR,OR,ER,jR,kR,_R,SR,CR,PR,IR,TR,NR,RR,LR,AR,FR,BR,DR,MR,UR,zR,GR,HR,WR,VR,KR,qR,YR,QR,ZR,XR,JR,$R,eL,tL,nL,rL,oL,aL,iL,cL,lL,sL,uL,fL,pL,dL,mL,yL,bL,hL,gL,vL,xL,wL,OL,EL,jL,kL,_L,SL,CL,PL,IL,TL,NL,RL,LL,AL,FL,BL,DL,ML,UL,zL,GL,HL,WL,VL,KL,qL,YL,QL,ZL,XL,JL,$L,eA,tA,nA,rA,oA,aA,iA,cA,lA,sA,uA,fA,pA,dA,mA,yA,bA,hA,gA,vA,xA,wA,OA,EA,jA,kA,_A,SA,CA,PA,IA,TA,NA,RA,LA,AA,FA,BA,DA,MA,UA,zA,GA,HA,WA,VA,KA,qA,YA,QA,ZA,XA,JA,$A,eF,tF,nF,rF,oF,aF,iF,cF,lF,sF,uF,fF,pF,dF,mF,yF,bF,hF,gF,vF,xF,wF,OF,EF,jF,kF,_F,SF,CF,PF,IF,TF,NF,RF,LF,AF,FF,BF,DF,MF,UF,zF,GF,HF,WF,VF,KF,qF,YF,QF,ZF,XF,JF,$F,eB,tB,nB,rB,oB,aB,iB,cB,lB,sB,uB,fB,pB,dB,mB,yB,bB,hB,gB,vB,xB,wB,OB,EB,jB,kB,_B,SB,CB,PB,IB,TB,NB,RB,LB,AB,FB,BB,DB,MB,UB,zB,GB,HB,WB,VB,KB,qB,YB,QB,ZB,XB,JB,$B,eD,tD,nD,rD,oD,aD,iD,cD,lD,sD,uD,fD,pD,dD,mD,yD,bD,hD,gD,vD,xD,wD,OD,ED,jD,kD,_D,SD,CD,PD,ID,TD,ND,RD,LD,AD,FD,BD,DD,MD,UD,zD,GD,HD,WD,VD,KD,qD,YD,QD,ZD,XD,JD,$D,eM,tM,nM,rM,oM,aM,iM,cM,lM,sM,uM,fM,pM,dM,mM,yM,bM,hM,gM,vM,xM,wM,OM,EM,jM,kM,_M,SM,CM,PM,IM,TM,NM,RM,LM,AM,FM,BM,DM,MM,UM,zM,GM,HM,WM,VM,KM,qM,YM,QM,ZM,XM,JM,$M,eU,tU,nU,rU,oU,aU,iU,cU,lU,sU,uU,fU,pU,dU,mU,yU,bU,hU,gU,vU,xU,wU,OU,EU,jU,kU,_U,SU,CU,PU,IU,TU,NU,RU,LU,AU,FU,BU,DU,MU,UU,zU,GU,HU,WU,VU,KU,qU,YU,QU,ZU,XU,JU,$U,ez,tz,nz,rz,oz,az,iz,cz,lz,sz,uz,fz,pz,dz,mz,yz,bz,hz,gz,vz,xz,wz,Oz,Ez,jz,kz,_z,Sz,Cz,Pz,Iz,Tz,Nz,Rz,Lz,Az,Fz,Bz,Dz,Mz,Uz,zz,Gz,Hz,Wz,Vz,Kz,qz,Yz,Qz,Zz,Xz,Jz,$z,eG,tG,nG,rG,oG,aG,iG,cG,lG,sG,uG,fG,pG,dG,mG,yG,bG,hG,gG,vG,xG,wG,OG,EG,jG,kG,_G,SG,CG,PG,IG,TG,NG,RG,LG,AG,FG,BG,DG,MG,UG,zG,GG,HG,WG,VG,KG,qG,YG,QG,ZG,XG,JG,$G,eH,tH,nH,rH,oH,aH,iH,cH,lH,sH,uH){if("‮"===tH){var fH,pH=arguments;for(fH=oH;fH<nH;fH++)t(pH[fH])===aH&&(pH[fH]=pH[fH][iH](rH)[cH]()[lH](rH));for(fH=oH;fH<nH/uH;fH++){var dH=pH[fH];pH[fH]=pH[nH-fH-sH],pH[nH-fH-sH]=dH}var mH=[eH,$G,JG,XG,ZG,QG,YG,qG,KG,VG,WG,HG,GG,QG,YG,VG],yH=[zG,UG,QG,MG,DG,BG,FG,HG,AG,zG,JG,JG,LG,MG,RG,DG],bH=function(){return{toBytes:function(e){var t=[],n=IG;for(e=encodeURI(e);n<e[NG];){var r=e[yG](n++);r===mG?(t[dG](parseInt(e[pG](n,fG),uG)),n+=fG):t[dG](r)}return HH(t)},fromBytes:function(e){for(var t=[],n=IG;n<e[NG];){var r=e[n];r<sG?(t[dG](String[lG](r)),n++):r>cG&&r<iG?(t[dG](String[lG]((r&aG)<<oG|e[n+rG]&nG)),n+=fG):(t[dG](String[lG]((r&tG)<<eG|(e[n+rG]&nG)<<oG|e[n+fG]&nG)),n+=$z)}return t[Jz](Xz)}}}(),hH=function(){var e=Zz;return{toBytes:function(e){for(var t=[],n=IG;n<e[NG];n+=fG)t[dG](parseInt(e[pG](n,fG),uG));return t},fromBytes:function(t){for(var n=[],r=IG;r<t[NG];r++){var o=t[r];n[dG](e[(o&Qz)>>Yz]+e[o&tG])}return n[Jz](Xz)}}}(),gH={16:qz,24:eG,32:Kz},vH=[rG,fG,Yz,Vz,uG,Wz,Hz,sG,Gz,zz,XG,Uz,Mz,Dz,Bz,Fz,Az,Lz,Rz,Nz,Tz,Iz,Pz,Cz,Sz,_z,kz,jz,Ez,Oz],xH=[Rz,wz,xz,vz,gz,$G,hz,Ez,bz,rG,yz,mz,dz,pz,Mz,YG,fz,uz,sz,_z,kz,lz,zG,Qz,cz,Cz,iz,az,oz,rz,nz,tz,ez,$U,JU,XU,zz,nG,ZU,QU,GG,YU,qU,KU,VU,Uz,WU,HU,Yz,GU,zU,UU,MU,DU,BU,Bz,FU,AU,sG,LU,RU,NU,TU,IU,PU,CU,SU,_U,Gz,kU,jU,EU,VG,OU,wU,Sz,xU,vU,Fz,gU,hU,bU,IG,yU,Wz,mU,dU,pU,Pz,fU,uU,sU,lU,cU,RG,iU,aU,jz,oU,rU,HG,Dz,nU,tU,BG,eU,fG,$M,JM,XM,ZM,QM,UG,YM,Hz,qM,KM,VM,WM,HM,Lz,GM,zM,UM,uG,PG,MM,DM,BM,eG,FM,AM,LM,Tz,eH,RM,NM,TM,IM,PM,CM,SM,_M,kM,jM,EM,JG,OM,wM,xM,vM,gM,qG,hM,bM,yM,mM,Az,dM,pM,iG,FG,fM,qz,uM,oG,sM,lM,cM,iM,aM,oM,Oz,rM,nM,tM,eM,$D,WG,JD,XD,ZD,KG,QD,XG,AG,YD,qD,KD,VD,WD,Vz,HD,GD,mG,zD,UD,MD,DD,Nz,BD,FD,AD,aG,MG,LD,RD,ND,TD,ID,PD,CD,SD,$z,_D,Kz,kD,Iz,QG,jD,ED,OD,wD,xD,vD,gD,hD,bD,ZG,yD,mD,dD,pD,fD,uD,sD,lD,DG,cD,iD,aD,oD,rD,nD,cG,tD,LG,eD,$B,JB,XB,tG,ZB,QB,YB,qB],wH=[VG,PU,Pz,ZD,bz,zz,YU,WM,cG,Hz,YM,xD,EM,MM,pz,rU,wz,vU,sU,uz,pD,Fz,PG,uD,GG,mD,HG,eH,NM,mM,sD,fU,QB,vz,dD,FG,MD,cM,zU,PM,hM,cU,rM,dM,LG,kz,UU,KG,Vz,zD,oD,CD,cD,yD,sM,TU,YG,pU,iz,uM,JD,RD,bU,mG,nz,gD,_D,CM,ED,eD,hD,qB,Cz,rz,lM,QU,SM,KD,GM,KM,XG,TD,SD,JM,$U,yU,jD,zM,Az,HU,qG,QG,TM,XD,VM,gU,vM,Uz,Mz,IG,aD,Lz,iM,qz,ZU,nM,RG,BU,bM,Sz,BG,oG,aU,SU,fD,qM,fz,nG,tG,fG,OD,az,LD,$z,rG,FM,ND,$G,fM,Oz,bD,$B,JG,yz,OM,qD,Tz,gz,iU,lD,Qz,DD,tD,kM,DU,aM,AD,wM,eM,cz,Iz,tU,LU,eU,WG,BD,UD,IU,iD,kU,zG,KU,_U,VU,wD,xU,Ez,rD,hz,ez,oM,Kz,oU,MU,uU,Gz,mU,AG,ID,MG,Nz,DM,tM,Wz,Bz,pM,tz,dz,GD,BM,jU,YD,aG,FD,QM,nU,gM,FU,GU,WU,dU,AU,uG,lz,NU,sG,AM,LM,jM,UG,$M,QD,_M,PD,lU,nD,XB,qU,VD,ZM,JU,sz,oz,jz,EU,iG,OU,Dz,WD,xM,HM,ZB,$D,RU,YB,XM,CU,hU,JB,kD,RM,mz,Yz,IM,HD,xz,wU,XU,vD,ZG,yM,Rz,DG,UM,eG,_z],OH=[KB,VB,WB,HB,GB,zB,UB,MB,DB,BB,FB,AB,LB,RB,NB,TB,IB,PB,CB,SB,_B,kB,jB,EB,OB,wB,xB,vB,gB,hB,bB,yB,mB,dB,pB,fB,uB,sB,lB,cB,iB,aB,oB,rB,nB,tB,eB,$F,JF,XF,ZF,QF,YF,qF,KF,VF,WF,HF,GF,zF,UF,MF,DF,BF,FF,AF,LF,RF,NF,TF,IF,PF,CF,SF,_F,kF,jF,EF,OF,wF,xF,vF,IG,gF,hF,bF,yF,mF,dF,pF,fF,uF,sF,lF,cF,iF,aF,oF,rF,nF,tF,eF,$A,JA,XA,ZA,QA,YA,qA,KA,VA,WA,HA,GA,zA,UA,MA,DA,BA,FA,AA,LA,RA,NA,TA,IA,PA,CA,SA,_A,kA,jA,EA,OA,wA,xA,vA,gA,hA,bA,yA,mA,dA,pA,fA,uA,sA,lA,cA,iA,aA,oA,rA,nA,tA,eA,$L,JL,XL,ZL,QL,YL,qL,KL,VL,WL,HL,GL,zL,UL,ML,DL,BL,FL,AL,LL,RL,NL,TL,IL,PL,CL,SL,_L,kL,jL,EL,OL,wL,xL,vL,gL,hL,bL,yL,mL,dL,pL,fL,uL,sL,lL,cL,iL,aL,oL,rL,nL,tL,eL,$R,JR,XR,ZR,QR,YR,qR,KR,VR,WR,HR,GR,zR,UR,MR,DR,BR,FR,AR,LR,RR,NR,TR,IR,PR,CR,SR,_R,kR,jR,ER,OR,wR,xR,vR,gR,hR,bR,yR,mR,dR,pR,fR,uR,sR,lR],EH=[cR,iR,aR,oR,rR,nR,tR,eR,$N,JN,XN,ZN,QN,YN,qN,KN,VN,WN,HN,GN,zN,UN,MN,DN,BN,FN,AN,LN,RN,NN,TN,IN,PN,CN,SN,_N,kN,jN,EN,ON,wN,xN,vN,gN,hN,bN,yN,mN,dN,pN,fN,uN,sN,lN,cN,iN,aN,oN,rN,nN,tN,eN,$T,JT,XT,ZT,QT,YT,qT,KT,VT,WT,HT,GT,zT,UT,MT,DT,BT,FT,AT,LT,IG,RT,NT,TT,IT,PT,CT,ST,_T,kT,jT,ET,OT,wT,xT,vT,gT,hT,bT,yT,mT,dT,pT,fT,uT,sT,lT,cT,iT,aT,oT,rT,nT,tT,eT,$I,JI,XI,ZI,QI,YI,qI,KI,VI,WI,HI,GI,zI,UI,MI,DI,BI,FI,AI,LI,RI,NI,TI,II,PI,CI,SI,_I,kI,jI,EI,OI,wI,xI,vI,gI,hI,bI,yI,mI,dI,pI,fI,uI,sI,lI,cI,iI,aI,oI,rI,nI,tI,eI,$P,JP,XP,ZP,QP,YP,qP,KP,VP,WP,HP,GP,zP,UP,MP,DP,BP,FP,AP,LP,RP,NP,TP,IP,PP,CP,SP,_P,kP,jP,EP,OP,wP,xP,vP,gP,hP,bP,yP,mP,dP,pP,fP,uP,sP,lP,cP,iP,aP,oP,rP,nP,tP,eP,$C,JC,XC,ZC,QC,YC,qC,KC,VC,WC,HC,GC,zC,UC,MC,DC,BC,FC,AC,LC,RC,NC,TC,IC,PC,CC,SC,_C,kC,jC,EC],jH=[OC,wC,xC,vC,gC,hC,bC,yC,mC,dC,pC,fC,uC,sC,lC,cC,iC,aC,oC,rC,nC,tC,eC,$S,JS,XS,ZS,QS,YS,qS,KS,VS,WS,HS,GS,zS,US,MS,DS,BS,FS,AS,LS,RS,NS,TS,IS,PS,CS,SS,_S,kS,jS,ES,OS,wS,xS,vS,gS,hS,bS,yS,mS,dS,pS,fS,uS,sS,lS,cS,iS,aS,oS,rS,nS,tS,eS,$_,J_,X_,Z_,Q_,IG,Y_,q_,K_,V_,W_,H_,G_,z_,U_,M_,D_,B_,F_,A_,L_,R_,N_,T_,I_,P_,C_,S_,__,k_,j_,E_,O_,w_,x_,v_,g_,h_,b_,y_,m_,d_,p_,f_,u_,s_,l_,c_,i_,a_,o_,r_,n_,t_,e_,$k,Jk,Xk,Zk,Qk,Yk,qk,Kk,Vk,Wk,Hk,Gk,zk,Uk,Mk,Dk,Bk,Fk,Ak,Lk,Rk,Nk,Tk,Ik,Pk,Ck,Sk,_k,kk,jk,Ek,Ok,wk,xk,vk,gk,hk,bk,yk,mk,dk,pk,fk,uk,sk,lk,ck,ik,ak,ok,rk,nk,tk,ek,$j,Jj,Xj,Zj,Qj,Yj,qj,Kj,Vj,Wj,Hj,Gj,zj,Uj,Mj,Dj,Bj,Fj,Aj,Lj,Rj,Nj,Tj,Ij,Pj,Cj,Sj,_j,kj,jj,Ej,Oj,wj,xj,vj,gj,hj,bj,yj,mj,dj,pj,fj,uj,sj,lj,cj,ij,aj,oj,rj,nj,tj,ej,$E,JE,XE,ZE,QE,YE,qE,KE,VE,WE,HE,GE,zE,UE,ME,DE],kH=[BE,FE,AE,LE,RE,NE,TE,IE,PE,CE,SE,_E,kE,jE,EE,OE,wE,xE,vE,gE,hE,bE,yE,mE,dE,pE,fE,uE,sE,lE,cE,iE,aE,oE,rE,nE,tE,eE,$O,JO,XO,ZO,QO,YO,qO,KO,VO,WO,HO,GO,zO,UO,MO,DO,BO,FO,AO,LO,RO,NO,TO,IO,PO,CO,SO,_O,kO,jO,EO,OO,wO,xO,vO,gO,hO,bO,yO,mO,dO,pO,fO,uO,IG,sO,lO,cO,iO,aO,oO,rO,nO,tO,eO,$w,Jw,Xw,Zw,Qw,Yw,qw,Kw,Vw,Ww,Hw,Gw,zw,Uw,Mw,Dw,Bw,Fw,Aw,Lw,Rw,Nw,Tw,Iw,Pw,Cw,Sw,_w,kw,jw,Ew,Ow,ww,xw,vw,gw,hw,bw,yw,mw,dw,pw,fw,uw,sw,lw,cw,iw,aw,ow,rw,nw,tw,ew,$x,Jx,Xx,Zx,Qx,Yx,qx,Kx,Vx,Wx,Hx,Gx,zx,Ux,Mx,Dx,Bx,Fx,Ax,Lx,Rx,Nx,Tx,Ix,Px,Cx,Sx,_x,kx,jx,Ex,Ox,wx,xx,vx,gx,hx,bx,yx,mx,dx,px,fx,ux,sx,lx,cx,ix,ax,ox,rx,nx,tx,ex,$v,Jv,Xv,Zv,Qv,Yv,qv,Kv,Vv,Wv,Hv,Gv,zv,Uv,Mv,Dv,Bv,Fv,Av,Lv,Rv,Nv,Tv,Iv,Pv,Cv,Sv,_v,kv,jv,Ev,Ov,wv,xv,vv,gv,hv,bv,yv,mv,dv,pv,fv,uv,sv,lv,cv,iv,av,ov,rv,nv,tv,ev,$g],_H=[Jg,Xg,Zg,Qg,Yg,qg,Kg,Vg,Wg,Hg,Gg,zg,Ug,Mg,Dg,Bg,Fg,Ag,Lg,Rg,Ng,Tg,Ig,Pg,Cg,Sg,_g,kg,jg,Eg,Og,wg,xg,vg,gg,hg,bg,yg,mg,dg,pg,fg,ug,sg,lg,cg,ig,ag,og,rg,ng,tg,eg,$h,Jh,Xh,Zh,Qh,Yh,qh,Kh,Vh,Wh,Hh,Gh,zh,Uh,Mh,Dh,Bh,Fh,Ah,Lh,Rh,Nh,Th,Ih,Ph,Ch,Sh,_h,kh,jh,Eh,Oh,wh,xh,vh,gh,hh,bh,yh,mh,dh,ph,fh,uh,sh,lh,IG,ch,ih,ah,oh,rh,nh,th,eh,$b,Jb,Xb,Zb,Qb,Yb,qb,Kb,Vb,Wb,Hb,Gb,zb,Ub,Mb,Db,Bb,Fb,Ab,Lb,Rb,Nb,Tb,Ib,Pb,Cb,Sb,_b,kb,jb,Eb,Ob,wb,xb,vb,gb,hb,bb,yb,mb,db,pb,fb,ub,sb,lb,cb,ib,ab,ob,rb,nb,tb,eb,$y,Jy,Xy,Zy,Qy,Yy,qy,Ky,Vy,Wy,Hy,Gy,zy,Uy,My,Dy,By,Fy,Ay,Ly,Ry,Ny,Ty,Iy,Py,Cy,Sy,_y,ky,jy,Ey,Oy,wy,xy,vy,gy,hy,by,yy,my,dy,py,fy,uy,sy,ly,cy,iy,ay,oy,ry,ny,ty,ey,$m,Jm,Xm,Zm,Qm,Ym,qm,Km,Vm,Wm,Hm,Gm,zm,Um,Mm,Dm,Bm,Fm,Am,Lm,Rm,Nm,Tm,Im,Pm,Cm,Sm,_m,km,jm,Em,Om,wm,xm,vm,gm,hm,bm,ym,mm],SH=[dm,pm,fm,um,sm,lm,cm,im,am,om,rm,nm,tm,em,$d,Jd,Xd,Zd,Qd,Yd,qd,Kd,Vd,Wd,Hd,Gd,zd,Ud,Md,Dd,Bd,Fd,Ad,Ld,Rd,Nd,Td,Id,Pd,Cd,Sd,_d,kd,jd,Ed,Od,wd,xd,vd,gd,hd,bd,yd,md,dd,pd,fd,ud,sd,ld,cd,id,ad,od,rd,nd,td,ed,$p,Jp,Xp,Zp,Qp,Yp,qp,Kp,Vp,Wp,Hp,Gp,zp,Up,Mp,Dp,Bp,Fp,Ap,Lp,Rp,Np,Tp,Ip,Pp,Cp,Sp,_p,kp,jp,Ep,IG,Op,wp,xp,vp,gp,hp,bp,yp,mp,dp,pp,fp,up,sp,lp,cp,ip,ap,op,rp,np,tp,ep,$f,Jf,Xf,Zf,Qf,Yf,qf,Kf,Vf,Wf,Hf,Gf,zf,Uf,Mf,Df,Bf,Ff,Af,Lf,Rf,Nf,Tf,If,Pf,Cf,Sf,_f,kf,jf,Ef,Of,wf,xf,vf,gf,hf,bf,yf,mf,df,pf,ff,uf,sf,lf,cf,af,of,rf,nf,tf,ef,$u,Ju,Xu,Zu,Qu,Yu,qu,Ku,Vu,Wu,Hu,Gu,zu,Uu,Mu,Du,Bu,Fu,Au,Lu,Ru,Nu,Tu,Iu,Pu,Cu,Su,_u,ku,ju,Eu,Ou,wu,xu,vu,gu,hu,bu,yu,mu,du,pu,fu,uu,su,lu,cu,iu,au,ou,ru,nu,tu,eu,$s,Js,Xs,Zs,Qs,Ys,qs,Ks,Vs,Ws,Hs,Gs,zs,Us,Ms,Ds,Bs,Fs,As,Ls,Rs,Ns,Ts,Is,Ps,Cs],CH=[Ss,_s,ks,js,Es,Os,ws,xs,vs,gs,hs,bs,ys,ms,ds,ps,fs,us,ss,ls,cs,is,as,os,rs,ns,ts,es,$l,Jl,Xl,Zl,Ql,Yl,ql,Kl,Vl,Wl,Hl,Gl,zl,Ul,Ml,Dl,Bl,Fl,Al,Ll,Rl,Nl,Tl,Il,Pl,Cl,Sl,_l,kl,jl,El,Ol,wl,xl,vl,gl,hl,bl,yl,ml,dl,pl,fl,ul,sl,ll,cl,il,al,ol,rl,nl,tl,el,$c,Jc,Xc,Zc,Qc,Yc,qc,Kc,Vc,Wc,Hc,Gc,zc,Uc,Mc,Dc,Bc,IG,Fc,Ac,Lc,Rc,Nc,Tc,Ic,Pc,Cc,Sc,_c,kc,jc,Ec,Oc,wc,xc,vc,gc,hc,bc,yc,mc,dc,pc,fc,uc,sc,lc,cc,ic,ac,oc,rc,nc,tc,ec,$i,Ji,Xi,Zi,Qi,Yi,qi,Ki,Vi,Wi,Hi,Gi,zi,Ui,Mi,Di,Bi,Fi,Ai,Li,Ri,Ni,Ti,Ii,Pi,Ci,Si,_i,ki,ji,Ei,Oi,wi,xi,vi,gi,hi,bi,yi,mi,di,pi,fi,ui,si,li,ci,ii,ai,oi,ri,ni,ti,ei,$a,Ja,Xa,Za,Qa,Ya,qa,Ka,Va,Wa,Ha,Ga,za,Ua,Ma,Da,Ba,Fa,Aa,La,Ra,Na,Ta,Ia,Pa,Ca,Sa,_a,ka,ja,Ea,Oa,wa,xa,va,ga,ha,ba,ya,ma,da,pa,fa,ua,sa,la,ca,ia,aa,oa,ra,na,ta,ea,$o,Jo,Xo,Zo,Qo,Yo,qo,Ko,Vo,Wo,Ho],PH=[Go,zo,Uo,Mo,Do,Bo,Fo,Ao,Lo,Ro,No,To,Io,Po,Co,So,_o,ko,jo,Eo,Oo,wo,xo,vo,go,ho,bo,yo,mo,po,fo,uo,so,lo,co,io,ao,oo,ro,no,to,eo,$r,Jr,Xr,Zr,Qr,Yr,qr,Kr,Vr,Wr,Hr,Gr,zr,Ur,Mr,Dr,Br,Fr,Ar,Lr,Rr,Nr,Tr,Ir,Pr,Cr,Sr,_r,kr,jr,Er,Or,wr,xr,vr,gr,hr,br,yr,mr,dr,pr,fr,ur,sr,lr,cr,ir,ar,or,rr,nr,tr,er,$n,Jn,Xn,IG,Zn,Qn,Yn,qn,Kn,Vn,Wn,Hn,Gn,zn,Un,Mn,Dn,Bn,Fn,An,Ln,Rn,Nn,Tn,In,Pn,Cn,Sn,_n,kn,jn,En,On,wn,xn,vn,gn,hn,bn,yn,mn,dn,pn,fn,un,sn,ln,cn,an,on,rn,nn,tn,en,$t,Jt,Xt,Zt,Qt,Yt,qt,Kt,Vt,Wt,Ht,Gt,zt,Ut,Mt,Dt,Bt,Ft,At,Lt,Rt,Nt,Tt,It,Pt,Ct,St,_t,kt,jt,Et,Ot,wt,xt,vt,gt,ht,bt,yt,mt,dt,pt,ft,ut,st,lt,ct,it,at,ot,rt,nt,tt,et,$e,Je,Xe,Ze,Qe,Ye,qe,Ke,Ve,We,He,Ge,ze,Ue,Me,De,Be,Fe,Ae,Le,Re,Ne,Te,Ie,Pe,Ce,Se,_e,ke,je,Ee,Oe,we,xe,ve,ge,he,be,ye,me,de,pe,fe,ue,se,le,ce,ie,ae,oe,re,ne],IH=[IG,Bb,Gb,Db,Sm,eh,Zb,gy,og,Xg,oh,sg,ym,ey,Wy,Hb,dy,Tb,my,Fb,vm,hh,Ah,Pm,Gy,ry,$y,Uy,ab,Xy,qb,Ey,Ny,bm,mb,mg,Jh,Hh,Om,fy,eg,Zy,Um,Cm,Yb,$m,rg,Tg,Yg,by,hg,xy,Cg,fb,qg,cb,Vg,Lg,Rb,Hm,Lm,dg,By,Wb,Hg,Ib,lg,_g,kg,Xb,bh,tb,jh,qh,ty,Fy,fg,Gm,ag,Pb,Eh,iy,Jg,Nm,xg,hm,Dy,yh,th,py,ky,Qh,Nh,Ih,gh,ly,cy,Im,Vy,gm,Mh,Ph,tg,Cb,Bh,xm,Zg,Lb,_h,Kh,nb,qy,kh,Jy,Gh,gb,yb,ob,Zh,jm,Sy,Ry,Xm,vg,Fg,mm,_m,ay,uy,Ug,Rg,Rm,fh,ub,Dh,Pg,vy,Yy,Ab,Vh,ch,dh,Sg,Kb,uh,Nb,Sh,Qm,gg,ug,hb,kb,Fh,Tm,Ty,Ng,qm,ph,zg,Zm,Vm,ng,Yh,Gg,Rh,Kg,bg,mh,wy,oy,Hy,lh,bb,pb,zm,Ub,Dm,yy,Xh,Jb,xb,ny,Ch,Ky,$b,xh,km,Am,ih,Mb,zy,Wg,Py,zb,yg,ig,jg,Qy,Ay,hy,Bm,Ym,Vb,wg,Th,_y,Ob,Eb,Qb,Wh,Ly,ah,Lh,Qg,Em,Dg,sh,$h,vh,Iy,Sb,Oy,Eg,rb,Wm,wm,sb,Ag,nh,Jm,vb,db,ib,Og,_b,Fm,sy,wh,pg,Km,wb,eb,jb,Mg,jy,Mm,Uh,rh,zh,lb,cg,Bg,My,Oh,Cy,Ig],TH=[IG,Jf,rp,$f,zs,yp,fp,Nu,vd,pm,vp,jd,Ps,mu,of,op,Su,Kf,Cu,Xf,Rs,Np,Zp,Hs,nf,hu,mf,ef,xf,pf,lp,Bu,Ku,Is,Pf,Pd,dd,od,Fs,ku,yd,ff,eu,Gs,sp,du,gd,Kd,sm,Iu,Nd,Lu,Hd,_f,lm,Of,im,Qd,Yf,ru,Ys,Cd,Xu,ap,om,Vf,Ed,zd,Ud,pp,Tp,bf,Mp,ld,yu,Zu,_d,nu,xd,Wf,Dp,xu,dm,Ks,Ad,Ts,Ju,Ip,bp,_u,Mu,ud,qp,Vp,Rp,Ou,wu,Ws,af,Ns,ed,Wp,bd,Hf,Jp,Ls,fm,Qf,zp,cd,hf,lf,Up,df,rd,Rf,If,vf,fd,Ds,zu,qu,fu,Ld,Xd,Cs,Us,vu,ju,tm,Yd,qs,_p,kf,$p,Wd,Ru,sf,Zf,id,Op,Cp,Gd,cp,kp,qf,Gp,su,Rd,kd,Nf,Uf,Xp,Vs,Vu,qd,cu,Sp,nm,uu,au,hd,sd,rm,Yp,cm,Td,Pp,Au,gu,rf,Ep,Tf,Sf,tu,tp,Js,Pu,pd,dp,Af,bu,Hp,cf,mp,Ap,Ms,Qs,wp,ep,tf,am,Hu,np,Id,wd,Md,uf,Qu,Tu,Xs,lu,ip,Fd,Kp,Uu,Bf,Df,up,ad,Yu,xp,Qp,um,Bs,$d,jp,md,Lp,Wu,Gf,Fu,Dd,gf,ou,As,jf,Zd,hp,pu,Lf,Cf,wf,Bd,zf,Zs,Eu,Fp,Sd,iu,Ff,yf,Mf,em,Du,$s,td,gp,nd,Ef,Od,Jd,$u,Bp,Gu,Vd],NH=[IG,pc,hc,dc,na,Pc,kc,qa,Rl,_s,Rc,Dl,Wo,Pa,vi,gc,Ga,ic,Ha,fc,Yo,Kc,ul,oa,hi,Na,Ci,yi,Li,_i,Oc,Ja,ci,Vo,Hi,Hl,Sl,gl,Xo,Ua,Pl,ki,ya,ra,Ec,Ca,Nl,is,Es,Va,Kl,Qa,rs,Ui,Os,Fi,xs,ss,lc,ga,sa,Gl,pi,vc,gs,ac,Bl,ts,es,_c,Vc,Ii,$c,Ol,Ia,fi,Ul,ha,Ll,oc,Jc,Aa,Ss,ca,Ql,Ko,di,Wc,Ic,za,ei,jl,cl,al,qc,Ba,Fa,aa,xi,qo,ml,ol,Il,rc,pl,Qo,ks,sc,tl,wl,Ti,Oi,el,Si,hl,qi,Wi,Ri,kl,$o,ni,li,_a,Yl,fs,Ho,ta,La,Ma,ys,ls,la,Uc,Mi,dl,os,Ya,Ei,uc,xl,Fc,Gc,ns,wc,Mc,cc,nl,ja,ql,Ml,Ki,ec,fl,ia,ii,cs,Oa,zc,bs,ka,xa,Tl,El,hs,ll,ws,Vl,Hc,Za,Ra,gi,Bc,Vi,zi,ba,yc,da,Wa,_l,Sc,Qi,Ta,rl,wi,Cc,Qc,ea,ua,Ac,mc,bi,vs,oi,bc,Wl,Al,$l,ji,ui,Ka,pa,Ea,xc,Zl,il,ti,Xi,Ji,jc,vl,si,Lc,sl,js,Jo,ds,Dc,Cl,Yc,ai,nc,Xa,Jl,Ni,va,Zo,Di,us,Tc,Sa,Yi,Gi,Ai,Xl,tc,fa,Da,Zc,zl,wa,Zi,Pi,$i,ms,$a,ma,yl,Nc,bl,Bi,Fl,ps,mi,Xc,ri,as],RH=[IG,_n,Tn,Sn,ye,Hn,Mn,it,qr,zo,qn,Jr,re,Ge,Nt,Nn,tt,xn,nt,kn,ce,ir,jr,he,It,Ve,zt,Ct,qt,Mt,Fn,ft,xt,oe,nn,ro,zr,Nr,ue,$e,Hr,Dt,Ce,be,Bn,ze,Kr,wo,Do,ot,io,lt,go,$t,Bo,Qt,Ao,jo,On,Te,Oe,no,kt,Rn,Ro,vn,Xr,bo,yo,Un,ar,Ht,dr,Fr,He,jt,eo,Ie,Yr,gn,pr,Ye,Go,xe,so,ae,_t,or,Wn,et,dt,Dr,wr,vr,cr,Ze,Qe,ge,Rt,ie,Cr,gr,Wr,hn,_r,le,Uo,En,yr,Ar,Wt,At,mr,Ut,Tr,cn,rn,Kt,Mr,pe,yt,wt,Me,lo,_o,ne,me,qe,Je,Io,Eo,we,er,Jt,Sr,vo,ct,Ft,jn,Lr,Zn,nr,ho,An,$n,wn,br,Be,co,$r,an,mn,kr,ve,vt,Oo,Ae,tr,To,De,Re,Vr,Br,No,Or,Fo,ao,rr,st,Ke,Tt,Xn,on,en,Pe,Pn,_e,rt,Ur,zn,sn,We,hr,Lt,Gn,sr,de,Ee,Qn,Cn,Pt,Lo,ht,In,oo,Qr,mo,Bt,Et,at,ke,Fe,Ln,uo,xr,mt,fn,pn,Dn,Rr,Ot,Yn,Er,Mo,fe,Co,Jn,Gr,lr,gt,bn,ut,po,Vt,Ne,se,Xt,ko,Vn,Ue,ln,tn,Yt,fo,yn,je,Xe,ur,to,Le,un,Gt,dn,Po,pt,Se,Pr,Kn,Ir,Zt,Zr,So,St,fr,bt,xo],LH=function e(t){if(!(this instanceof e))throw Error(te);Object[ee](this,$,{value:HH(t,CG)}),this[J]()};LH[wG][J]=function(){var e=gH[this[$][NG]];if(e==hG)throw new Error(X);this[Z]=[],this[Q]=[];for(var t=IG;t<=e;t++)this[Z][dG]([IG,IG,IG,IG]),this[Q][dG]([IG,IG,IG,IG]);var n,r=(e+rG)*Yz,o=this[$][NG]/Yz,a=KH(this[$]);for(t=IG;t<o;t++)n=t>>fG,this[Z][n][t%Yz]=a[t],this[Q][e-n][t%Yz]=a[t];for(var i,c=IG,l=o;l<r;){if(i=a[o-rG],a[IG]^=xH[i>>uG&PG]<<MU^xH[i>>Vz&PG]<<uG^xH[i&PG]<<Vz^xH[i>>MU&PG]^vH[c]<<MU,c+=rG,o!=Vz)for(t=rG;t<o;t++)a[t]^=a[t-rG];else{for(t=rG;t<o/fG;t++)a[t]^=a[t-rG];i=a[o/fG-rG],a[o/fG]^=xH[i&PG]^xH[i>>Vz&PG]<<Vz^xH[i>>uG&PG]<<uG^xH[i>>MU&PG]<<MU;for(t=o/fG+rG;t<o;t++)a[t]^=a[t-rG]}for(t=IG;t<o&&l<r;)s=l>>fG,u=l%Yz,this[Z][s][u]=a[t],this[Q][e-s][u]=a[t++],l++}for(var s=rG;s<e;s++)for(var u=IG;u<Yz;u++)i=this[Q][s][u],this[Q][s][u]=IH[i>>MU&PG]^TH[i>>uG&PG]^NH[i>>Vz&PG]^RH[i&PG]},LH[wG][Y]=function(e){if(e[NG]!=uG)throw new Error(q);for(var t=this[Z][NG]-rG,n=[IG,IG,IG,IG],r=KH(e),o=IG;o<Yz;o++)r[o]^=this[Z][IG][o];for(var a=rG;a<t;a++){for(o=IG;o<Yz;o++)n[o]=OH[r[o]>>MU&PG]^EH[r[(o+rG)%Yz]>>uG&PG]^jH[r[(o+fG)%Yz]>>Vz&PG]^kH[r[(o+$z)%Yz]&PG]^this[Z][a][o];r=n[EG]()}var i,c=WH(uG);for(o=IG;o<Yz;o++)i=this[Z][t][o],c[Yz*o]=(xH[r[o]>>MU&PG]^i>>MU)&PG,c[Yz*o+rG]=(xH[r[(o+rG)%Yz]>>uG&PG]^i>>uG)&PG,c[Yz*o+fG]=(xH[r[(o+fG)%Yz]>>Vz&PG]^i>>Vz)&PG,c[Yz*o+$z]=(xH[r[(o+$z)%Yz]&PG]^i)&PG;return c},LH[wG][K]=function(e){if(e[NG]!=uG)throw new Error(V);for(var t=this[Q][NG]-rG,n=[IG,IG,IG,IG],r=KH(e),o=IG;o<Yz;o++)r[o]^=this[Q][IG][o];for(var a=rG;a<t;a++){for(o=IG;o<Yz;o++)n[o]=_H[r[o]>>MU&PG]^SH[r[(o+$z)%Yz]>>uG&PG]^CH[r[(o+fG)%Yz]>>Vz&PG]^PH[r[(o+rG)%Yz]&PG]^this[Q][a][o];r=n[EG]()}var i,c=WH(uG);for(o=IG;o<Yz;o++)i=this[Q][t][o],c[Yz*o]=(wH[r[o]>>MU&PG]^i>>MU)&PG,c[Yz*o+rG]=(wH[r[(o+$z)%Yz]>>uG&PG]^i>>uG)&PG,c[Yz*o+fG]=(wH[r[(o+fG)%Yz]>>Vz&PG]^i>>Vz)&PG,c[Yz*o+$z]=(wH[r[(o+rG)%Yz]&PG]^i)&PG;return c};var AH=function e(t){if(!(this instanceof e))throw Error(te);this[W]=H,this[kG]=G,this[z]=new LH(t)};AH[wG][Y]=function(e){if((e=HH(e))[NG]%uG!==IG)throw new Error(U);for(var t=WH(e[NG]),n=WH(uG),r=IG;r<e[NG];r+=uG)VH(e,n,IG,r,r+uG),VH(n=this[z][Y](n),t,r);return t},AH[wG][K]=function(e){if((e=HH(e))[NG]%uG!==IG)throw new Error(M);for(var t=WH(e[NG]),n=WH(uG),r=IG;r<e[NG];r+=uG)VH(e,n,IG,r,r+uG),VH(n=this[z][K](n),t,r);return t};var FH=function e(t,n){if(!(this instanceof e))throw Error(te);if(this[W]=D,this[kG]=B,n){if(n[NG]!=uG)throw new Error(F)}else n=WH(uG);this[A]=HH(n,CG),this[z]=new LH(t)};FH[wG][Y]=function(e){if((e=HH(e))[NG]%uG!==IG)throw new Error(U);for(var t=WH(e[NG]),n=WH(uG),r=IG;r<e[NG];r+=uG){VH(e,n,IG,r,r+uG);for(var o=IG;o<uG;o++)n[o]^=this[A][o];this[A]=this[z][Y](n),VH(this[A],t,r)}return t},FH[wG][K]=function(e){if((e=HH(e))[NG]%uG!==IG)throw new Error(M);for(var t=WH(e[NG]),n=WH(uG),r=IG;r<e[NG];r+=uG){VH(e,n,IG,r,r+uG),n=this[z][K](n);for(var o=IG;o<uG;o++)t[r+o]=n[o]^this[A][o];VH(e,this[A],IG,r,r+uG)}return t};var BH=function e(t,n,r){if(!(this instanceof e))throw Error(te);if(this[W]=L,this[kG]=R,n){if(n[NG]!=uG)throw new Error(N)}else n=WH(uG);r||(r=rG),this[T]=r,this[I]=HH(n,CG),this[z]=new LH(t)};BH[wG][Y]=function(e){if(e[NG]%this[T]!=IG)throw new Error(P);for(var t,n=HH(e,CG),r=IG;r<n[NG];r+=this[T]){t=this[z][Y](this[I]);for(var o=IG;o<this[T];o++)n[r+o]^=t[o];VH(this[I],this[I],IG,this[T]),VH(n,this[I],uG-this[T],r,r+this[T])}return n},BH[wG][K]=function(e){if(e[NG]%this[T]!=IG)throw new Error(C);for(var t,n=HH(e,CG),r=IG;r<n[NG];r+=this[T]){t=this[z][Y](this[I]);for(var o=IG;o<this[T];o++)n[r+o]^=t[o];VH(this[I],this[I],IG,this[T]),VH(e,this[I],uG-this[T],r,r+this[T])}return n};var DH=function e(t,n){if(!(this instanceof e))throw Error(te);if(this[W]=S,this[kG]=_,n){if(n[NG]!=uG)throw new Error(F)}else n=WH(uG);this[k]=HH(n,CG),this[j]=uG,this[z]=new LH(t)};DH[wG][Y]=function(e){for(var t=HH(e,CG),n=IG;n<t[NG];n++)this[j]===uG&&(this[k]=this[z][Y](this[k]),this[j]=IG),t[n]^=this[k][this[j]++];return t},DH[wG][K]=DH[wG][Y];var MH=function e(n){if(!(this instanceof e))throw Error(E);n===IG||n||(n=rG),t(n)===O?(this[w]=WH(uG),this[x](n)):this[v](n)};MH[wG][x]=function(e){if(t(e)!==O||parseInt(e)!=e)throw new Error(g);if(e>Number[h])throw new Error(b);for(var n=tG;n>=IG;--n)this[w][n]=e%y,e=parseInt(e/y)},MH[wG][v]=function(e){if((e=HH(e,CG))[NG]!=uG)throw new Error(m);this[w]=e},MH[wG][d]=function(){for(var e=tG;e>=IG;e--){if(this[w][e]!==PG){this[w][e]++;break}this[w][e]=IG}};var UH=function e(t,n){if(!(this instanceof e))throw Error(te);this[W]=p,this[kG]=f,n instanceof MH||(n=new MH(n)),this[w]=n,this[u]=hG,this[s]=uG,this[z]=new LH(t)};UH[wG][Y]=function(e){for(var t=HH(e,CG),n=IG;n<t[NG];n++)this[s]===uG&&(this[u]=this[z][Y](this[w][w]),this[s]=IG,this[w][d]()),t[n]^=this[u][this[s]++];return t},UH[wG][K]=UH[wG][Y],e[n]=function(e,t,n){var i=[e,t,n][Jz](a),c=bH[o](i),l=new BH(mH,yH)[Y](c);return hH[r](l)}}function zH(e){return parseInt(e)===e}function GH(e){if(!zH(e[NG]))return TG;for(var t=IG;t<e[NG];t++)if(!zH(e[t])||e[t]<IG||e[t]>PG)return TG;return CG}function HH(e,t){if(e[SG]&&ArrayBuffer[_G](e)&&e[kG]===jG)return t&&(e=e[EG]?e[EG]():Array[wG][EG][OG](e)),e;if(Array[xG](e)){if(!GH(e))throw new Error(vG+e);return new Uint8Array(e)}if(zH(e[NG])&&GH(e))return new Uint8Array(e);throw new Error(gG)}function WH(e){return new Uint8Array(e)}function VH(e,t,n,r,o){r==hG&&o==hG||(e=e[EG]?e[EG](r,o):Array[wG][EG][OG](e,r,o)),t[bG](e,n)}function KH(e){for(var t=[],n=IG;n<e[NG];n+=Yz)t[dG](e[n]<<MU|e[n+rG]<<uG|e[n+fG]<<Vz|e[n+$z]);return t}}(68,107,79,108,105,87,118,70,78,82,55,67,52,71,81,75,85,69,50,86,66,88,"htgnel",!1,0,255,!0,"reffub","weiVsi","eman","yarrA8tniU","ecils","llac","epytotorp","yarrAsi"," :eulav dilavni sniatnoc yarrA","tcejbo ekil-yarra detroppusnu",null,"tes","tAedoCrahc",37,"hsup","rtsbus",2,16,128,"edoCrahCmorf",191,224,31,6,1,63,15,12,3,"nioj","","fedcba9876543210",240,4,10,14,8,32,64,27,54,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,124,119,123,242,111,48,103,43,254,215,202,130,201,89,173,162,175,156,164,114,192,183,253,147,38,247,204,165,229,241,113,49,21,199,35,195,24,150,5,7,18,226,235,39,178,117,9,131,44,26,110,90,160,59,214,41,227,132,83,209,237,252,177,91,203,190,57,74,76,207,208,170,251,51,133,249,127,80,60,159,168,163,143,146,157,56,245,182,218,33,243,210,205,19,236,95,23,196,167,126,61,100,93,25,115,96,129,220,34,42,144,136,238,184,20,222,11,219,58,73,36,92,194,211,172,98,149,228,121,231,200,109,141,213,169,244,234,101,122,174,186,120,46,28,166,180,232,221,116,189,139,138,112,62,181,102,72,246,97,185,134,193,29,158,225,248,152,17,217,142,148,155,30,135,233,206,40,223,140,161,137,13,230,104,65,153,45,176,84,187,22,3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986,2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766,1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126,1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436,1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890,1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935,2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600,4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480,"`wen` htiw detatinatsni eb tsum SEA","ytreporPenifed","yek","eraperp_",")setyb 23 ro 42 ,61 eb tsum( ezis yek dilavni","eK_","dK_","tpyrcne",")setyb 61 eb tsum( ezis txetnialp dilavni","tpyrced",")setyb 61 eb tsum( ezis txetrehpic dilavni","noitpircsed","kcolB edoC cinortcelE","bce","sea_",")setyb 61 fo elpitlum eb tsum( ezis txetnialp dilavni",")setyb 61 fo elpitlum eb tsum( ezis txetrehpic dilavni","gniniahC kcolB rehpiC","cbc",")setyb 61 eb tsum( ezis rotcev noitalaitini dilavni","kcolbrehpiCtsal_","kcabdeeF rehpiC","bfc",")ezis 61 eb tsum( ezis rotcev noitalaitini dilavni","eziStnemges","retsigeRtfihs_",")setyb eziStnemges eb tsum( ezis txetnialp dilavni",")setyb eziStnemges eb tsum( ezis txetrehpic dilavni","kcabdeeF tuptuO","bfo","rehpicerPtsal_","xednIrehpicerPtsal_","`wen` htiw detatinatsni eb tsum retnuoC","rebmun","retnuoc_","eulaVtes","setyBtes",")regetni na eb tsum( eulav retnuoc dilavni","REGETNI_EFAS_XAM","egnar efas fo tuo eulav regetni",256,")setyb 61 eb tsum( ezis setyb retnuoc dilavni","tnemercni","retnuoC","rtc","retnuoCgniniamer_","xednIretnuoCgniniamer_","htgnel dilavni 7#SCKP","egnar fo tuo etyb gniddap 7#SCKP","etyb gniddap dilavni 7#SCKP",":","setyBot","setyBmorf","stropxe","‮",2372,"",0,"string","split","reverse","join",1,2)}).call(this,n("YuTi")(e))},"8tvR":function(e,t,n){"use strict";var r=n("ueSK"),o=n("LTr4"),a=n("NWy5"),i=n("+Tm7"),c=n("JzTR"),l=n("cnfQ"),s=function(e){var t;if("function"!=typeof e)throw new Error("Bad param, need to be a function");return function(){var n="".concat(Math.round(1e6*Math.random()),"-").concat(Date.now()),r=e.apply(void 0,arguments);if(!r||"function"!=typeof r.then)throw new Error("Bad return value, should return a promise");return t=n,r.then(function(e){return t===n?e:Promise.reject({name:"promise_cancel"})})}},u=n("KW6l"),f=n("Y+bJ");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"m",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"h",function(){return E}),n.d(t,"e",function(){return j}),n.d(t,"d",function(){return _}),n.d(t,"k",function(){return S}),n.d(t,"b",function(){return C}),n.d(t,"l",function(){return I});var d=Object(l.a)(),m=d.push,y=d.replace,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.Mf,value:e}},h=function(){return{type:r.Ae}},g=function(){return function(e){e(b()),e(h())}},v=function(e,t,n){return function(){var r=e?"".concat(t,"/").concat(encodeURIComponent(e)):t;y({pathname:r,state:n})}},x=function(){return{fetch:{types:[null,r.Fe,null],from:"/search/recommendations"}}},w=Object(a.j)({types:[r.Ge,r.He,r.Be],selector:function(e){return e.search.results},url:function(e){var t=e.nextUrlFromPath;return t||"/search"},schema:c.a.searchResults,getFetch:s,getQuery:function(e,t){var n=t.keyword,r=t.nextUrlFromPath,o=t.from,a=void 0===o?"":o,c=t.type,l=void 0===c?"normal":c;return r?"":Object(i.b)({type:l,q:n,search_from:a})}}),O=function(e,t){return function(n){n(b(e)),n(e?w(!0,{keyword:e,type:t}):g())}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/search",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o){o(v(e,t,r)),o(e?w(!0,{keyword:e,type:n,from:r.from}):b())}},j=Object(a.j)({types:[r.yd,r.zd,r.xd],selector:function(e){return e.search.bookRecommendations},url:function(e){var t=e.id;return"/open-collections/".concat(void 0===t?"0":t,"/recommended-books")},schema:c.a.searchResults}),k=s(fetch),_=function(e){var t=Object(i.b)({q:e});return{fetch:{from:"/suggests?".concat(t),types:[r.qc,r.rc,r.pc],fetchFn:k}}},S=function(){return function(e){e(Object(u.n)()).then(function(t){return e(function(e){return{fetch:{types:[],from:"/search?".concat(Object(i.b)({q:e,type:"normal"}))}}}(t))}).then(function(t){var n=(t||{}).data,r=(void 0===n?[]:n)[0];if(r&&"book"===r.type){var o=r.book.id;m("/books/".concat(o))}else e(Object(f.d)("SCAN_BOOK_NOT_FOUND"))}).catch(function(){e(Object(f.d)("SCAN_BOOK_ERROR"))})}},C=function(e){return{type:r.Hb,attrs:e}},P=function(){return function(e,t){var n=t().search.keyword,a=Object(o.q)(t().entities);return e({attrs:a,fetch:{from:"post /search/feedback",body:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({originalKeyword:n},a),types:[r.De,r.Ee,r.Ce]}})}},I=function(){return function(e,t){var n=t().search.keyword;return e(function(e,t){var n=Object(o.q)(t().entities),r=n.keyword,a=n.description,i=[];return r||i.push({key:"keyword",text:"请输入你想搜的内容"}),a.length>140&&i.push({key:"description",text:"最多输入 140 字哦"}),i.length?Promise.reject(i):Promise.resolve()}).catch(function(t){return e(Object(f.d)("SEARCH_FEEDBACK_INVALID",!1,t[0].text)),Promise.reject()}).then(function(){return e(P())}).then(function(){e(Object(f.d)("SEARCH_FEEDBACK_SUCCESS")),e(C({keyword:n,description:""}))}).catch(function(t){return t&&"USER_ACTION_LIMIT"!==t.name&&e(Object(f.d)("SEARCH_FEEDBACK_FAILURE")),Promise.reject(t)})}}},"97A4":function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return g});var r=n("ueSK"),o=n("NWy5"),a=n("JzTR"),i=function(){return{fetch:{types:[null,r.fc,null],from:"put /tips/sell-book/show"}}},c=function(){return{fetch:{types:[null,r.Sb,null],from:"put /tips/merge-cart-and-wish-list-guide/show"}}},l=function(){return{fetch:{types:[null,r.Yb],from:"put /tips/lock-in-book-guide/show"}}},s=function(){return{fetch:{types:[null,r.ac],from:"put /tips/new-user-coupon/show"}}},u=function(){return{type:r.cc}},f=function(){return{fetch:{types:[null,r.Ub],from:"put /tips/close-mini-program-guide/show"}}},p=function(){return{fetch:{types:[null,r.ob],from:"put /tips/wechat-follow-mp-banner/show"}}},d=function(){return{fetch:{types:[null,r.hc],from:"put /tips/variant-sell-price-guide/show"}}},m=function(){return{fetch:{types:[null,r.gc],from:"put /tips/user-protocol/show"}}},y=function(){return{fetch:{types:[null,r.Vb],from:"put /tips/contributions-guide/show"}}},b=Object(o.j)({selector:function(e){return e.traders},url:function(e){var t=e.bookId,n=e.type;return"/books/".concat(t,"/").concat(n)},types:[r.wf,r.xf,r.vf],schema:a.a.traders}),h=function(e){return{id:e,fetch:{types:[r.gg,r.hg,r.fg],from:"/users/".concat(e),schema:a.a.user}}},g=function(e){return{type:r.p,payload:e}}},"9At1":function(e,t,n){"use strict";var r=n("KdqP"),o=(n("6lzq"),n("BiE5")),a=n("Rcgl"),i=n("/OR3"),c=(n("8tvR"),n("KW6l"),n("wO6Y"),n("Y+bJ")),l=n("JzTR"),s=n("ueSK"),u=function(e){return{id:e,fetch:{types:[s.tb,s.ub,s.sb],from:"/collections/".concat(e),schema:l.a.collection}}};n.d(t,"j",function(){return r.e}),n.d(t,"e",function(){return r.a}),n.d(t,"g",function(){return r.b}),n.d(t,"i",function(){return r.c}),n.d(t,"h",function(){return o.b}),n.d(t,"b",function(){return a.a}),n.d(t,"k",function(){return a.c}),n.d(t,"d",function(){return i.d}),n.d(t,"c",function(){return c.b}),n.d(t,"a",function(){return c.a}),n.d(t,"f",function(){return u})},"9KrG":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);n("1tPW");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.children,n=e.paddingStyle,r=i(e,["children","paddingStyle"]);return o.a.createElement("div",a({className:"Fixed"},r),t,o.a.createElement("div",{style:n,className:"Fix-iphone-x"}))}},B3zl:function(e,t,n){"use strict";var r=n("fG0m"),o=n("6Vt4"),a=n("VJYJ"),i=n("cnfQ"),c=n("YnYI"),l=n("yrCo");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(o.widgetMessenger)("dejavu","rexxar")("widget/config"),f=Object(c.a)("",""),p={config:{},setNativeButton:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"share";e={rightButton:t},Object(o.dispatch)(u(Object(o.assemblePayload)(e)))},onShare:function(e,t,n){p.config={timeline:e,appMessage:t,clipboard:n};var r=Object(i.a)();Boolean(["/books/:id","/open-collections/:id","/categories/:id","/tags/:id","/users/:id","/tarot","/invitation/:id"].find(function(e){return Object(a.a)(r.location.pathname,{path:e,exact:!0})}))&&p.setNativeButton()},callOutMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.b)("onShare")(l.e);Object(o.dispatch)(Object(l.c)(Object(o.assemblePayload)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({module:"SocialShare",height:"200.0",opacity:"0.5",data:JSON.stringify({properties:p.config,callback:t})},e))))}},d=p;function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.Dejavu||(window.Dejavu={}),window.Dejavu.share=p.callOutMenu,window.Dejavu.setGlobalInfo=function(e){try{window.Dejavu.global=JSON.parse(e)}catch(e){}};var b=function(){return new Promise(function(e,t){var n=Object(i.a)(),r={};Object(a.a)(n.location.pathname,{path:"/sell",exact:!0})&&(r={title:"扫码卖书",action:"forSale"}),Object(a.a)(n.location.pathname,{path:"/users/:id/owning-bookshelf"})&&(r={title:"添加藏书",action:"forBookShelf"});var c,s=Object(l.b)("onScanBarcode")(function(n){n.type&&n.code?e(n):t()});(c=l.c,function(e){Object(o.dispatch)(c(Object(o.assemblePayload)(e)))})({module:"BarcodeScanner",data:JSON.stringify({properties:m({},r,{darkMode:!0}),callback:s})})})},h=Object(o.widgetMessenger)("dejavu","rexxar")("widget/wechat/pay"),g=function(e){return new Promise(function(t,n){var r=Object(l.b)("onPay")(function(e){"PAY_DONE"===e.result?t():n()});Object(o.dispatch)(h(Object(o.assemblePayload)({payload:e,callback:r})))})};function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object(o.widgetMessenger)("dejavu","rexxar")("widget/user"),w=function(e){Object(o.dispatch)(x(Object(o.assemblePayload)(e)))},O={login:function(e){w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}({},e,{action:"login"}))},logout:function(){w({action:"logout"})}};function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Object(o.widgetMessenger)("dejavu","rexxar")("widget/wechat/miniProgram"),_=0,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.d)(k)({payload:E({userName:"gh_16e10ffcd9be",path:"/",WXMiniProgramType:_},e)})};n.d(t,"f",function(){return r.c}),n.d(t,"e",function(){return r.b}),n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"i",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"d",function(){return O}),n.d(t,"h",function(){return S}),n.d(t,"j",function(){return l.e})},B8iD:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var r=n("fvjX"),o=n("ueSK"),a=n("NWy5"),i=Object(a.i)({mapActionToKey:function(e){return e.id},types:[o.of,o.pf,o.nf]});t.a=Object(r.c)({tagBooks:i});var c=function(e){return e.tag.tagBooks},l=Object(a.b)(c),s=Object(a.e)(c),u=Object(a.h)(c)},BPOG:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u});var r=n("ueSK"),o=n("97A4"),a=n("Y+bJ"),i=function(){return{type:r.n}},c=function(){return{type:r.Eb}},l=function(){return function(e,t){var n=t(),r=n.session.user,a=n.userProtocol.isAgreed;r.showTips.userProtocol&&a&&e(Object(o.i)())}},s=function(){return function(e,t){var n=t(),r=n.session.user,o=n.userProtocol.isAgreed;return!(r.showTips.userProtocol&&!o)||(e(Object(a.d)("MUST_AGREE_USER_PROTOCOL")),!1)}},u=function(){return function(e){return e(s())?Promise.resolve():Promise.reject()}}},BiE5:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return g});var r=n("cnfQ"),o=n("ueSK"),a=n("LTr4"),i=n("jNpE"),c=n("JzTR"),l=n("l9ey"),s=n("B3zl"),u=n("/ky4"),f=n("z16u"),p=n("Y+bJ"),d=n("97A4");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=Object(r.a)().replace,b=function(e,t){return{id:e,fetch:{types:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[null,o.Id]:[o.Hd,o.Id,o.Gd],from:"/orders/".concat(t,"/").concat(e),schema:c.a.order}}},h=function(e){return function(t,n){var r=n(),i=Object(a.s)(r.entities,e),c=i.status,l=i.type,s=i.price,f=i.balancePayDiscountAmount,p=i.pay,m="delete /orders/".concat(l,"/").concat(e);return"paid"===c&&"retrieval"!==l&&(m="delete /orders/".concat(l,"/").concat(e,"/refund")),t({id:e,fetch:{types:[o.Ed,o.Fd,o.Dd],from:m}}).then(function(){"paid"===c&&"purchase"===l&&p&&"dzy"===p.way&&t(Object(d.m)(s-f)),t(Object(u.b)())})}},g=function(e,t){return function(n,r){var a=r().address.values,u=["name","phone","province","city","district","street"];"sell"===t&&u.push("deliveryTime");var d=m(Object(i.b)(a,u),2),b=d[0],h=d[1];if(Object.keys(b).length)return n(Object(f.c)(b)),void n(Object(p.d)(h));n({fetch:{types:[o.Kd,o.Ld,o.Jd],from:"patch /orders/".concat(t,"/").concat(e),body:{address:a},schema:c.a.order,beforeSuccess:function(e){l.f||y("/orders/".concat(t,"/").concat(e.id))}},id:e}).then(function(){l.f&&setTimeout(function(){Object(s.f)({backward:{refresh:!0}})},2e3)})}}},BjCW:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("0wEy"),l=n("TSYQ"),s=n.n(l),u=n("ZDtv"),f=n("zDcZ");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){var t=e.error,n=e.info,r=e.style,a=e.children;return i.a.createElement("div",{style:r,className:o.a.dynamic([["1739415354",[f.a.primary,f.a.emphasis]]])+" "+(s()("root",{error:t,info:n})||"")},i.a.createElement(u.a,null,i.a.createElement("p",{className:o.a.dynamic([["1739415354",[f.a.primary,f.a.emphasis]]])+" inner"},a)),i.a.createElement(o.a,{id:"1739415354",dynamic:[f.a.primary,f.a.emphasis]},[".root.__jsx-style-dynamic-selector{position:fixed;z-index:100;right:0;left:0;top:0;pointer-events:none;}",".inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;min-height:21px;padding:8px 15px;padding-top:48px;padding-top:calc(8px + constant(safe-area-inset-top));padding-top:calc(8px + env(safe-area-inset-top));color:#fff;font-size:15px;font-weight:400;background:".concat(f.a.primary,";box-shadow:0 1px 4px rgba(0,0,0,0.1);opacity:0.92;pointer-events:auto;}"),".error.__jsx-style-dynamic-selector .inner.__jsx-style-dynamic-selector{color:#fff;background:".concat(f.a.emphasis,";}"),".info.__jsx-style-dynamic-selector .inner.__jsx-style-dynamic-selector{color:#fff;background:rgba(51,51,51,0.92);}"]))},g=function(){return{y:-125}},v=function(){return{y:Object(c.spring)(-125)}},x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,y(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.autoHide&&(this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){t.props.onClose(),t.timeoutId=null},e.timeout||3e3))}},{key:"getStyles",value:function(){var e=this.props,t=e.error,n=e.children,r=e.info;return n?[{key:"1",data:{error:t,children:n,info:r},style:{y:Object(c.spring)(0)}}]:[]}},{key:"render",value:function(){return i.a.createElement(c.TransitionMotion,{styles:this.getStyles(),willEnter:g,willLeave:v},function(e){return i.a.createElement("div",null,e.map(function(e){var t=e.key,n=e.style.y,r=e.data,o=r.error,a=r.info,c=r.children;return i.a.createElement(h,{key:t,error:o,info:a,style:{WebkitTransform:"translateY(".concat(n,"px)"),transform:"translateY(".concat(n,"px)")}},c)}))})}}])&&d(n.prototype,r),o&&d(n,o),t}()},CgaW:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("zDcZ"),l=n("YTEZ"),s=n("5Wrh"),u={};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return g});var h=function(){return i.a.createElement("span",{className:o.a.dynamic([["1266535593",[c.d.ocItem.bgColor,c.d.ocItem.bgColor,Object(l.a)(c.d.ocItem.bgColor,0)]]])+" folding-toggle"},i.a.createElement(s.a,{cleanText:!0,primary:!0},"...展开"),i.a.createElement(o.a,{id:"1266535593",dynamic:[c.d.ocItem.bgColor,c.d.ocItem.bgColor,Object(l.a)(c.d.ocItem.bgColor,0)]},[".folding-toggle.__jsx-style-dynamic-selector{width:6em;position:absolute;bottom:0;right:0;background:linear-gradient( to left, ".concat(c.d.ocItem.bgColor,", ").concat(c.d.ocItem.bgColor," 45%, ").concat(Object(l.a)(c.d.ocItem.bgColor,0)," 100% );text-align:right;}")]))},g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=p(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?d(r):o).getRef=n.getRef.bind(d(n)),n.toggleExpansion=n.toggleExpansion.bind(d(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a["PureComponent"]),y(t,null,[{key:"defaultProps",get:function(){return{linesAfterFolded:5,disableFold:!1}}}]),y(t,[{key:"componentDidMount",value:function(){this.needsToFold&&void 0===this.props.folded&&this.toggleExpansion()}},{key:"getRef",value:function(e){this.el=e}},{key:"toggleExpansion",value:function(){this.needsToFold&&this.props.toggleFoldStatus()}},{key:"render",value:function(){var e=this.props,t=e.folded,n=e.disableFold;return t&&!n?this.renderAsFolded():this.renderAsUnfolded()}},{key:"renderAsUnfolded",value:function(){var e=this.props,t=e.text,n=e.fullTextStyle,r=e.onFullTextClick;return i.a.createElement("p",{ref:this.getRef,style:n,onClick:r,className:"jsx-2720050919 full-text"},t,i.a.createElement(o.a,{id:"2720050919"},[".full-text.jsx-2720050919{font-size:15px;line-height:1.6;overflow-wrap:break-word;word-break:break-word;-webkit-user-select:initial;}"]))}},{key:"renderAsFolded",value:function(){var e=this.props,t=e.foldedTextStyle,n=e.text,r=e.toggleRenderer,a=void 0===r?h:r;return i.a.createElement("p",{ref:this.getRef,style:t,onClick:this.toggleExpansion,className:"jsx-4238553667 root"},n,a(),i.a.createElement(o.a,{id:"4238553667"},[".root.jsx-4238553667{height:".concat(this.heightFolded,"px;position:relative;overflow:hidden;line-height:1.6;font-size:15px;overflow-wrap:break-word;word-break:break-word;}")]))}},{key:"needsToFold",get:function(){return!this.props.disableFold&&this.isTextTooLong}},{key:"heightFolded",get:function(){var e,t,n=this;return(t=function(){return parseFloat(window.getComputedStyle(n.el)["line-height"])},(e="fold-text-line-height")in u||(u[e]=t()),u[e])*this.props.linesAfterFolded}},{key:"isTextTooLong",get:function(){return!this.el||this.el.scrollHeight>this.heightFolded}}]),t}()},CzD2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("VJYJ"),o=n("cnfQ");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=Object(o.a)(),c="order:invisible",l=[["/orders/:type/:id",c]],s={};t.b=function(){window.Rexxar=window.Rexxar||{},window.Rexxar.Lifecycle=window.Rexxar.Lifecycle||{},window.Rexxar.Lifecycle.visible=!0,window.Rexxar.Lifecycle.on=function(e,t){s[e]=s[e]||[],s[e].push(t)},window.Rexxar.Lifecycle.off=function(e){delete s[e]},window.Rexxar.Lifecycle.onPageVisible=function(){window.Rexxar.Lifecycle.visible=!0},window.Rexxar.Lifecycle.onPageInvisible=function(){window.Rexxar.Lifecycle.visible=!1,l.forEach(function(e){var t=a(e,2),n=t[0],o=t[1];Object(r.a)(i.location.pathname,{path:n,exact:!0})&&s[o].forEach(function(e){return e()})})}}},"D+1+":function(e,t,n){},Dgje:function(e,t,n){"use strict";var r=n("q1tI"),o=n("/MKj"),a=n("Bw5p"),i=n("wIs1"),c=n("/OR3");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=["title","link","desc","imgUrl"],b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.configShare()}},{key:"componentDidUpdate",value:function(){this.configShare()}},{key:"configShare",value:function(){var e=this.props,t=e.location,n=t.pathname,r=t.search,o=e.user,i=e.gaSource,l=u(e,["location","user","gaSource"]),f=Object(a.a)(l,y);Object(c.b)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({link:"".concat(n).concat(r)},f),{user:o,gaSource:i})}},{key:"render",value:function(){return null}}])&&f(n.prototype,o),i&&f(n,i),t}();t.a=Object(i.a)(Object(o.b)(function(e){return{user:e.session.user}})(b))},"Dx/V":function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.large,n=e.sibling,r=e.children,a=e.className,c=u(e,["large","sibling","children","className"]);return i.a.createElement("h3",s({},c,{className:"jsx-3065546692 "+(null!=c.className&&c.className||l()({large:t,sibling:n},a)||"")}),r,i.a.createElement(o.a,{id:"3065546692"},["h3.jsx-3065546692{font-size:16px;font-weight:400;margin-bottom:6px;}",".large.jsx-3065546692{font-size:20px;}",".sibling.jsx-3065546692{margin-top:20px;}"]))}},ECHx:function(e,t,n){},EXbF:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(e){switch(e){case"purchase_freight_free":return"买书包邮券";case"purchase_rebate":return"买书抵扣券";case"full_reduction":return"买书满减券";default:return""}},o=function(e,t,n,r,o){var a=n-o;switch(e){case"purchase_freight_free":return n>=t&&0!==r;case"full_reduction":return n>=t&&0!==a;case"purchase_rebate":return 0!==a;default:return!1}}},F2Lp:function(e,t,n){},FQoQ:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a);t.a=function(){return i.a.createElement("div",{className:"jsx-4100974190 root"},i.a.createElement("div",{className:"jsx-4100974190 line"}),i.a.createElement("svg",{width:"12",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"jsx-4100974190"},i.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",className:"jsx-4100974190"})),i.a.createElement("div",{className:"jsx-4100974190 line"}),i.a.createElement(o.a,{id:"4100974190"},[".root.jsx-4100974190{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.1);}",".line.jsx-4100974190{width:42px;border-top:0.5px solid currentColor;}","svg.jsx-4100974190{margin:0 9px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}"]))}},FuOl:function(e,t,n){"use strict";var r=n("fvjX"),o=n("ueSK");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return f});var c={isbn:"",title:"",originalPrice:null,currencyType:"CNY",code:"",isTitleEditable:!0},l=Object(r.c)({isVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case o.E:return!0;case o.B:return!1;default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.A:return a({},e,t.values);case o.F:case o.D:return c;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.C:return a({},e,t.error);case o.A:return{};default:return e}}}),s=(t.a=l,function(e){return e.values}),u=function(e){return e.errors},f=function(e){return e.isVisible}},GHbH:function(e,t,n){"use strict";n.d(t,"b",function(){return h});var r=n("MX0m"),o=n.n(r),a=n("GzZI"),i=n("q1tI"),c=n.n(i),l=n("17x9"),s=n.n(l),u=n("zDcZ"),f=n("jFQ1");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=function(e){var t=e.rate,n=void 0===t?0:t,r=d(e,["rate"]);return c.a.createElement("div",{style:{marginRight:"3px"}},c.a.createElement("div",{style:{position:"absolute",width:13*n,overflow:"hidden"}},c.a.createElement(f.a,r)),c.a.createElement(f.a,{color:u.a.gray}))},y={rating:s.a.number,total:s.a.number},b=function(e){var t=e.rating,n=e.total,r=d(e,["rating","total"]),i=t/n*5,l=Object(a.a)(5,function(e){return e+1<=i?1:e>i?0:i%1});return c.a.createElement("div",{className:"jsx-1246154857 root"},l.map(function(e,t){return c.a.createElement(m,p({rate:e,key:t},r))}),c.a.createElement(o.a,{id:"1246154857"},[".root.jsx-1246154857{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"]))};b.propTypes=y,b.defaultProps={rating:0,total:10},t.a=b;var h=function(e,t){return e&&Boolean(t)}},GhQF:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i});var r=function(e,t){return t in e?e[t].loadStatus:"initial"},o=function(e,t){return t in e?e[t].nextUrl:""},a=function(e,t){return t in e?e[t].ids:[]},i=function(e,t){return t in e?e[t].meta:{}}},HEen:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a);n("sDUI");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.item,n=e.inline,r=e.column,a=e.row,s=e.center,u=e.even,f=e.evenBetween,p=e.alignTop,d=e.alignCenter,m=e.alignBottom,y=e.grow,b=e.noShrink,h=e.component,g=e.className,v=l(e,["item","inline","column","row","center","even","evenBetween","alignTop","alignCenter","alignBottom","grow","noShrink","component","className"]),x=h||(n?"span":"div");return t?o.a.createElement(x,c({className:i()(g,{"Flex-item--grow":y,"Flex-item--noShrink":b})},v)):o.a.createElement(x,c({className:i()("Flex",g,{"Flex--inline":n,"Flex--column":r,"Flex--row":a,"Flex--center":s,"Flex--even":u,"Flex--evenBetween":f,"Flex--alignTop":p,"Flex--alignCenter":d,"Flex--alignBottom":m,"Flex-item--grow":y,"Flex-item--noShrink":b})},v))}},"Hg/V":function(e,t,n){"use strict";n.d(t,"c",function(){return E}),n.d(t,"a",function(){return k}),n.d(t,"d",function(){return _}),n.d(t,"i",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"j",function(){return I}),n.d(t,"h",function(){return T}),n.d(t,"g",function(){return N}),n.d(t,"f",function(){return R}),n.d(t,"e",function(){return L});var r=n("cnfQ"),o=n("ueSK"),a=n("cUTp"),i=n("RbH8"),c=n("BPOG"),l=n("sffN"),s=n("gbLe"),u=n("Y+bJ"),f=n("XnDA"),p=n("1aN8"),d=n("JzTR"),m=n("yfAj"),y=n("l9ey"),b=n("B3zl"),h=n("wPgv"),g=n("mWCn"),v=Object(r.a)().replace,x=function(e,t,n){switch(e){case"book":return"/books/".concat(t,"?target=contribs");case"sold":case"purchased":return"/user/".concat(e,"-books");case"activity":return"/users/".concat(n);default:return"/books/".concat(t)}},w=function(e,t){y.f?Object(b.f)({backward:{refresh:!0}}):v(t)},O=function(e){return["book","sold","purchased"].includes(e)},E=function(e){return{type:g.m,attrs:e}},j=function(e,t){return{type:o.L,bookId:t,payload:{id:e}}},k=Object(s.c)(function(){return function(e,t){var n=t(),r=n.entities,o=n.session.user,a=Object(h.h)(r),i=a.collectionId,l=a.bookId,s=a.source;return e(function(e,t){var n=Object(h.h)(t().entities),r=[];n.reason&&(n.reason=n.reason.trim());var o=n.bookId,a=n.source,i=n.reason,c=n.collectionId;return o||r.push({key:"bookid",text:"请选择你要推荐的书"}),O(a)||i||c||r.push({key:"reason",text:"请填写推荐语"}),r.length?Promise.reject(r):Promise.resolve()}).catch(function(t){return e(Object(u.d)("OC_CONTRIB_FORM_INVALID",!1,t[0].text)),Promise.reject()}).then(function(){return e(Object(c.e)())}).then(function(){return e(function(e,t){var n=Object(h.h)(t().entities),r=n.bookId,o="/books/".concat(r,"/contributions");return n.reason&&(n.reason=n.reason.trim()),e({attrs:n,fetch:{from:"post ".concat(o),body:n,schema:d.a.ocContrib,types:[g.h,g.i,g.g]}})})}).then(function(t){e(Object(u.d)("OC_CONTRIB_CREATE_SUCCESS")),fetch(String(Object(m.a)(t)));var n=t.id;return i?n:e(j(n,l))}).then(function(t){var n=i?"/oc-contrib/".concat(t,"/comments"):x(s,l,o.id);if(y.f){var r=i?{path:n,callback:b.b}:{refresh:!0};Object(b.f)({backward:r})}else v(n);O(s)||e(Object(f.g)("contrib")),e(Object(c.c)())}).catch(function(t){return t&&"USER_ACTION_LIMIT"!==t.name&&e(Object(u.d)("OC_CONTRIB_CREATE_FAILURE")),Promise.reject(t)})}}),_=function(e){return{id:e,fetch:{from:"/oc-contributions/".concat(e),schema:d.a.ocContrib,types:[g.o,g.p,g.n]}}},S=function(e){return function(t,n){var r=n().entities,o=Object(h.h)(r),a=o.bookId,i=o.source;return o.reason&&(o.reason=o.reason.trim()),t({id:e,attrs:o,fetch:{from:"put /oc-contributions/".concat(e),body:o,types:[g.v,g.w,g.u]}}).then(function(){return t(Object(u.d)("OC_CONTRIB_UPDATE_SUCCESS")),t(j(e,a))}).then(function(){var e=x(i,a);w(0,e)}).catch(function(e){return e&&t(Object(u.d)("OC_CONTRIB_UPDATE_FAILURE")),Promise.reject()})}},C=function(e){return function(t,n){var r=n(),a=r.session.user,c=r.entities,s=Object(h.a)(c,e),f=s.collectionId,d=s.bookId,m=f?"".concat(f,"-").concat(d):"",y=m?Object(h.c)(c,m):null,b=a.id,v=Object(i.h)(r,b).find(function(t){var n=t.type,r=t.item;return"contribution"===n&&r.data.id===e}),O=Object(h.h)(c).source;t({id:e,fetch:{from:"delete /oc-contributions/".concat(e),types:[g.k,g.l,g.j]}}).then(function(){if(t(Object(u.d)("OC_CONTRIB_DELETE_SUCCESS")),v&&t(Object(l.h)(b,v.item.id)),f&&t(Object(p.e)(f)),y){var n=y.contributions;t(function(e,t){return{type:g.E,payload:{contribItemId:e,contributionId:t}}}(m,e)),1===n.length&&n[0]===e&&t(function(e,t){return{ocId:t,type:g.D,payload:{contribItemId:e}}}(m,f))}return t(function(e,t){return{type:o.K,bookId:t,payload:{id:e}}}(e,d))}).then(function(){var e=f?"/open-collections/".concat(f):x(O,d);w(0,e)}).catch(function(e){return e&&t(Object(u.d)("OC_CONTRIB_DELETE_FAILURE")),Promise.reject()})}},P=function(e){return function(t){t(Object(u.c)("OC_CONTRIB_DELETE",{confirmAction:function(){return t(C(e))}}))}},I=Object(s.d)(function(e){return function(t,n){return t({id:e,userId:Object(a.d)(n().session).id,fetch:{from:"put /oc-contributions/".concat(e,"/vote"),types:[g.B,g.C,g.A]}})}}),T=Object(s.d)(function(e){return function(t,n){return t({id:e,userId:Object(a.d)(n().session).id,fetch:{from:"delete /oc-contributions/".concat(e,"/vote"),types:[g.s,g.t,g.r]}})}}),N=function(e){return{type:g.q,contribId:e}},R=function(e,t){return function(n,r){var o=Object(h.k)(r().ocContribVoters,e);return n({isReset:t,contribId:e,fetch:{types:[g.y,g.z,g.x],from:t||!o?"/oc-contributions/".concat(e,"/voters"):o,schema:d.a.voters}})}},L=function(e,t){return function(n,r){var o=r().ocContribs.contribs[t],a=o&&o.nextUrl?o.nextUrl:"/open-collections/".concat(t,"/items");return n({ocId:t,isReset:e,fetch:{from:a,schema:d.a.ocContribItems,types:[g.e,g.f,g.a]}})}}},HyQt:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return o});var o=Boolean(!1);t.a=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},e,{price:0,goods:[],latestSellers:[],sellersCount:0,latestOwners:[],ownersCount:0,wishCount:0})}},HzBx:function(e,t,n){},ISue:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"57",height:"49",viewBox:"0 0 57 49"},e),o.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"matrix(-1 0 0 1 57 0)"},o.a.createElement("path",{fill:"#333",d:"M38.342 7.905l5.563-2.247-5.177-4.38zM52.109 25.494l4.459-4.015-4.907-.965z"}),o.a.createElement("path",{fill:"#C34737",d:"M3.777 13.194l.417-2.97-3.18 1.067zM38.777 48.194l.417-2.97-3.18 1.067zM33.853 17.281l8.208 3.783-1.671-8.092z"}),o.a.createElement("circle",{cx:"50",cy:"38",r:"2",fill:"#333"}),o.a.createElement("circle",{cx:"20.5",cy:"15.5",r:"1.5",fill:"#333"}),o.a.createElement("circle",{cx:"18.5",cy:"1.5",r:"1.5",fill:"#333"}),o.a.createElement("circle",{cx:"32",cy:"30",r:"2",fill:"#C34737"})))}},IiWD:function(e,t,n){"use strict";var r=n("peh1"),o=n("j8bt"),a=n("gbLe"),i=n("cUTp"),c=n("Y+bJ"),l=n("JzTR"),s=n("l9ey"),u=n("B3zl");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return k}),n.d(t,"g",function(){return S}),n.d(t,"m",function(){return C}),n.d(t,"j",function(){return P}),n.d(t,"k",function(){return I}),n.d(t,"l",function(){return T}),n.d(t,"i",function(){return N}),n.d(t,"n",function(){return R}),n.d(t,"o",function(){return L}),n.d(t,"h",function(){return A});var p,d="176032101403984035",m="305317816888857299",y=["0",d,m],b=["oc_contribution","itemCategory"],h="categoryEntities",g="".concat(h,"_CATEGORY_REQUEST"),v="".concat(h,"_CATEGORY_SUCCESS"),x="".concat(h,"_CATEGORY_FAILURE"),w="".concat(h,"_CATEGORY_SUBSCRIBE_REQUEST"),O="".concat(h,"_CATEGORY_SUBSCRIBE_SUCCESS"),E="".concat(h,"_CATEGORY_SUBSCRIBE_FAILURE"),j="".concat(h,"_CATEGORY_UNSUBSCRIBE_REQUEST"),k="".concat(h,"_CATEGORY_UNSUBSCRIBE_SUCCESS"),_="".concat(h,"_CATEGORY_UNSUBSCRIBE_FAILURE"),S=Object(o.a)({key:"categories",types:[g,v,x]}),C=(t.f=S,p=h,function(e){return e[p].entities}),P=function(e){return function(t,n){return t[e].entities[n]}}(h),I=function(e){return function(t,n){return t[e].loadStatus[n]}}(h),T=Object(r.createSelector)(P,function(e){return Object(i.d)(e.session)},function(e,t){return e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,{isSubscribed:t.subscribedCategories.includes(e.id)}):null}),N=function(e){return{id:e,fetch:{from:"/categories/".concat(e),types:[g,v,x],schema:l.a.category}}},R=Object(a.a)(function(e){return function(t,n){return s.f&&u.c.setNativeButton("done"),t({id:e,fetch:{from:"post /categories/".concat(e,"/subscribe"),types:[w,O,E],beforeSuccess:function(){var e=n();0===Object(i.i)(e).length&&t(Object(c.d)("CATEGORY_SUBSCRIBE_SUCCESS_TOAST",!1,"好的！首页新上架会推荐更多这类书"))}}})}}),L=Object(a.a)(function(e){return s.f&&u.c.setNativeButton("done"),{id:e,fetch:{from:"delete /categories/".concat(e,"/subscribe"),types:[j,k,_]}}}),A=function(e){return e&&!b.includes(e.type)&&!y.includes(e.id)}},J3ly:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u});var r=n("ueSK"),o=n("FuOl"),a=n("KW6l"),i=function(e){return{type:r.C,error:e}},c=function(e){return{type:r.A,values:e}},l=function(e){return function(t){t(c(e)),t({type:r.E})}},s=function(){return function(e){e({type:r.B}),e({type:r.D})}},u=function(){return function(e,t){var n=t(),r=Object(o.c)(n.addBook);if(!r.title)return e(i({title:"请输入书籍名称"}));if(!r.originalPrice)return e(i({originalPrice:"请输入书籍价格"}));var c=r.isbn,l=r.title,u=r.originalPrice,f=r.currencyType,p=r.code;return e(Object(a.b)({barcode:c,title:l,originalPrice:u,currencyType:f,code:p},!0)),e(s())}}},JAFv:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({viewBox:"19 19 22 22",strokeLinecap:"round"},e),o.a.createElement("g",{transform:"translate(21.000000, 21.000000)"},o.a.createElement("path",{d:"M0.333333333,0.333333333 L17.4148373,17.4148373"}),o.a.createElement("path",{d:"M0.333333333,0.333333333 L17.4148373,17.4148373",transform:"translate(9.000000, 9.000000) scale(-1, 1) translate(-9.000000, -9.000000)"})))}},JB2W:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c),s=n("2iEm"),u=n("JGVQ"),f=n("zDcZ");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.withArrow,n=e.colored,r=e.underline,a=e.to,c=e.className,m=e.outerClassName,y=e.children,b=e.block,h=e.style,g=e.arrowStyle,v=d(e,["withArrow","colored","underline","to","className","outerClassName","children","block","style","arrowStyle"]),x=i.a.createElement("span",p({},v,{className:o.a.dynamic([["4121610764",[f.a.primary]]])+" "+(null!=v.className&&v.className||l()(c,{colored:n,underline:r,block:b})||"")}),y,t&&i.a.createElement(u.a,{style:g}),i.a.createElement(o.a,{id:"4121610764",dynamic:[f.a.primary]},[".colored.__jsx-style-dynamic-selector{color:".concat(f.a.primary,";}"),".underline.__jsx-style-dynamic-selector{-webkit-text-decoration:underline;text-decoration:underline;}",".block.__jsx-style-dynamic-selector{display:block;}"]));return a?i.a.createElement(s.a,{className:l()(m),to:a,style:h},x):i.a.createElement("div",{className:l()(m),style:h},x)}},JGVQ:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),o.a.createElement("polyline",{points:"9 18 15 12 9 6"}))}},JzTR:function(e,t,n){"use strict";var r=n("XiPH");n("HyQt");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={book:"book",subscription:"subscribedBook",categories:"categories"},c=["pre_locked","pre_lock_finishing"],l=new r.b.Entity("tags"),s=new r.b.Entity("producers"),u=new r.b.Entity("users"),f=new r.b.Array(u),p=new r.b.Entity("traders",{user:u}),d=new r.b.Array(p),m=new r.b.Entity("items"),y=new r.b.Entity("books",{latestSellers:f,latestOwners:f},{processStrategy:function(e){if(void 0===e.goods)return e;var t=e.virtuals;return t&&t.cartBook?o({},e,{virtuals:o({},t,{cartBook:o({},t.cartBook,{book:e.id})})}):e}}),b=new r.b.Entity("openCollections"),h=[b],g=new r.b.Entity("ocContribs"),v=[g],x=new r.b.Entity("occComments"),w=[x],O=new r.b.Array(u),E=new r.b.Entity("ocContribItems",{},{idAttribute:function(e){return"".concat(e.collectionId,"-").concat(e.book.id)}}),j=[E],k=new r.b.Array(l),_=new r.b.Array(y),S=new r.b.Entity("userBooks",{book:y}),C=new r.b.Array(S),P=new r.b.Entity("refuseBooks",{book:y}),I=new r.b.Array(P),T=new r.b.Entity("orders",{userBooks:C}),N=new r.b.Array(T),R=new r.b.Entity("cartBooks",{book:y,item:m},{processStrategy:function(e){return o({},e,{hasPreLocked:c.includes(e.lockStatus)})}}),L=new r.b.Array(R),A={idAttribute:function(e){return e.item.id}},F=function(e){return new r.b.Entity(e,{item:R},A)},B=F("inStockCartItem"),D=F("noStockCartItem"),M=F("inStockRemindCartItem"),U=F("preLockCartBook"),z=F("lockCartItem"),G=new r.b.Array({preLockCartItem:U,inStockCartItem:B,noStockCartItem:D,inStockRemindCartItem:M,lockCartItem:z},function(e){return e.type}),H=new r.b.Entity("shelfBooks",{book:y}),W=new r.b.Array(H),V=new r.b.Entity("collections",{books:_}),K=new r.b.Array(V),q=new r.b.Entity("categories"),Y=new r.b.Array(q),Q=new r.b.Entity("searchResults",{book:y,tag:l,producer:s,category:q},{idAttribute:function(e){return e[e.type].id}}),Z=new r.b.Array(Q),X=new r.b.Entity("messages"),J=new r.b.Entity("notifications"),$=new r.b.Array(J),ee=new r.b.Entity("transactions"),te=new r.b.Array(ee),ne=new r.b.Entity("tarots",{},{idAttribute:function(e){return e.orderId}}),re=new r.b.Entity("activityComments",{author:u}),oe=[re];y.define({relatedBooks:_,relatedCollections:K,relatedOpenCollections:h,relatedCategories:Y,producer:s,virtuals:{cartBook:R,relationship:{buyer:p}}}),m.define({tags:k,categories:Y,item:{latestSellers:f},virtuals:{cartItem:R}}),J.define({data:{message:X}});var ae=new r.b.Array({book:{item:y},subscribedBook:{item:{category:q,book:y}},categories:{item:{categories:[q]}}},function(e){return"".concat(i[e.type])});E.define({contributions:v,book:y}),b.define({contributors:f,items:v}),g.define({contributor:u,collection:b,book:y,latestVoters:f}),x.define({author:u});var ie=new r.b.Array(m),ce=new r.b.Entity("itemCategories"),le=new r.b.Array(ce);t.a={tag:l,user:u,users:f,traders:d,book:y,books:_,order:T,orders:N,message:X,userBook:S,userBooks:C,refuseBook:P,refuseBooks:I,cartBook:R,cartBooks:L,cartBookList:G,shelfBook:H,shelfBooks:W,collection:V,collections:K,searchResults:Z,notification:J,notifications:$,transaction:ee,transactions:te,categoryItems:ae,categories:Y,category:q,openCollection:b,openCollections:h,ocContrib:g,ocContribs:v,occComment:x,occComments:w,voters:O,ocContribItem:E,ocContribItems:j,tarot:ne,activityComment:re,activityComments:oe,item:m,itemCategories:le,itemList:ie}},KSPI:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n("q1tI"),o=n.n(r),a=n("17x9"),i=n.n(a),c=n("TSYQ"),l=n.n(c);n("P1JD");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f={numberFont:i.a.bool,nosign:i.a.bool,large:i.a.bool,larger:i.a.bool,invalid:i.a.bool,emphasis:i.a.bool,className:i.a.string,n:i.a.number.isRequired};function p(e,t,n){return"".concat(t?"￥":"").concat((e/100).toFixed(n))}function d(e){var t=e.sign,n=e.digit,r=e.numberFont,a=e.emphasis,i=e.primary,c=e.golden,f=e.disable,d=e.invalid,m=e.smaller,y=e.small,b=e.medium,h=e.large,g=e.larger,v=e.mega,x=e.bold,w=e.normal,O=e.suffix,E=e.className,j=e.n,k=u(e,["sign","digit","numberFont","emphasis","primary","golden","disable","invalid","smaller","small","medium","large","larger","mega","bold","normal","suffix","className","n"]);if("number"!=typeof j)return null;var _=l()("Price",E,{"Price--emphasis":a,"Price--primary":i,"Price--golden":c,"Price--disable":f,"Price--invalid":d,"Price--smaller":m,"Price--small":y,"Price--medium":b,"Price--large":h,"Price--larger":g,"Price--mega":v,"Price--bold":x,"Price--normal":w,"Price--number-font":r});return o.a.createElement("span",s({className:_},k),p(j,t,n),O&&o.a.createElement("span",{className:"Price--suffix"},"起"))}d.propTypes=f,d.defaultProps={sign:!0,digit:2,numberFont:!1,small:!1,large:!1,larger:!1,invalid:!1,emphasis:!1,className:null}},KW6l:function(e,t,n){"use strict";var r=/^dzy[0-9]{10}$/,o=n("ueSK"),a=n("7zx8"),i=n("40O5"),c=n("LTr4"),l=n("XiPH"),s=n("JzTR"),u=n("gbLe"),f=n("NWy5"),p=n("r9pq"),d=n("B3zl"),m=n("cnfQ"),y=n("l9ey"),b=n("/ky4"),h=n("J3ly"),g=n("Y+bJ"),v=n("/OR3");function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"t",function(){return S}),n.d(t,"f",function(){return C}),n.d(t,"j",function(){return P}),n.d(t,"r",function(){return I}),n.d(t,"k",function(){return T}),n.d(t,"n",function(){return N}),n.d(t,"p",function(){return L}),n.d(t,"h",function(){return A}),n.d(t,"b",function(){return F}),n.d(t,"o",function(){return B}),n.d(t,"q",function(){return D}),n.d(t,"g",function(){return M}),n.d(t,"a",function(){return U}),n.d(t,"d",function(){return z}),n.d(t,"s",function(){return G}),n.d(t,"e",function(){return H}),n.d(t,"c",function(){return W}),n.d(t,"l",function(){return K}),n.d(t,"i",function(){return q}),n.d(t,"m",function(){return Y});var j=Object(m.a)(),k=j.push,_=j.goBack,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:o.Kf,payload:e}},C=function(e){return{type:o.dg,values:e}},P=function(){return{fetch:{types:[o.Vf,o.Wf,o.Tf],from:"/user/books",schema:s.a.userBooks}}},I=function(){return function(e,t){var n=Object(a.c)(t()),r={};n.forEach(function(e){r[e.id]=e.acquirePrice}),e(P()).then(function(){return e(function(e){return{type:o.Uf,oldPrices:e}}(r))})}},T=function(e){return function(t,n){var r=n().refusedBooks.refusedBooks,a=Object(f.o)(r);t({isReset:e,fetch:{types:[o.Sd,o.Td,o.Rd],from:e||!a?"/user/refused-books":a,schema:s.a.refuseBooks}})}},N=function(){return function(){return y.f?d.i().then(function(e){var t=e.type,n=e.code,r=["EAN_13","CODE_128"].includes(t);if(y.h){var o=t.split(".").pop();r=["EAN-13","Code128"].includes(o)}return r?n:null}):y.c?v.g().then(function(e){if(!e||!e.resultStr)return null;var t=E(e.resultStr.split(","),2),n=t[0],r=t[1];return"EAN_13"===n||"CODE_128"===n?r:null}):Promise.resolve(null)}},R=function(e){return{fetch:{types:[o.f,o.g,o.e],from:"post /user/refused-books/".concat(e,"/free"),schema:s.a.userBook}}},L=function(e){return{type:o.lf,id:e}},A=function(){return{type:o.ec}},F=function(e,t){return function(n,r){var a=r(),c=Object(i.g)(a),u=Object(i.d)(a),f=e.barcode,d=e.code,m=x(e,["barcode","code"]);Object(p.b)(f)?m.isbn=Object(p.a)(f):m.dzyCode=f,d&&(m.code=d);var y=m.isbn&&m.isbn.startsWith("977")?"/user/magazines":"/user/books";return n({isbn:m.isbn,dzyCode:m.dzyCode,isManually:t,fetch:{types:[o.Yf,o.Zf,o.Xf],from:"post ".concat(y),schema:s.a.userBook,body:m,beforeSuccess:function(e){e&&e.book.volumesCount>1&&n(Object(g.c)("ADDED_BOOK_IS_SET"))},onFailure:function(e){var t=e.error,r=t.name,a=t.data;if("BOOK_CANT_BUYBACK"===r&&a){if(n(C({barcode:""})),u&&a.isFree){if("joined"===c)return void n(R(a.id));n((m=a.id,function(e,t){var n=t(),r=Object(i.g)(n);Object(i.d)(n)&&"unknown"===r&&e(S(m))}))}n((p=a.id,d=function(e){return Object(l.a)(e,s.a.refuseBook)}(a),w({type:o.Ud,payload:{id:p}},d)))}else{var p,d,m;if("BOOK_PRICE_NOT_FOUND"===r){var y={code:a.code};if(a.book){var b=a.book,g=b.title;y=w({},y,{isbn:b.isbn13,title:g,isTitleEditable:!g})}else y=w({},y,{isbn:f});n(Object(h.b)(y))}}}}}).then(function(e){var t=e.id;e.speedUpCoupon&&n(L(t))})}},B=Object(u.a)(function(){return function(e){return e(N()).catch(function(){return k("/sell/add")}).then(function(t){return t?e(F({barcode:t})):k("/sell/add")})}}),D=function(){return function(e){return e(Object(g.c)("SUBSCRIBE_FROM_SELL"))}},M=Object(u.a)(function(){return k("/sell/add")}),U=Object(u.a)(function(){return function(e,t){var n=t().addedBooks.form.values.barcode,a=t().addedBooks.isUploading;n&&(Object(p.b)(n)||r.test(n))?a||(y.f?_():k("/sell"),e(F({barcode:n},!0))):e({type:o.eg,errors:{barcode:"INVALID"}})}}),z=function(e){return{id:e,fetch:{types:[o.bg,o.cg,o.ag],from:"delete /user/books/".concat(e)}}},G=function(e){return{type:o.Ef,payload:e}},H=function(e){return{id:e,fetch:{types:[o.Zd,o.ae,o.Yd],from:"delete /user/refused-books/".concat(e)}}},W=function(e,t){return function(n,r){var a=r(),i=Object(c.w)(a.entities,e).book;return n({id:e,fetch:{types:[o.Wd,o.Xd,o.Vd],from:"post /user/refused-books/".concat(i,"/feedback"),body:t}})}},V=function(e){return function(t){t(R(e)).then(function(){t({type:o.ae,id:e})})}},K=function(e){return function(t,n){var r=n();t("joined"===Object(i.g)(r)?V(e):S(e))}},q=function(e){return function(t){t({fetch:{types:[o.nc,o.oc,o.mc],from:"put /free-plan",body:{action:"join"}}}).then(function(){t(Object(b.a)("freePlanStatus","joined")),t(S("")),t(V(e))})}},Y=function(){return function(e){e({fetch:{types:[o.he,o.ie,o.ge],from:"put /free-plan",body:{action:"exit"}}}).then(function(){e(Object(b.a)("freePlanStatus","exit")),e(S(""))})}}},KdqP:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d});var r=n("ueSK"),o=n("JzTR"),a=n("qzae"),i=n("Qcau"),c=function(e,t,n,a){return function(c,l){var s=i.e(l().bookLists,t);return c({listKey:t,isReset:e,fetch:{types:[r.x,r.y,r.w],from:e||!s?n:s,schema:a||o.a.books}})}},l=function(e){return c(e,"user-sold","/user/sold-books",[{book:o.a.book,buyer:o.a.user}])},s=function(e){return c(e,"user-purchased","/user/purchased-books",[{book:o.a.book,seller:o.a.user}])},u=function(e,t){return c(t,"collection-".concat(e),"/collections/".concat(e,"/books"))},f=function(e,t,n){return function(i,c){var l=a.d(c().collectionLists,t);return i({listKey:t,isReset:e,fetch:{types:[r.qb,r.rb,r.pb],from:e||!l?n:l,schema:o.a.collections}})}},p=function(e){return f(e,"collections","/collections")},d=function(e){return function(t,n){var a=n().orderList.nextUrl;return t({isReset:e,fetch:{types:[r.Bd,r.Cd,r.Ad],from:e||!a?"/user/orders":a,schema:o.a.orders}})}}},Kj9r:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d="//img.duozhuayu.com/3175435650c711e7ab4a00163e04f327.jpg",m=function(e,t){return(t?e.medium:e.small)||d},y=function(e){var t=e.responsive,n=e.fixHeight,r=e.standard,a=e.shadowed,c=e.small,f=e.slim,d=e.little,y=e.tiny,b=e.mini,h=e.images,g=e.inStock,v=e.darken,x=e.className,w=e.style,O=e.bottomLabel,E=e.putawayInfo,j=p(e,["responsive","fixHeight","standard","shadowed","small","slim","little","tiny","mini","images","inStock","darken","className","style","bottomLabel","putawayInfo"]);return i.a.createElement("div",{className:"jsx-3824360743 "+(l()("root",x,{darken:v,responsive:t,fixHeight:n,standard:r,shadowed:a,small:c,slim:f,tiny:y,mini:b,little:d})||"")},n?i.a.createElement("div",s({style:u({backgroundImage:"url(".concat(m(h,r),")")},w)},j,{className:"jsx-3824360743 "+(null!=j.className&&j.className||"img")})):i.a.createElement("img",s({alt:"",src:m(h,r),style:w},j,{className:"jsx-3824360743 "+(null!=j.className&&j.className||"img")})),!1===g&&i.a.createElement("div",s({},j,{className:"jsx-3824360743 "+(null!=j.className&&j.className||"label ".concat(O?"label-bottom":"label-center"))}),i.a.createElement("p",{className:"jsx-3824360743"},"暂时无货"),E),i.a.createElement(o.a,{id:"3824360743"},[".root.jsx-3824360743{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:110px;height:156px;}",".responsive.jsx-3824360743{width:auto;height:calc((100vw - (10px * 8)) / 3 * 1.42);}","@media (max-width:359px){.responsive.jsx-3824360743{height:calc((100vw - (10px * 6)) / 2 * 1.42);}}","@media (min-width:480px){.responsive.jsx-3824360743{height:calc((100vw - (10px * 10)) / 4 * 1.42);}}","@media (min-width:600px){.responsive.jsx-3824360743{height:calc((600px - (10px * 10)) / 4 * 1.42);}}",".shadowed.jsx-3824360743{box-sizing:border-box;box-shadow:1px 1px 8px rgba(0,0,0,0.2);}",".mini.jsx-3824360743{width:50px;height:70px;}",".tiny.jsx-3824360743{width:65px;height:65px;}",".little.jsx-3824360743{width:60px;height:90px;}",".slim.jsx-3824360743{width:80px;height:120px;}",".small.jsx-3824360743{width:90px;height:128px;}",".standard.jsx-3824360743{width:150px;height:auto;}",".img.jsx-3824360743{display:block;max-width:100%;max-height:100%;}",".fixHeight.jsx-3824360743 .img.jsx-3824360743{width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;}",".standard.jsx-3824360743 .img.jsx-3824360743{box-shadow:0 1px 10px rgba(0,0,0,0.2);}",".darken.jsx-3824360743 .img.jsx-3824360743{-webkit-filter:brightness(0.5);filter:brightness(0.5);}",".label.jsx-3824360743{position:absolute;bottom:0;right:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;font-size:11px;font-weight:400;background:rgba(0,0,0,0.5);}",".label-center.jsx-3824360743{top:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:16px;}",".mini.jsx-3824360743 .label-center.jsx-3824360743{font-size:12px;}",".label-bottom.jsx-3824360743{height:24px;}","@media (max-width:350px){.small.jsx-3824360743{width:72px;height:102px;}}"]))};y.defaultProps={images:{small:d,medium:d}},t.a=y},LAhb:function(e,t,n){"use strict";var r=n("2iEm"),o=n("q1tI"),a=n.n(o),i=n("zDcZ"),c=n("Kj9r"),l=n("cL47"),s=n("HEen"),u=n("Dx/V");n("nHcD"),n("oSlh");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var y=function(e){var t=e.style,n=m(e,["style"]);return a.a.createElement("span",f({style:p({padding:"2px 5px",borderRadius:"0 0 5px 0",color:"white",backgroundColor:i.a.emphasis,fontSize:"12px"},t)},n),"有货")},b={fontSize:"14px"};t.a=function(e){var t=e.book,n=t.id,o=t.images,d=t.title,h=t.stock,g=t.rawAuthor,v=e.coverStyle,x=e.imageProps,w=void 0===x?{}:x,O=e.brighterAuthor,E=m(e,["book","coverStyle","imageProps","brighterAuthor"]);return a.a.createElement(s.a,f({component:r.a,to:"/books/".concat(n),className:"BookItem"},E),a.a.createElement("aside",null,a.a.createElement(s.a,f({item:!0,noShrink:!0,component:c.a,fixHeight:!0,images:o,className:"SearchBookItem-image",style:p({boxShadow:"2px 2px 20px 0 rgba(0,0,0,0.12)"},v)},w),h&&a.a.createElement(y,{style:{position:"absolute",top:0,left:0}}))),a.a.createElement("article",null,a.a.createElement(u.a,{className:"BookItem-title",style:{fontSize:"18px",fontWeight:400}},d),a.a.createElement("div",{className:"BookImage-content",style:{fontSize:"14px",color:O?"":i.a.lighterFont}},g),a.a.createElement("div",{className:"BookItem-meta"},a.a.createElement(l.a,{style:b,bookId:n}))))}},LCq8:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("17x9"),i=n.n(a),c=n("M7po"),l=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,y(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,a=[{key:"propTypes",get:function(){return{text:i.a.string.isRequired}}}],(r=[{key:"render",value:function(){var e=this.props,t=e.style,n=p(e,["style"]),r=l()(u({render:"image"},n));return o.a.createElement("img",{src:r.src,alt:"二维码",style:u({width:"".concat(n.size,"px"),height:"".concat(n.size,"px")},t)})}}])&&d(n.prototype,r),a&&d(n,a),t}();t.a=h},LTr4:function(e,t,n){"use strict";var r=n("fvjX"),o=n("peh1"),a=n("TSHB"),i=n("m8R6"),c=n("RbH8"),l=n("IiWD"),s=n("j8bt"),u=n("78eS"),f=n("51ew"),p=n("QV6A"),d=n("W7QA"),m=n("OtLZ"),y=n("/1FC"),b=n("ueSK");function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,w=function(e){return function(t,n){var r=n.activityId,o=t[r],a=o.item;return g({},t,v({},r,g({},o,{item:g({},a,e(a,n))})))}},O=w(function(e,t){var n=e.latestVoters,r=e.voteCount,o=t.id;return{voteCount:r+1,votedByMe:!0,latestVoters:Object(y.a)(n)?[o].concat(h(n)):[o]}}),E=w(function(e,t){var n=e.latestVoters,r=e.voteCount,o=t.id,a=Object(m.a)(n,o);return{voteCount:Math.max(r-1,0),votedByMe:!1,latestVoters:a}}),j=w(function(e){return{commentsCount:e.commentsCount+1}}),k=w(function(e){var t=e.commentsCount;return{commentsCount:Math.max(0,t-1)}}),_=Object(s.a)({key:"activityItems",types:[b.Ac,b.Bc,b.wc],updateReducer:function(e,t){switch(t.type){case b.tg:return O(e,t);case b.Df:return E(e,t);case b.xb:return j(e,t);case b.le:return k(e,t);default:return e}}}),S=n("RXTu"),C=n("TgTV");function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return te}),n.d(t,"J",function(){return ne}),n.d(t,"u",function(){return oe}),n.d(t,"H",function(){return ae}),n.d(t,"f",function(){return ce}),n.d(t,"y",function(){return le}),n.d(t,"j",function(){return se}),n.d(t,"r",function(){return ue}),n.d(t,"E",function(){return fe}),n.d(t,"C",function(){return pe}),n.d(t,"o",function(){return de}),n.d(t,"x",function(){return ye}),n.d(t,"q",function(){return be}),n.d(t,"l",function(){return he}),n.d(t,"k",function(){return ge}),n.d(t,"g",function(){return ve}),n.d(t,"c",function(){return xe}),n.d(t,"F",function(){return we}),n.d(t,"D",function(){return Oe}),n.d(t,"s",function(){return Ee}),n.d(t,"h",function(){return je}),n.d(t,"z",function(){return ke}),n.d(t,"p",function(){return _e}),n.d(t,"w",function(){return Se}),n.d(t,"G",function(){return Ce}),n.d(t,"m",function(){return Pe}),n.d(t,"v",function(){return Ie}),n.d(t,"A",function(){return Ne}),n.d(t,"d",function(){return Re}),n.d(t,"I",function(){return Le}),n.d(t,"t",function(){return Ae}),n.d(t,"i",function(){return Fe}),n.d(t,"b",function(){return Be}),n.d(t,"B",function(){return De}),n.d(t,"n",function(){return Me});var T=["BOOK_SOLD_OUT","LOCK_IN_BOOK_SOLD_OUT"],N=Object(s.a)({key:"books",types:[b.T,b.U,b.N],updateReducer:function(e,t){switch(t.type){case b.fd:case b.ue:return T.includes(t.error.name)?P({},e,(t.error.data||[]).reduce(function(e,t){return P({},e,I({},t.id,t))},{})):e;case b.yg:var n=t.id,r=e[n];return P({},e,I({},n,P({},r,{wishCount:(r.wishCount||0)+1,virtuals:P({},r.virtuals,{cartBook:t.result})})));case b.Bg:var o=t.payload.book.id,a=e[o];return P({},e,I({},o,P({},a,{wishCount:a.wishCount>1?a.wishCount-1:0,virtuals:P({},a.virtuals,{cartBook:void 0})})));default:return e}}}),R=Object(s.a)({key:"items",types:[b.kc,b.lc,b.jc]}),L=Object(s.a)({key:"users",types:[b.gg,b.hg,b.fg],updateReducer:function(e,t){switch(t.type){case b.ig:return P({},e,I({},t.id,P({},e[t.id],t.payload)));case b.j:var n=t.userId,r=e[n];return P({},e,I({},n,P({},r,{owningBooksCount:r.owningBooksCount+1})));case b.qe:var o=t.userId,a=t.shelfBookIds,i=e[o];return P({},e,I({},o,P({},i,{owningBooksCount:i.owningBooksCount-a.length})));case b.oe:var c=t.userId,l=e[c];return P({},e,I({},c,P({},l,{activitiesCount:l.activitiesCount-1})));default:return e}}}),A=Object(s.a)({key:"orders",types:[b.Hd,b.Id,b.Gd],updateReducer:function(e,t){switch(t.type){case b.Fd:return P({},e,I({},t.id,P({},e[t.id],{isCanceled:!0})));case b.Ld:return P({},e,I({},t.id,P({},e[t.id],t.payload)));default:return e}}}),F=Object(s.a)({key:"userBooks",type:[b.f,b.g,b.e]}),B=Object(s.a)({key:"refuseBooks",updateReducer:function(e,t){switch(t.type){case b.Xd:return P({},e,I({},t.id,P({},e[t.id],{refuseFeedback:t.payload})));default:return e}}}),D=Object(s.a)({key:"cartBooks",updateReducer:function(e,t){switch(t.type){case b.Qe:return P({},e,I({},t.id,P({},e[t.id],{hasSelected:t.hasSelected})));case b.Ke:return Object(a.a)(e,function(e){return t.ids.includes(e.id)?P({},e,{hasSelected:t.hasSelected}):e});case b.jd:return P({},e,I({},t.id,P({},e[t.id],{lockStatus:"pending"})));case b.id:return P({},e,I({},t.id,P({},e[t.id],{lockStatus:"unpaid"})));case b.kd:return P({},e,I({},t.id,Object(i.a)(e[t.id],"lockStatus")));default:return e}}}),M=Object(s.a)({key:"shelfBooks",updateReducer:function(e,t){switch(t.type){case b.Te:var n=t.id,r=t.hasSelected;return P({},e,I({},n,P({},e[n],{hasSelected:r})));case b.Le:var o=t.hasSelected;return Object(a.a)(e,function(e){return P({},e,{hasSelected:o})});default:return e}}}),U=Object(s.a)({key:"activities"}),z=Object(s.a)({key:"collections",types:[b.tb,b.ub,b.sb]}),G=Object(s.a)({key:"tags",types:[b.rf,b.sf,b.qf]}),H=Object(s.a)({key:"producers"}),W=Object(s.a)({key:"notifications"}),V=Object(s.a)({key:"transactions"}),K=Object(s.a)({key:"tarots",types:[b.dd,b.ed,b.cd]}),q=Object(s.a)({key:"itemCategories"}),Y=Object(s.a)({key:"searchResults"}),Q=Object(s.a)({key:"traders"}),Z=Object(S.c)({key:"searchFeedback",editType:b.Hb,createTypes:[b.De,b.Ee,b.Ce]}),X=Object(r.c)((I(x={occComments:p.a,ocContribs:f.a,ocContribItems:f.d,openCollections:d.a,notifications:W,transactions:V,collections:z,userBooks:F,refuseBooks:B,cartBooks:D,shelfBooks:M,activities:U,messages:C.a,orders:A,users:L,traders:Q,books:N,tags:G,producers:H,activityItems:_},l.d,l.g),I(x,"tarots",K),I(x,"activityComments",c.a),I(x,"items",R),I(x,"itemCategories",q),I(x,"searchResults",Y),I(x,"searchFeedback",Z),x)),J=(t.a=X,function(e){return function(t){return t[e].entities}}),$=J("tags"),ee=J("producers"),te=J("books"),ne=J("users"),re=J("traders"),oe=J("orders"),ae=J("userBooks"),ie=J("refuseBooks"),ce=J("cartBooks"),le=J("shelfBooks"),se=J("collections"),ue=J("notifications"),fe=J("transactions"),pe=J("tarots"),de=(J("activityComments"),J("items")),me=J("itemCategories"),ye=J("searchResults"),be=Object(S.f)("searchFeedback"),he=Object(o.createSelector)(de,function(e,t){return t},function(e,t){var n=e[t];return n?P({},n.item,{id:n.id}):null}),ge=Object(o.createSelector)(de,function(e,t){return t},function(e,t){return e[t]}),ve=Object(o.createSelector)(l.m,function(e,t){return t},function(e,t){return e[t]}),xe=Object(o.createSelector)(te,se,ce,ee,u.h,l.m,function(e,t){return te(e)[t]},function(e,t,n,r,o,a,i){if(!i||!i.relatedBooks&&!i.relatedCollections&&!i.relatedOpenCollections&&!i.relatedCategories)return i;var c=P({},i);if(c.relatedBooks&&(c.relatedBooks=c.relatedBooks.map(function(t){return e[t]})),c.relatedCollections&&(c.relatedCollections=c.relatedCollections.map(function(e){return t[e]}).filter(Boolean)),c.relatedOpenCollections&&(c.relatedOpenCollections=c.relatedOpenCollections.map(function(e){return o[e]}).filter(Boolean)),c.relatedCategories&&(c.relatedCategories=c.relatedCategories.map(function(e){return a[e]}).filter(Boolean)),c.producer&&(c.producer=r[c.producer]),c.virtuals&&c.virtuals.cartBook){var l=n[c.virtuals.cartBook];c.virtuals=P({},c.virtuals,{cartBook:l})}return c}),we=function(e,t){return ne(e)[t]},Oe=function(e,t){return re(e)[t]},Ee=Object(o.createSelector)(te,ae,oe,function(e,t){return t},function(e,t,n,r){var o=n[r];return o?o.userBooks?P({},o,{userBooks:o.userBooks.map(function(n){var r=t[n];return P({},r,{book:e[r.book]})})}):o:null}),je=Object(o.createSelector)(te,function(e,t){return se(e)[t]},function(e,t){if(!t||!t.books)return t;var n=P({},t);return n.books=n.books.map(function(t){return e[t]}),n}),ke=function(e,t){return $(e)[t]},_e=Object(S.f)("activityComments"),Se=function(e,t){return ie(e)[t]},Ce=function(e,t){return ae(e)[t]},Pe=function(e,t){return me(e)[t]},Ie=function(e,t){return ee(e)[t]},Te=function(e){return function(t,n){return t[e].loadStatus[n]||"initial"}},Ne=Te("tags"),Re=Te("books"),Le=Te("users"),Ae=Te("orders"),Fe=Te("collections"),Be=Te("activityItems"),De=Te("tarots"),Me=Te("items")},MHfH:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("zDcZ"),l=n("JAFv"),s=n("9KrG"),u=n("Wad5"),f=n("ZDtv");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,y(t).apply(this,arguments))}var n,r,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose,r=e.paddingStyle,a=e.style;return i.a.createElement(u.a,{fixWindow:!0,onClose:n},i.a.createElement(s.a,{paddingStyle:r},i.a.createElement(f.a,null,i.a.createElement("div",{style:a,className:"jsx-2687297901 actionsheet"},t,i.a.createElement("button",{onClick:n,className:"jsx-2687297901 close-btn"},i.a.createElement(l.a,{width:10,height:10,stroke:c.a.lighterFont}))),i.a.createElement(o.a,{id:"2687297901"},[".actionsheet.jsx-2687297901{padding:20px;position:relative;background:#fff;border-radius:10px 10px 0 0;}",".close-btn.jsx-2687297901{width:50px;height:50px;position:absolute;right:0;top:0;}"]))))}}])&&d(n.prototype,r),p&&d(n,p),t}();t.a=h},N8ZC:function(e,t,n){},NTIX:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"k",function(){return d});var r="OCC_COMMENTS_REQUEST",o="OCC_COMMENTS_SUCCESS",a="OCC_COMMENTS_FAILURE",i="OCC_COMMENT_EDIT",c="OCC_COMMENT_CREATE_REQUEST",l="OCC_COMMENT_CREATE_SUCCESS",s="OCC_COMMENT_CREATE_FAILURE",u="OCC_COMMENT_DELETE_REQUEST",f="OCC_COMMENT_DELETE_SUCCESS",p="OCC_COMMENT_DELETE_FAILURE",d="OCC_COMMENT_FORM_FOCUS"},NWy5:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"m",function(){return y}),n.d(t,"o",function(){return b}),n.d(t,"k",function(){return h}),n.d(t,"n",function(){return g}),n.d(t,"p",function(){return v}),n.d(t,"l",function(){return x}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return j}),n.d(t,"g",function(){return k}),n.d(t,"h",function(){return _}),n.d(t,"f",function(){return S}),n.d(t,"j",function(){return C});var r=n("fvjX"),o=n("ipyK"),a=n("Muja"),i=n("ifKl"),c=n("+Xah"),l=n("GhQF");function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e,t){return e&&e.length&&t&&t.next},m=function(e){var t=e.types,n=e.updaters,i=void 0===n?{}:n,c=p(t,6),l=c[0],f=c[1],m=c[2],y=c[3],b=c[4],h=c[5],g=i.add,v=i.remove,x=i.clear,w=i.all;return Object(r.c)({loadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return"loading";case f:var n=t.payload,r=n.data,o=n.paging;return d(r,o)?"loaded":"drained";case m:return"failed";case h:return"initial";default:return e}},nextUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n=t.payload,r=n.data,o=n.paging;return d(r,o)?o.next:null;case h:return null;default:return e}},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return"count"in t.payload?t.payload.count:e;case h:return 0;default:return e}},meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload&&"meta"in t.payload?u({},e,t.payload.meta):e;case h:return{};default:return e}},ids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(w)return w(e,t);var n=s(e);switch(t.type){case f:var r=t.isReset?t.result:[].concat(s(e),s(t.result));return Object(o.a)(r,a.a);case y:if(g)return g(e,t);var i=t.payload.id,c=n.indexOf(i);return c>-1&&n.splice(c,1),n.unshift(i),n;case b:if(v)return v(e,t);var l=t.id,u=n.indexOf(l);return u<0?e:(n.splice(u,1),n);case h:return x?x(e,t):[];default:return e}}})};t.i=function(e){var t=e.types,n=e.mapActionToKey,r=e.updaters,o=m({types:t,updaters:r});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(t.includes(r.type)){var a=n(r);return u({},e,f({},a,o(e[a],r)))}return e}};var y=function(e){return e.loadStatus},b=function(e){return e.nextUrl},h=function(e){return e.ids},g=function(e,t){return t in e?e[t].loadStatus:"initial"},v=function(e,t){return t in e?e[t].nextUrl:""},x=function(e,t){return t in e?e[t].ids:[]},w=function(e){return function(t){if("function"!=typeof e)throw new Error("getReducer must be function");var n=e(t);return h(n)}},O=function(e){return function(t,n){if("function"!=typeof e)throw new Error("getReducer must be function");var r=e(t);return x(r,n)}},E=function(e){return function(t){if("function"!=typeof e)throw new Error("getReducer must be function");var n=e(t);return y(n)}},j=function(e){return function(t,n){if("function"!=typeof e)throw new Error("getReducer must be function");var r=e(t);return g(r,n)}},k=function(e){return function(t){if("function"!=typeof e)throw new Error("getReducer must be function");var n=e(t);return b(n)}},_=function(e){return function(t,n){if("function"!=typeof e)throw new Error("getReducer must be function");var r=e(t);return v(r,n)}},S=function(e){return function(t){if("function"!=typeof e)throw new Error("getReducer must be function");return function(e){return e.meta}(e(t))}},C=function(e){var t=e.types,n=e.schema,r=e.url,o=e.selector,a=e.getFetch,s=void 0===a?c.a:a,f=e.getQuery,p=void 0===f?i.a:f,d=e.actionPayload,m=void 0===d?i.a:d,y=s(fetch);return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i,c){var s=c(),f=o(s),d=a.id,h=d?Object(l.d)(f,d):b(f),g=p(s,a),v="function"==typeof r?r(a):r,x=g?"".concat(v,"?").concat(g):v,w=m(f);return i(u({id:d,isReset:e,fetch:{types:t,from:e||!h?x:h,schema:n,fetchFn:y}},w))}}}},NfRc:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.style,n=l(e,["style"]);return o.a.createElement("svg",a({viewBox:"0 0 75 50",style:i({fill:"rgba(170, 170, 170, 0.1)",transform:"scaleY(-1)"},t)},n),o.a.createElement("path",{d:"M58.4132,31.7594C70.0423,32.1141 75,25.8333 75,16.6667C75,7.5 67.35,0 58,0C48.65,0 41,7.5 41,16.6667C41,35.0833 56.215,50 75,50C75,50 64.1932,44.3427 58.4132,31.7594ZM34,16.6667C34,7.5 26.35,0 17,0C7.65,0 0,7.5 0,16.6667C0,35.0833 15.215,50 34,50C34,50 22.78,44.5206 17,31.9373C28.8051,32.2007 34,25.8333 34,16.6667Z"}))}},Nlfl:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"j",function(){return s}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"d",function(){return h});var r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},o=function(e){var t=e.toString();return 1===t.length?"0".concat(t):t},a=function(e,t,n){return"".concat(t).concat(e).concat(n)},i=36e5,c=24*i,l=function(e){return"string"==typeof e?new Date(e):"number"==typeof e&&10==="".concat(e).length?new Date(1e3*e):new Date(e)},s=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()},u=function(e){var t=new Date,n=s(t);return e===n?"今天":e-n===c?"明天":"周".concat(r[new Date(e).getDay()])},f=function(e,t){var n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),i=e.getHours(),c=e.getMinutes(),l="".concat(n,"-").concat(r,"-").concat(a);return t?l:"".concat(l," ").concat(i,":").concat(o(c))},p=function(e){return"".concat(u(s(new Date(e)))," ").concat((t=new Date(e),"".concat(o(t.getHours()),":").concat(o(t.getMinutes()))));var t},d=function(e){return"".concat(u(e),"（").concat((t=new Date(e),"".concat(t.getMonth()+1," 月 ").concat(t.getDate()," 日")),"）");var t},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(e,":00 - ").concat(e+t,":00")},y=function(e){if(!e)return"";var t=new Date(e),n=new Date(e+c);return"".concat(t.getMonth()+1," 月 ").concat(t.getDate()," ~ ").concat(n.getMonth()+1," 月 ").concat(n.getDate()," 日")},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noStartPadding,r=t.noEndPadding,o=new Date,l=Math.abs(o-e),u=o>e,p=function(e,t){var n=s(e),r=s(t);return Math.abs(n-r)/c}(o,e),d=o.getFullYear(),m=e.getFullYear(),y=n?"":" ",b=r?"":" ";if(l<6e4)return u?"刚刚":"马上";if(l<i){var h=a(Math.round(l/6e4),y,b);return"".concat(h,"分钟").concat(u?"前":"后")}if(l<6*i){var g=a(Math.round(l/i),y,b);return"".concat(g,"小时").concat(u?"前":"后")}if(0===p)return"今天";if(1===p)return u?"昨天":"明天";if(2===p)return u?"前天":"后天";if(p>2&&m===d){var v=a(e.getMonth()+1,y,b),x=a(e.getDate(),y,b),w=a(p,y,b);return u?"".concat(v,"月").concat(x,"日"):"".concat(w,"天后")}return f(e,!0)},h=function(e){var t=new Date(1e3*e);return"".concat(t.getFullYear(),".").concat(o(t.getMonth()+1),".").concat(o(t.getDate()))}},Nsxm:function(e,t,n){},P1JD:function(e,t,n){},P1rd:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p});var r=n("fvjX"),o=n("NWy5"),a=n("JzTR"),i=n("Y+bJ"),c=n("ueSK"),l=function(e){return e.transactions.loadStatus},s=function(e){return e.transactions.ids},u=function(e){return e.balance},f=function(e){return function(t,n){var r=function(e){return e.transactions.nextUrl}(n().account);return t({isReset:e,fetch:{from:e||!r?"/user/balance-transactions":r,types:[c.r,c.s,c.q],schema:a.a.transactions}})}},p=function(e){return function(t){return t({amount:e,fetch:{from:"post /withdrawal",types:[c.Gg,c.Hg,c.Fg],body:{amount:e},schema:a.a.transaction}}).then(function(){t(Object(i.d)(c.Hg))})}},d=Object(o.c)({types:[c.r,c.s,c.q,c.Hg]}),m=Object(r.c)({balance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.bf:return t.payload?t.payload.balance:e;case c.Hg:return e-t.amount;case c.p:return e+t.payload;case c.s:return t.payload.balance;default:return e}},isWithdrawing:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case c.Gg:return!0;case c.Hg:case c.Fg:return!1;default:return e}},transactions:d});t.a=m},Q8kY:function(e,t,n){},QV6A:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var r=n("RXTu"),o=n("NWy5"),a=n("NTIX"),i=[a.b,a.c,a.a],c=Object(r.c)({key:"occComments",types:i,editType:a.j,createTypes:[a.e,a.f,a.e]}),l=Object(o.i)({types:i.concat([a.f,a.i]),mapActionToKey:function(e){var t=e.contribId;if(!t)throw new Error("action must have contribId property");return t}}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type!==a.k?e:t.focused}},Qcau:function(e,t,n){"use strict";var r=n("NWy5"),o=n("ueSK"),a=n("GhQF");n.d(t,"c",function(){return a.b}),n.d(t,"e",function(){return a.d}),n.d(t,"b",function(){return a.a}),n.d(t,"d",function(){return a.c});var i=Object(r.i)({types:[o.x,o.y,o.w,o.F,o.P],mapActionToKey:function(e){return e.listKey}});t.a=i},"R/IG":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),c=n("Wad5"),l=n("5Wrh"),s=n("JAFv");n("6OPG");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onClose,a=e.onOk,u=e.noFooter,f=e.actions,p=e.footer,d=e.style,m=e.containerStyle,y=e.mainStyle,b=e.buttonStyle,h=e.closeButton,g=void 0===h||h,v=e.children;return v?o.a.createElement(c.a,{onClose:n},o.a.createElement("div",{className:i()("Modal",Boolean(t)||"Modal--headless"),style:m},o.a.createElement("div",{className:"Modal-mainWrapper",style:y},o.a.createElement("div",{className:"Modal-main"},t&&o.a.createElement("div",{className:"Modal-header"},t),o.a.createElement("div",{className:"Modal-body",style:d},v),!u&&o.a.createElement("div",{className:"Modal-footer"},p,function(e){return e?Array.isArray(e)?e.map(function(e){return Object(r.cloneElement)(e,{className:"Modal-button"})}):Object(r.cloneElement)(e,{className:"Modal-button"}):null}(f),!f&&!p&&o.a.createElement(l.a,{primary:!0,className:"Modal-button",onClick:a||n},"好的")))),g&&o.a.createElement("div",{className:"Modal-buttonWrapper",style:b},o.a.createElement(l.a,{icon:!0,inverse:!0,className:"Modal-close",onClick:n},o.a.createElement(s.a,{className:"Modal-removeIcon"}))))):null}}])&&f(n.prototype,a),u&&f(n,u),t}()},RPnu:function(e,t,n){},RXTu:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return y});var r=n("fvjX");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e){var t=e.editType,n=e.createTypes,r=c(e.updateTypes,3),o=r[0],l=r[1],s=r[2],u=c(n,3),f=u[0],p=u[1],d=u[2],m={},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t:return a({},e,n.attrs);case p:case l:return{};default:return e}};if(m.unsavedEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t:case p:case l:var r=n.id,o=void 0===r?"pending":r;if(Array.isArray(o)){var c=a({},e);return o.forEach(function(e){c[e]=y(c[e],n)}),c}return a({},e,i({},o,y(e[o],n)));default:return e}},f&&p&&d||o&&l&&s){m.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case p:case d:case o:case l:case s:var n=t.id,r=void 0===n?"pending":n;return a({},e,i({},r,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case f:case o:return!0;case p:case d:case l:case s:return!1;default:return e}}(e[r],t)));default:return e}}}return a({},m)},s=function(e){var t=e.key,n=e.types,s=void 0===n?[]:n,u=e.editType,f=e.updateTypes,p=void 0===f?[]:f,d=e.createTypes,m=void 0===d?[]:d,y=e.updateReducer,b=c(s,3),h=b[0],g=b[1],v=b[2],x=p[1],w={};(u||p.length||m.length)&&(w=a({},l({editType:u,createTypes:m,updateTypes:p})));if(w.entities=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(n.entities&&t in n.entities){var r=a({},e),c=n.entities[t];return Object.keys(c).forEach(function(e){if("soldBookActivities"===t&&!n.isReset){var i=r[e];if(i){var l=c[e];l.userBooks=[].concat(o(i.userBooks),o(l.userBooks))}}r[e]=a({},r[e],c[e])}),r}switch(n.type){case x:return a({},e,i({},n.id,a({},e[n.id],n.attrs)));default:return y?y(e,n):e}},h&&g&&v){w.loadStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case g:case v:var n=t.id;return a({},e,i({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return"loading";case g:return"loaded";case v:return"NOT_FOUND"===t.error.name?"notFound":"failed";default:return e}}(e[n],t)));default:return e}}}return Object(r.c)(w)},u=function(e){return function(t){return t[e].entities}},f=function(e){return function(t,n){return t[e].entities[n]||null}},p=function(e){return function(t,n){return t[e].loadStatus[n]||"initial"}},d=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pending";return t[e].updateStatus[n]||!1}},m=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pending";return t[e].unsavedEntities[n]||{}}},y=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pending",o=t[e],a=o.entities;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(t&&e in t?t:n)[e];return null==r?"":r}(n,o.unsavedEntities[r],a[r])}}},Raoy:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("17x9"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("HEen"),l=n("mM5K");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["Component"]),n=t,s=[{key:"propTypes",get:function(){return{id:o.a.string.isRequired,loadStatus:o.a.string.isRequired,loader:o.a.func.isRequired,renderWhenLoaded:o.a.func,renderWhenLoading:o.a.func,renderWhenNotFound:o.a.func,renderUnknownStatus:o.a.func}}},{key:"defaultProps",get:function(){return{renderWhenLoaded:function(e){var t=e.children;return"function"==typeof t?t():a.Children.only(t)},renderWhenLoading:function(){return i.a.createElement(c.a,{alignCenter:!0,center:!0,style:{marginTop:"30px"}},i.a.createElement(l.a,null))},renderWhenNotFound:function(){return i.a.createElement("div",null,"没找到")},renderUnknownStatus:function(e){var t=e.loadStatus;return console.debug("Got unknown loadStatus: ".concat(t)),null}}}}],(r=[{key:"componentDidMount",value:function(){this.needsToLoad&&this.load()}},{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&e.loader(e.id)}},{key:"load",value:function(){this.props.loader()}},{key:"render",value:function(){var e,t=this.props,n=t.loadStatus,r=t.renderWhenLoaded,o=t.renderWhenLoading,a=t.renderWhenNotFound,i=t.renderUnknownStatus;switch(n){case"loading":e=o;break;case"notFound":e=a;break;case"loaded":e=r;break;default:e=i}return e(this.props)}},{key:"needsToLoad",get:function(){var e=this.props.loadStatus;return!["loaded","loading"].includes(e)}}])&&u(n.prototype,r),s&&u(n,s),t}()},RbH8:function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"h",function(){return x}),n.d(t,"f",function(){return w}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return E}),n.d(t,"g",function(){return j});var r=n("fvjX"),o=n("ueSK"),a=n("wPgv"),i=n("NWy5"),c=n("RXTu"),l=n("GhQF"),s=n("LTr4");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Object(i.i)({types:[o.yc,o.zc,o.xc,o.d,o.oe],mapActionToKey:function(e){return e.userId}}),d=Object(i.i)({types:[o.uc,o.vc,o.tc,o.xb,o.le],mapActionToKey:function(e){return e.activityId}}),m=Object(i.i)({types:[o.Dc,o.Ec,o.Cc],mapActionToKey:function(e){return e.activityId}});t.b=Object(r.c)({userActivities:p,userActivityComments:d,userActivityVoters:m,contribFoldStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type!==o.a)return e;var n=t.contribId;return u({},e,f({},n,!e[n]))}});var y=Object(c.c)({key:"activityComments",editType:o.Fb,createTypes:[o.wb,o.xb,o.vb]}),b=function(e,t){var n=(e.activity.userActivities[t]||{}).loadStatus;return void 0===n?"initial":n},h=function(e,t){var n=e.entities,r=n.books.entities,o=n.activityItems.entities[t];if(!o)return null;var i,c=o.item.data;switch(o.type){case"contribution":i=Object(a.f)(e.entities,c.id);break;case"sold_books":case"purchased_books":i=c.id.map(function(e){return r[e]});break;default:i={}}return u({},o,{item:u({},o.item,{data:i})})},g=Object(c.b)("activityComments"),v=function(e,t){var n=e.entities,r=g(n,t);return u({},r,{author:Object(s.F)(n,r.author)})},x=function(e,t){return Object(l.a)(e.activity.userActivities,t).map(function(t){return h(e,t)})},w=function(e,t){return Object(l.a)(e.activity.userActivityComments,t)},O=function(e,t){var n=e.entities,r=e.activity;return Object(l.a)(r.userActivityVoters,t).map(function(e){return Object(s.F)(n,e)})},E=function(e,t){return Object(l.b)(e.activity.userActivityVoters,t)},j=function(e,t){return Object(l.b)(e.activity.userActivityComments,t)}},Rcgl:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c});var r=n("ueSK"),o=null,a=function(e){return function(t){return t({fetch:{types:[r.lg,r.ng],from:"post /sms/send",body:{phone:e}}}).then(function(){return t(function e(){return function(t,n){var a=n().address.phone.remainingSeconds;return a>1&&(o=setTimeout(function(){return t(e())},1e3)),a>0?t({type:r.mg,value:a-1}):Promise.resolve()}}())},function(e){t({type:r.kg,error:e})})}},i=function(e){return{type:r.jg,value:e}},c=function(e,t){return function(n){return n({phone:e,fetch:{types:[r.pg,r.qg],from:"post /sms/verify",body:{phone:e,smsCode:t}}}).then(function(){clearTimeout(o)},function(t){n({type:r.og,phone:e,error:t})})}}},RuVk:function(e,t,n){},S7Tf:function(e,t,n){"use strict";var r=n("q1tI"),o=n("6Vt4"),a=n("l9ey");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=a.f?"":"多抓鱼",p=Object(o.widgetMessenger)("dejavu","rexxar")("widget/nav_title");function d(e,t){var n=e||f;!function(e){a.f?Object(o.dispatch)(p(Object(o.assemblePayload)({title:e}))):document.title=e}(a.c||a.f||!t||n===f?n:"".concat(n," - ").concat(f))}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentWillMount",value:function(){var e=this.props;d(e.title,e.withSuffix)}},{key:"componentWillReceiveProps",value:function(e){var t=e.title,n=e.withSuffix;t===this.props.title&&n===this.props.withSuffix||d(t,n)}},{key:"render",value:function(){return null}}])&&c(n.prototype,o),a&&c(n,a),t}();m.defaultProps={title:f,withSuffix:!0},t.a=m},Sieg:function(e,t,n){"use strict";var r,o,a,i,c,l=n("qLMV"),s=n("l9ey"),u=window.location.pathname;s.c||l.a||"/wechat/"!==u||(r=window.location,o=r.search,a=r.hash,i=/^\?a=?$/.test(o)?"":o.replace(/^\?a=?&/,"?"),c=a.replace(/^#/,""),window.history.replaceState(null,null,"".concat(c).concat(i)))},SvIo:function(e,t,n){},TgTV:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u});var r=n("RXTu"),o=n("ueSK"),a=Object(r.c)({key:"messages",types:[o.pd,o.qd,o.od],updateTypes:[o.Of,o.Pf,o.Nf],editType:o.Gb});t.a=a;var i=Object(r.a)("messages"),c=Object(r.b)("messages"),l=Object(r.d)("messages"),s=Object(r.g)("messages"),u=Object(r.e)("messages")},TmfU:function(e,t,n){},ULV3:function(e,t,n){},UVV0:function(e,t,n){},Uo4X:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),o.a.createElement("polyline",{points:"23 4 23 10 17 10"}),o.a.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))}},UqP4:function(e,t,n){},VjWl:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i});var r=n("ueSK"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:r.Qf,payload:{bookId:e,refresh:t}}},a=function(){return{type:r.Qf,payload:{}}},i=function(e,t,n){return{type:r.Me,payload:{condition:e,flawFlag:t,flawReasons:n}}}},W7QA:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var r=n("j8bt"),o=n("NWy5"),a=n("juUW"),i=Object(r.a)({key:"openCollections",types:[a.k,a.l,a.j]}),c=Object(o.c)({types:[a.h,a.i,a.g]}),l=Object(o.c)({types:[a.e,a.f,a.d]}),s=Object(o.c)({types:[a.b,a.c,a.a]})},Wad5:function(e,t,n){"use strict";n.d(t,"b",function(){return h});var r=n("q1tI"),o=n.n(r),a=n("17x9"),i=n.n(a),c=n("8+s/"),l=n.n(c),s=n("vD45"),u=n("cP9F");n("mzsC");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=null;function h(e){b=e}var g={children:i.a.node.isRequired,onClose:i.a.func.isRequired},v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?m(r):o).scrollTop=null,n.getRef=n.getRef.bind(m(n)),n.handleClick=n.handleClick.bind(m(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.fixWindow&&"absolute"!==b.style.position&&(this.scrollTop=Object(s.b)(),b.style.position="absolute",b.style.top="-".concat(this.scrollTop,"px"),document.documentElement.classList.add("fix-window"),Object(s.f)(0))}},{key:"componentWillUnmount",value:function(){this.props.fixWindow&&null!==this.scrollTop&&(b.style.position="static",b.style.top=0,document.documentElement.classList.remove("fix-window"),Object(s.f)(this.scrollTop))}},{key:"getRef",value:function(e){this.backdrop=e}},{key:"handleClick",value:function(e){e.target===this.backdrop&&this.props.onClose()}},{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement("div",{ref:this.getRef,className:"Layer-backdrop",onClick:this.handleClick},this.props.children))}}])&&p(n.prototype,a),i&&p(n,i),t}();v.propTypes=g;t.a=l()(function(e){return{count:e.length}},function(e){0!==e.count?b.classList.add("Layer--underneath"):b.classList.remove("Layer--underneath")})(v)},XjTe:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return b}),n.d(t,"a",function(){return h});var r=n("Bw5p"),o=n("GBY4"),a=n.n(o),i=n("cnfQ"),c=n("+Tm7");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["env","syncSession","miniProgramCode"],u=function(){return"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment},f="/pages/contact/contact",p=function(){return"1"===a()(location.href,!0).query.syncSession},d=function(){return!!a()(location.href,!0).query.miniProgramCode},m=function(){return!!a()(location.href,!0).query.userInfoAuth},y=function(e){var t=a()(e,!0);delete t.query.syncSession;var n=t.query.backPage;return n?{backPage:n}:{backUrl:t.toString()}},b=function(e){var t=Object(c.b)({userInfoAuth:!0,backPage:e});return"".concat(e,"?").concat(t)},h=function(){var e=Object(i.a)().location,t=e.pathname,n=e.search,o=Object(c.a)(n),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({},Object(r.a)(Object(c.a)(location.search),s),o),u=Object(c.b)(a);t.startsWith("/invitation")&&(location.href="https://invitation.duozhuayu.com".concat(t,"?").concat(u))}},XnDA:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"g",function(){return x});var r=n("ueSK"),o=n("cUTp"),a=n("XjTe"),i=n("/OR3");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,s=function(e,t){return"/pages/".concat(e,"/").concat(e,"?").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}(t))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"navigateTo",n={url:e};Object(i.h)().then(function(){(0,window.wx.miniProgram[t])(n)})},f=function(){return function(){var e=s("contact");u(e)}},p=function(e){return function(){var t=s("payment",e);u(t)}},d=function(e){return function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({},Object(a.g)(location.href),{cookie:e}),n=s("sync-session",t);u(n,"redirectTo")}},m=function(){return function(){l&&(l(),l=null)}},y=function(e){return function(t){var n,r,o,a;t(m()),n=e,r=3e3,a=Date.now(),function e(){var t=Date.now();t-a>r&&(n(),a=t),o=requestAnimationFrame(e)}(),l=function(){cancelAnimationFrame(o)}}},b=function(){return{type:r.jf}},h=function(){return{type:r.Zb}},g=function(e){return{type:r.mf,payload:e}},v=function(){return{type:r.ic}},x=function(e){return function(t,n){var r=n().session;Object(a.b)()&&!Object(o.b)(r)&&t(g(e))}}},XoAi:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return m});var r=n("fvjX"),o=n("wPgv"),a=n("NWy5"),i=n("ueSK");function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(a.i)({mapActionToKey:function(e){return e.bookId},types:[i.H,i.J,i.G,i.L,i.K]});t.a=Object(r.c)({contribFoldStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type!==i.M)return e;var n=t.contribId;return c({},e,l({},n,!e[n]))},contribsFoldStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type!==i.I?e:c({},e,l({},t.bookId,!0))},contribs:s});var u=function(e,t){return e.bookContribs.contribs[t]},f=function(e,t){var n=u(e,t);return n?n.ids.filter(function(t){var n=Object(o.a)(e.entities,t);return n&&n.reason}):[]},p=function(e,t){var n=u(e,t);return n?n.loadStatus:"initial"},d=function(e,t){return e.bookContribs.contribFoldStatus[t]},m=function(e,t){return e.bookContribs.contribsFoldStatus[t]}},"Y+bJ":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r,o=n("ueSK"),a=function(){return{type:o.Rb}},i=function(e,t,n){return function(i){i({type:o.ff,name:e,children:n}),t||(r&&clearTimeout(r),r=setTimeout(function(){r=null,i(a())},3e3))}},c=function(){return{type:o.nb}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.confirmAction,r=t.data;return{type:o.o,name:e,confirmAction:n,data:r}}},YI9S:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n("ueSK"),o=n("NWy5"),a=Object(o.i)({types:[r.R,r.S,r.Q],mapActionToKey:function(e){return e.id},updaters:{add:function(e,t){var n=t.payload.book;return e.includes(n.id)?e:[n.id].concat(e)}}}),i=function(e){return e.relatedBooks},c=Object(o.b)(i),l=Object(o.e)(i);t.a=a},YMRG:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this,e))).timer=null,n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.duration,n=void 0===t?3e3:t,r=e.onHide;this.timer=setTimeout(function(){r()},n)}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.props.value;return i.a.createElement("div",{className:"jsx-427349027 toast"},e,i.a.createElement(o.a,{id:"427349027"},[".toast.jsx-427349027{padding:8px 17px;position:fixed;left:50%;top:50%;border-radius:4px;background-color:rgba(0,0,0,0.65);-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:14px;font-weight:normal;line-height:1.43;text-align:center;color:rgb(255,255,255);white-space:nowrap;}"]))}}])&&l(n.prototype,r),c&&l(n,c),t}()},YTEZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i,o=/rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\)/i,a=function(e,t){var n=function(e){var t=e.match(r);if(t)return t.slice(1,4).map(function(e){return parseInt(e,16)});var n=e.match(o);if(n)return n.slice(1,4);throw new Error("invalid color format: ".concat(e))}(e).map(function(e){return e.toString(10)}).concat([t]);return"rgba(".concat(n.join(", "),")")}},YnYI:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var r=n("qLMV"),o=n("+Tm7"),a=Object({NODE_ENV:"production",HEADSHOT_V1_URL:"https://headshot.duozhuayu.com/headshot/v1/",API_URL:"https://www.duozhuayu.com/api",LOG_URL:"https://log-api.duozhuayu.com",RELEASE_VERSION:"1.1.25538",SENTRY_DSN:"https://cf972cf99a844bffb70dcc50d43874e2@f2e-sentry.duozhuayu.com/3",SENTRY_DEBUG:void 0,TEST_ENV:"default",APP_HOST:"https://www.duozhuayu.com",APP_DOMAIN:"duozhuayu.com"}),i=a.APP_DOMAIN,c=a.NODE_ENV,l=function(e,t){var n=Object(o.b)(t);return""===n?e:"".concat(e,"?").concat(n)};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t?"".concat(t,".").concat(i):i,o="duozhuayu.com"===n?"www.".concat(n):n,a="".concat(o).concat(e);return"production"===c?"https://".concat(a):Object(r.b)("http://".concat(a))}},YrCV:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a);n("kqkX");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.emphasis,n=e.primary,r=e.rounded,a=e.inverse,s=e.highlight,u=e.normal,f=e.large,p=e.tip,d=e.autoHeight,m=e.following,y=e.className,b=l(e,["emphasis","primary","rounded","inverse","highlight","normal","large","tip","autoHeight","following","className"]);return o.a.createElement("span",c({className:i()("Label",y,{"Label--following":m,"Label--emphasis":t,"Label--primary":n,"Label--rounded":r,"Label--inverse":a,"Label--normal":u,"Label--tip":p,"Label--large":f,"Label--highlight":s,"Label--autoHeight":d})},b))}},ZDtv:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a);t.a=function(e){var t=e.children;return i.a.createElement("div",{className:"jsx-2950709477"},t,i.a.createElement(o.a,{id:"2950709477"},[".jsx-2950709477{max-width:600px;margin:0 auto;}"]))}},"a4+a":function(e,t,n){"use strict";var r=n("GBY4"),o=n.n(r),a=n("cnfQ"),i=(n("ueSK"),n("cUTp")),c=n("l9ey"),l="",s={get referId(){return c.f?window.localStorage.getItem("referRequestId")||"":l},set referId(e){c.f&&window.localStorage.setItem("referRequestId",e),l=e}},u=function(e,t){var n=e.userId,r=e.created,o=Math.round(1e5*Math.random()),a="".concat(n,"-").concat(r,"-").concat(o),i={requestId:a,referRequestId:s.referId},c=t.refresh;return(void 0===c||c)&&(s.referId=a),i};function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",function(){return x}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return O}),n.d(t,"g",function(){return E}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return k}),n.d(t,"c",function(){return _});var m=[],y=[],b=[],h=function(){return function(e){m.length&&(e({fetch:{from:"post ".concat("https://log-api.duozhuayu.com","/click"),types:[],body:m}}),m.length=0)}},g=function(){return function(e){y.length&&(e({fetch:{from:"post ".concat("https://log-api.duozhuayu.com","/scroll"),types:[],body:y}}),y.length=0)}},v=function(){return function(e){b.length&&(e({fetch:{from:"post ".concat("https://log-api.duozhuayu.com","/display"),types:[],body:b}}),b.length=0)}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n().session,o=Object(a.a)().location,l=o?"".concat(o.pathname).concat(o.search):"",s=Object(i.d)(r).id||0,f=Date.now(),p=u({userId:s,created:f},e);return{requestId:p.requestId,referRequestId:p.referRequestId,page:l,userId:s,created:f,platform:Object(c.d)()}}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(r){var o=r(x(n)),a=o.platform,i=[f({},d(o,["platform"]),t,{requestMisc:f({},e,{platform:a})})];r(g()),r(h()),r(v()),r({fetch:{from:"post ".concat("https://log-api.duozhuayu.com","/page"),types:[],body:i}})}},O=function(e){return function(t){var n=e.nextUrl;n&&n.startsWith("http")&&t(w({nextUrl:n},null,{refresh:!1}))}},E=function(){return function(e){var t=location.hash.substr(1),n=o()(t,!0).query,r=n.sharer_id,a=n.utm_medium;r&&e({fetch:{from:"post ".concat("https://log-api.duozhuayu.com","/share/click"),types:[],body:{sharerId:r,channel:a,sharedUrl:location.href}}})}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t(x({refresh:!1})),r=n.platform,o=f({},d(n,["platform"]),{requestMisc:{clickLog:e,platform:r}});m.push(o),m.length>=5&&t(h())}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t(x({refresh:!1})),r=n.platform,o=f({},d(n,["platform"]),{requestMisc:{scrollLog:e,platform:r}});y.push(o),y.length>=5&&t(g())}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(n){var r=t||n(x({refresh:!1})),o=r.platform,a=f({},d(r,["platform"]),{requestMisc:{displayLog:e,platform:o}});b.push(a),b.length>=5&&n(v())}}},c5cm:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n("fvjX"),o=n("ueSK"),a=Object(r.c)({banner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.error&&t.error.status>=400&&t.error.status<500)return{type:t.error.name,children:t.error.message};switch(t.type){case o.ff:return{type:t.name,children:t.children};case o.Rb:return null;case o.Pf:return{type:o.Pf};case o.Ld:return{type:o.Ld};case o.z:case o.Fg:case o.Ue:case o.N:case o.O:case o.Tf:case o.Xf:case o.ag:case o.sb:case o.wg:case o.zg:case o.k:case o.zb:case o.ue:case o.hb:case o.Gd:case o.Jd:case o.fg:case o.V:case o.od:case o.Nf:case o.md:case o.Pb:case o.sc:var n=t.error||{},r=n.name,a=n.status;return"TypeError"===r||a&&a>=500?{type:"ERROR"}:e;default:return e}},alertState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.error&&t.error.name&&!t.ignoreError)return{type:t.error.name,data:t.error.data};switch(t.type){case o.o:return{type:t.name,data:t.data,confirmAction:t.confirmAction};case o.nb:return null;default:return e}}});t.a=a;var i=function(e){return e.alertState}},cL47:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("/MKj"),i=n("q1tI"),c=n.n(i),l=n("zDcZ"),s=n("LTr4"),u=n("r3dt");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,i["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.doubanRating,n=e.goodreadsRating,r=e.style,a=Object(u.l)(t,n);return a?c.a.createElement("span",{style:r,className:o.a.dynamic([["4237358442",[l.a.secondary]]])+" book-rating"},a,c.a.createElement(o.a,{id:"4237358442",dynamic:[l.a.secondary]},[".book-rating.__jsx-style-dynamic-selector{color:".concat(l.a.secondary,";font-size:12px;}")])):null}}])&&p(n.prototype,r),a&&p(n,a),t}();t.a=Object(a.b)(function(e,t){var n=t.bookId,r=e.entities,o=Object(s.c)(r,n);return{doubanRating:o.doubanRating,goodreadsRating:o.goodreadsRating}})(b)},cP9F:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("q1tI"),o=n.n(r),a=n("i8i4"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.element=document.createElement("div"),document.body.appendChild(this.element),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){i.a.unstable_renderSubtreeIntoContainer(this,o.a.createElement("div",this.props),this.element)}},{key:"componentWillUnmount",value:function(){i.a.unmountComponentAtNode(this.element),document.body.removeChild(this.element)}},{key:"render",value:function(){return null}}])&&l(n.prototype,a),c&&l(n,c),t}()},cUTp:function(e,t,n){"use strict";var r=n("fvjX"),o=n("Olm7"),a=n("t6DB"),i=n("IiWD"),c=Object.freeze({id:null,name:"",gender:"",avatar:"",isWechatSubscribed:!1,hasNewNotification:!1,featuresEnabled:{openCollection:!0},subscribedCategories:[],showTips:{addOwningBook:!1,sellBook:!1}}),l=n("ueSK");function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"i",function(){return x});var p=Object(r.c)({wechatSDKLoadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case l.vg:return"loaded";case l.ug:return"failed";default:return e}},loadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case l.af:return"loading";case l.bf:return"loaded";case l.Ze:return"failed";default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.bf:return e;case l.Ze:return t.error.name;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.bf:if(!t.payload||!t.result)return e;var n=t.payload,r=n.id,a=n.name,f=n.gender,p=n.avatar,d=n.avatarSmall,m=n.isWechatSubscribed,y=n.isPending,b=n.isSeller,h=n.hasNewNotification,g=n.featuresEnabled,v=n.showTips,x=void 0===v?{}:v,w=n.isRecentlyRegistered;return u({},e,{id:r,name:a,gender:f,avatar:p,avatarSmall:d,isWechatSubscribed:m,isPending:y,isSeller:b,hasNewNotification:h,featuresEnabled:g,showTips:x,subscribedCategories:t.result.subscribedCategories,isRecentlyRegistered:w});case l.Qb:return u({},e,{showTips:u({},e.showTips,{addOwningBook:!1})});case l.fc:return u({},e,{showTips:u({},e.showTips,{sellBook:!1})});case l.nd:return u({},e,{hasNewNotification:!1});case l.Sb:return u({},e,{showTips:u({},e.showTips,{mergeCartAndWishListGuide:!1})});case l.Yb:return u({},e,{showTips:u({},e.showTips,{lockInBookGuide:!1})});case l.ac:return u({},e,{showTips:u({},e.showTips,{newUserCoupon:!1})});case l.cc:return u({},e,{showTips:u({},e.showTips,{registeredUserTip:!1})});case l.gc:return u({},e,{showTips:u({},e.showTips,{userProtocol:!1})});case i.a:var O=e.subscribedCategories;return O.includes(t.id)?e:u({},e,{subscribedCategories:[t.id].concat(s(O))});case i.b:var E=e.subscribedCategories;if(!E.includes(t.id))return e;var j=s(E);return Object(o.a)(j,function(e){return e===t.id}),u({},e,{subscribedCategories:j});case l.Ub:return u({},e,{showTips:u({},e.showTips,{closeMiniProgramGuide:!1})});case l.ob:return u({},e,{showTips:u({},e.showTips,{wechatFollowMPBanner:!1})});case l.hc:return u({},e,{showTips:u({},e.showTips,{variantSellPriceGuide:!1})});case l.bc:return u({},e,{showTips:u({},e.showTips,{preLockRule:!1})});case l.Vb:return u({},e,{showTips:u({},e.showTips,{contributionsGuide:!1})});default:return e}}}),d=(t.a=p,function(e){return e.loadStatus}),m=function(e){return e.user},y=function(e){return e.user.isWechatSubscribed},b=function(e){return e.wechatSDKLoadStatus},h=function(e){var t=m(e);return Boolean(t&&t.id)},g=function(e){var t=m(e);return Boolean(t&&t.isPending)},v=function(e){return m(e).featuresEnabled},x=function(e){if(h(e.session)){var t=e.session.user.subscribedCategories;if(t&&t.length)return t.map(function(t){return Object(i.j)(e,t)})}return[{description:"",id:a.a,name:"新上架",type:"category",parentCategory:{themeColor:"#D6BA8C",id:"76343799080554338",name:"生活"}}]}},ciuA:function(e,t,n){},cnfQ:function(e,t,n){"use strict";var r,o=n("LhCv"),a=n("qLMV"),i=n("l9ey"),c=!location.host.startsWith("invitation");t.a=function(){return r||(r=i.c||a.a?Object(o.b)():i.f&&c?Object(o.d)():Object(o.a)()),r}},dCOi:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return m});var r=n("Nlfl"),o=["甘肃省","内蒙古自治区","新疆维吾尔自治区","青海省","海南省","宁夏回族自治区","西藏自治区"],a=function(e){return o.includes(e)},i=300,c=19900,l=function(e){return a(e)?19900:9900},s=function(e,t){return t?a(e)?2e3:1500:a(e)?1e3:500},u=function(e){return a(e)?160:0},f=function(e,t){return t?a(e)?300:200:a(e)?150:100},p={JD:"京东",SF:"顺丰"},d=function(e){return p[e]||"顺丰或京东"},m=function(e){var t=new Date(e),n=Object(r.j)(t);return t.getHours()>=15?new Date(n+r.a+20*r.b):new Date(n+20*r.b)}},duig:function(e,t,n){},e05L:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"57",height:"49",viewBox:"0 0 57 49"},e),o.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-1)"},o.a.createElement("polygon",{fill:"#333",points:"44 7 38 7 41.16 1",transform:"scale(-1 1) rotate(22 0 -206.927)"}),o.a.createElement("polygon",{fill:"#333",points:"57 25 51 25 54.001 20",transform:"scale(-1 1) rotate(42 0 -118.175)"}),o.a.createElement("polygon",{fill:"#C34737",points:"4 13 1 13 2.5 10",transform:"scale(-1 1) rotate(82 0 8.624)"}),o.a.createElement("polygon",{fill:"#C34737",points:"40 49 37 49 38.5 46",transform:"scale(-1 1) rotate(82 0 3.21)"}),o.a.createElement("polygon",{fill:"#C34737",points:"44 21 35 20.172 40.493 14",transform:"scale(-1 1) rotate(-30 0 164.916)"}),o.a.createElement("circle",{cx:"51.5",cy:"38.5",r:"2.5",fill:"#333"}),o.a.createElement("circle",{cx:"20.5",cy:"16.5",r:"1.5",fill:"#333"}),o.a.createElement("circle",{cx:"18.5",cy:"1.5",r:"1.5",fill:"#333"}),o.a.createElement("circle",{cx:"33.5",cy:"30.5",r:"2.5",fill:"#C34737"})))}},e2HP:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n("NWy5"),o=n("ueSK"),a=Object(r.i)({types:[o.wf,o.xf,o.vf],mapActionToKey:function(e){return e.id}});t.a=a;var i=function(e){return e.traders},c=Object(r.b)(i),l=Object(r.e)(i)},"eF/w":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("abTI");r.init({dsn:"https://cf972cf99a844bffb70dcc50d43874e2@f2e-sentry.duozhuayu.com/3",debug:void 0,enabled:!0,release:"1.1.25538",whitelistUrls:[/duozhuayu\.net/,/duozhuayu\.com/],beforeSend:function(e){var t=e.exception.mechanism,n=t.data,r=(void 0===n?{}:n).name;return"onunhandledrejection"!==t.type||/error/i.test(r)?e:null}});var o=function(e){var t=e.id,n=e.username;r.configureScope(function(e){e.setUser({id:t,username:n})})};t.b=r},fG0m:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return x});var r=n("VJYJ"),o=n("6Vt4"),a=n("3ftV"),i=n("vD45"),c=n("l9ey"),l=n("cUTp"),s=n("cnfQ"),u=n("yrCo"),f=n("CzD2");function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d,m=Object(o.widgetMessenger)("dejavu","rexxar")("widget/navigate"),y=Object(o.widgetMessenger)("dejavu","rexxar")("widget/sync");d=Object(u.b)("onNavigateBack")(function(e){Object(s.a)().push(e)});var b=function(e){if(Object(u.d)(m)(e),Object.prototype.hasOwnProperty.call(e,"forward")){var t=Object(s.a)(),n=Object(i.b)();t.location.state=Object.assign({},t.location.state,{scrollTop:n})}},h=[{route:"/",isHomePage:!0,fullscreen:!1,presentMethod:"push"}].concat(p(["/books/:id/:type","/item/list","/open-collections","/oc-contrib/:id/comments","/oc-contrib/:id/voters","/search","/search/:keyword","/tags/:id","/support","/support/:topic","/user/books","/users/:id/bookshelf-manage","/notifications","/messages/:id","/orders","/orders/:type/:id","/orders/:type/:id/update","/account","/coupons","/cart","/cart/checkout","/rejected","/sell","/tarot","/app-setting","/users/:id/activities/:activityId","/activities/:activityId/voters"].map(function(e){return{route:e,fullscreen:!1,presentMethod:"push"}})),p(["/books/:id","/items/:id","/categories/:id","/open-collections/:id","/users/:id","/oc-contrib/:id"].map(function(e){return{route:e,fullscreen:!0,presentMethod:"push"}})),p(["/book/rating","/book/new-contrib","/open-collections/:id/new-contrib","/categories"].map(function(e){return{route:e,fullscreen:!1,presentMethod:"modal",rightButton:"cancel"}}))),g=function(e,t){if("POP"===t)return!0;"REPLACE"===t&&b({update:{path:"".concat(e.pathname).concat(e.search)}});var n=h.find(function(t){var n=t.route;return Object(r.a)(e.pathname,{path:n,exact:!0})}),o=Boolean(n);if(e.pathname.includes("/new-contrib")&&e.search.includes("?bookId")&&"REPLACE"===t&&(o=!1),e.pathname.includes("/search/")&&"REPLACE"===t&&(o=!1),e.pathname.includes("/orders/")&&"REPLACE"===t&&(o=!1),"/cart"===e.pathname&&"REPLACE"===t&&(o=!1),o){var a=n.presentMethod,i=n.fullscreen,c=n.isHomePage,l=n.rightButton;b({forward:{path:"".concat(e.pathname).concat(e.search),presentMethod:a,fullscreen:i,isHomePage:c,rightButton:l}})}return!o},v=["/users/:id","/cart","/books/:id/:type","/open-collections/:id/new-contrib"],x=function(){b({forward:{path:"/app-login",presentMethod:"modal",fullscreen:!0,statusBarColor:"black"}})},w=function(e){return function(t){return function(n,o){var a,i=e.getState();return!Object(l.g)(i.session)&&(a=n.pathname,v.find(function(e){return Object(r.a)(a,{path:e,exact:!0})}))?(x(),!1):t(n,o)}}};t.d=function(e){var t=Object(s.a)(),n=w(e)(g),r=t.block(n);window.navigate=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PUSH";r();var l=e,s=o;if(c.e){var u=JSON.parse(l);l=u.path,s=u.action}if("PUSH"===s){var f=t.entries[t.entries.length-1];(!f||f&&f.pathname!==l)&&t.push(l)}else if("POP"===s){var p=Object(a.a)(t.entries,function(e){return"".concat(e.pathname).concat(e.search)===l&&e.state&&Object.prototype.hasOwnProperty.call(e.state,"scrollTop")},t.index);-1===p?t.push(l):(t.go(p-t.index),setTimeout(function(){t.location.state&&t.location.state.scrollTop&&Object(i.f)(t.location.state.scrollTop)},0))}t.block(n)},window.forward=function(e){t.push(e)},Object(f.b)(),Object(u.d)(y)({})}},fwFw:function(e,t,n){},gbLe:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return h});var r=n("i+Un"),o=n("cUTp"),a=n("XjTe"),i=n("Y+bJ"),c=n("wrrN"),l=n("l9ey"),s=n("B3zl"),u=function(e,t){return function(n){return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(r,a){var i=a();if(!e(i))return t(r),Promise.reject();var c=n.apply(void 0,o);return c?r(c):void 0}}}},f=u(function(e){var t=e.session;return Object(o.g)(t)},function(e){l.f?Object(s.e)():e(Object(i.c)("LOGIN"))}),p=u(function(e){var t=e.session;return Object(a.b)()||l.f||Object(o.b)(t)},function(e){return e(Object(i.c)("SUBSCRIBE"))}),d=u(function(e){var t=e.session;return!Object(o.h)(t)},function(){return Object(c.b)()}),m=f,y=Object(r.a)([f,p]),b=Object(r.a)([f,d]),h=Object(r.a)([f,p,d])},hwNL:function(e,t,n){},i6DS:function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"g",function(){return h});var r=n("fvjX"),o=n("peh1"),a=n("ueSK"),i=n("NWy5"),c=n("LTr4");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(i.i)({types:[a.Uc,a.Vc,a.Tc,a.j,a.pe],mapActionToKey:function(e){return e.userId},updaters:{add:function(e,t){var n=t.payload.book;return e.includes(n.id)?e:[n.id].concat(e)},remove:function(e,t){return e.filter(function(e){return!t.bookIds.includes(e)})}}}),f=Object(i.c)({types:[a.Xc,a.Yc,a.Wc,a.j,a.qe],updaters:{add:function(e,t){var n=t.result;return e.includes(n)?e:[n].concat(e)},remove:function(e,t){return e.filter(function(e){return!t.shelfBookIds.includes(e)})}}});t.a=Object(r.c)({userOwningBooks:u,userShelfBooks:f,removeStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case a.u:return"loading";case a.v:return"loaded";case a.t:return"initial";default:return e}},transferStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case a.zf:return"loading";case a.Af:return"loaded";case a.yf:return"initial";default:return e}},lastOwningBookId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:var n=t.error;return n&&"DUPLICATED_SHELFBOOK"===n.name?n.data.id:e;case a.j:return"";default:return e}}});var p=Object(o.createSelector)(function(e){return e.bookshelf.userShelfBooks.ids},function(e){return Object(c.y)(e.entities)},function(e){return Object(c.e)(e.entities)},function(e,t,n){return e.map(function(e){var r=t[e];return l({},r,{book:n[r.book]})})}),d=Object(o.createSelector)(p,function(e){return e.filter(function(e){return e.hasSelected})}),m=function(e,t){var n=(e.bookshelf.userOwningBooks[t]||{}).ids,r=void 0===n?[]:n,o=e.entities.books;return r.map(function(e){return o.entities[e]})},y=function(e,t){var n=(e.bookshelf.userOwningBooks[t]||{}).loadStatus;return void 0===n?"initial":n},b=function(e,t){var n=e.entities,r=n.shelfBooks.entities,o=n.books.entities,a=r[t];return a?l({},a,{book:o[a.book]}):null},h=function(e){var t=e.bookshelf.userShelfBooks.loadStatus;return void 0===t?"initial":t}},j8bt:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("fvjX"),o=n("dhcM");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e){var t=e.key,n=e.types,l=void 0===n?[]:n,s=e.updateReducer;if("string"!=typeof t)throw new TypeError("Expect argument 'key' to be a string, got a value of '".concat(t,"'"));var u=c(l,3),f=u[0],p=u[1],d=u[2],m={entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(n.entities&&t in n.entities){var r=a({},e),i=n.entities[t];return Object.keys(i).forEach(function(e){r[e]=Object(o.a)(Object(o.a)({},r[e]),i[e],function(e,t){if(Array.isArray(t)&&Array.isArray(e))return t})}),r}return s?s(e,n):e}};if(f&&p&&d){m.loadStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case p:case d:var n=t.id;return a({},e,i({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return"loading";case p:return"loaded";case d:return"NOT_FOUND"===t.error.name?"notFound":"failed";default:return e}}(e[n],t)));default:return e}}}return Object(r.c)(m)}},jFQ1:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("zDcZ");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12",color:a.a.primary},e),o.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.15740527,10.6826336 L3.04530674,11.9566366 C2.65794378,12.1148978 2.23570873,11.8185976 2.27246579,11.4141522 L2.56463737,8.16012531 C2.58537213,7.93152574 2.50903052,7.7038054 2.35257736,7.53059727 L0.136785824,5.06348041 C-0.13842095,4.75662945 0.0227446608,4.27744959 0.431784867,4.18600976 L3.72484127,3.44833654 C3.95669356,3.39646203 4.15650121,3.2566646 4.27996727,3.05971728 L6.02262934,0.261131044 C6.2394018,-0.0870436812 6.76154068,-0.0870436812 6.97831314,0.261131044 L8.72097522,3.05971728 C8.84349879,3.2566646 9.04330644,3.39646203 9.27515873,3.44833654 L12.5682151,4.18600976 C12.9772553,4.27744959 13.138421,4.75662945 12.8632142,5.06348041 L10.6474226,7.53059727 C10.491912,7.7038054 10.4155704,7.93152574 10.4363051,8.16012531 L10.7284767,11.4141522 C10.7642913,11.8185976 10.3420562,12.1148978 9.95469326,11.9566366 L6.84259473,10.6826336 C6.6239373,10.5929522 6.3760627,10.5929522 6.15740527,10.6826336 Z"}))}},jNpE:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n("CpTu"),o=/^[\w\u4E00-\u9FFF]{1,15}$/,a=/^1\d{10}$/,i={name:function(e){return e&&e.length?o.test(e)?null:"NAME_MAX_LEN":"NAME_MIN_LEN"},phone:function(e){return a.test("".concat(e).trim())?null:"PHONE_INVALID"},province:function(e){return e?null:"PROVINCE_REQUIRED"},city:function(e){return e?null:"CITY_REQUIRED"},district:function(e){return e?null:"DISTRICT_REQUIRED"},street:function(e){return e?e.length>128?"STREET_MAX_LEN":null:"STREET_REQUIRED"},deliveryTime:function(e){return e?null:"DELIVERY_TIME_REQUIRED"}},c=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(i),n={},r=0;r<t.length;r+=1){var o=t[r],a=i[o](e[o]);if(a)return n[o]=!0,[n,a]}return[n,null]},l=function(e,t){var n=Object(r.a)(t.provinces,function(t){return t.name===e.province}),o=n&&n.cities,a=o&&Object(r.a)(o,function(t){return t.name===e.city}),i=a&&a.districts;return i&&i.includes(e.district)?null:"INVALID_REGION"};t.a=i},jYvD:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.ratio,n=void 0===t?1:t,r=e.className,a=e.children,c=u(e,["ratio","className","children"]);return i.a.createElement("div",s({},c,{className:o.a.dynamic([["2672522182",[100*n]]])+" "+(null!=c.className&&c.className||l()("root",r)||"")}),a,i.a.createElement(o.a,{id:"2672522182",dynamic:[100*n]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".root.__jsx-style-dynamic-selector:before{content:'';padding-top:".concat(100*n,"%;}")]))}},jrpX:function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return v});var r=n("fvjX"),o=n("NWy5"),a=n("ueSK"),i=["producer","tag","category","book","word"],c={keyword:"",results:[],requestCount:0,recommendations:[]},l=Object(o.c)({types:[a.Ge,a.He,a.Be,null,null,a.Ae]}),s=Object(o.c)({types:[a.yd,a.zd,a.xd]}),u=Object(r.c)({results:l,keyword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.keyword,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.Mf:return t.value;default:return e}},recommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.recommendations,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.Fe:return t.payload||c.recommendations;default:return e}},bookRecommendations:s,keywordSuggestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.qc:return[];case a.rc:return t.payload.filter(function(e){var t=e.type;return i.includes(t)});default:return e}},keywordSuggestionsLoadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case a.qc:return"loading";case a.rc:return"loaded";case a.pc:return"failed";default:return e}}});t.a=u;var f=function(e){return e.search.results},p=function(e){return e.search.bookRecommendations},d=Object(o.a)(f),m=Object(o.g)(f),y=Object(o.f)(f),b=function(e){return e.keyword},h=Object(o.d)(f),g=Object(o.a)(p),v=Object(o.d)(p)},juUW:function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"h",function(){return i}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return m});var r="OPEN_COLL_REQUEST",o="OPEN_COLL_SUCCESS",a="OPEN_COLL_FAILURE",i="OPEN_COLLS_REQUEST",c="OPEN_COLLS_SUCCESS",l="OPEN_COLLS_FAILURE",s="HOME_OPEN_COLLS_REQUEST",u="HOME_OPEN_COLLS_SUCCESS",f="HOME_OPEN_COLLS_FAILURE",p="HOME_CONTRIB_REQUEST",d="HOME_CONTRIB_SUCCESS",m="HOME_CONTRIB_FAILURE"},kRXY:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var r=n("ueSK");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAnonymous:!1,expectedDeliveryTime:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.gb:return o({},e,{isAnonymous:!e.isAnonymous});case r.fb:return o({},e,{isAnonymous:!1});case r.Qd:return o({},e,t.payload);default:return e}};var i=function(e){return e.isAnonymous},c=function(e){return e.checkout.expectedDeliveryTime}},kqkX:function(e,t,n){},l9ey:function(e,t,n){"use strict";n.d(t,"m",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"l",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return x});var r=n("XjTe");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=navigator.userAgent,i=/MicroMessenger/.test(a),c=/WindowsWechat/.test(a),l=i&&!c;t.c=i;var s=/Android/.test(a),u=/(iphone|ipod|ipad)/i.test(a),f=/OS [4-8]_.+ like Mac OS X/.test(a),p=/macintosh|iphone/i.test(a),d=/com\.duozhuayu\.dejavu/.test(a),m=o(a.match(/duozhuayu\/([\d.]+)\s/)||[],2)[1],y=o(a.match(/OS ((\d+_?){2,3})\s/)||[],2)[1];y&&y.split("_");function b(){p?document.body.classList.add("is-apple"):s&&document.body.classList.add("is-android"),d&&document.body.classList.add("is-nativeApp")}var h=function(){return Object(r.b)()?"miniProgramWeb":i?"wechat":d?"app":u?"mobile browser ios":s?"mobile browser android":"browser"},g=function(){return"browser"===h()},v=function(){return h().startsWith("mobile browser")},x=function(){return"mobile browser ios"===h()}},mM5K:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);n("4tqO");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=Array.from(new Array(12));t.a=function(e){var t=e.className,n=e.leafStyle,r=void 0===n?{}:n,c=l(e,["className","leafStyle"]);return o.a.createElement("div",a({className:"Spinner".concat(t?" ".concat(t):"")},c),s.map(function(e,t){return o.a.createElement("div",{key:t,className:"Spinner-leaf",style:i({animationDelay:"".concat(t/12,"s"),transform:"rotate(".concat(t/12*360,"deg) translateY(-150%)")},r)})}))}},mWCn:function(e,t,n){"use strict";n.d(t,"m",function(){return r}),n.d(t,"o",function(){return o}),n.d(t,"p",function(){return a}),n.d(t,"n",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"v",function(){return d}),n.d(t,"w",function(){return m}),n.d(t,"u",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return x}),n.d(t,"b",function(){return w}),n.d(t,"B",function(){return O}),n.d(t,"C",function(){return E}),n.d(t,"A",function(){return j}),n.d(t,"s",function(){return k}),n.d(t,"t",function(){return _}),n.d(t,"r",function(){return S}),n.d(t,"q",function(){return C}),n.d(t,"y",function(){return P}),n.d(t,"z",function(){return I}),n.d(t,"x",function(){return T}),n.d(t,"D",function(){return N}),n.d(t,"E",function(){return R});var r="OC_CONTRIB_EDIT",o="OC_CONTRIB_REQUEST",a="OC_CONTRIB_SUCCESS",i="OC_CONTRIB_FAILURE",c="OC_CONTRIBS_REQUEST",l="OC_CONTRIBS_SUCCESS",s="OC_CONTRIBS_FAILURE",u="OC_CONTRIB_CREATE_REQUEST",f="OC_CONTRIB_CREATE_SUCCESS",p="OC_CONTRIB_CREATE_FAILURE",d="OC_CONTRIB_UPDATE_REQUEST",m="OC_CONTRIB_UPDATE_SUCCESS",y="OC_CONTRIB_UPDATE_FAILURE",b="OC_CONTRIB_DELETE_REQUEST",h="OC_CONTRIB_DELETE_SUCCESS",g="OC_CONTRIB_DELETE_FAILURE",v="OC_CONTRIBS_MINE_REQUEST",x="OC_CONTRIBS_MINE_SUCCESS",w="OC_CONTRIBS_MINE_FAILURE",O="OC_CONTRIB_VOTE_REQUEST",E="OC_CONTRIB_VOTE_SUCCESS",j="OC_CONTRIB_VOTE_FAILURE",k="OC_CONTRIB_UNVOTE_REQUEST",_="OC_CONTRIB_UNVOTE_SUCCESS",S="OC_CONTRIB_UNVOTE_FAILURE",C="OC_CONTRIB_TOGGLE_FOLDING",P="OC_CONTRIB_VOTERS_REQUEST",I="OC_CONTRIB_VOTERS_SUCCESS",T="OC_CONTRIB_VOTERS_FAILURE",N="REMOVE_CONTRIB_ITEM",R="REMOVE_CONTRIB_ITEM_CONTRIBUTION"},mgLp:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c),s=n("zDcZ"),u=n("R/IG");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d={padding:0,margin:0},m={margin:"0 2em"};t.a=function(e){var t=e.children,n=e.onClose,r=e.actions,a=void 0===r?[]:r,c=e.noAction,y=void 0!==c&&c,b=e.confirmLabel,h=void 0===b?"好的":b,g=p(e,["children","onClose","actions","noAction","confirmLabel"]);return i.a.createElement(u.a,f({normal:!0,noFooter:!0,closeButton:!1,style:d,containerStyle:m,onClose:n},g),t,!y&&i.a.createElement("div",{className:o.a.dynamic([["2255187534",[s.a.lightGray,s.a.lighterFont,s.a.lightGray,s.a.primary]]])+" actions-wrap"},a&&a.length?a.map(function(e){var t=e.label,n=e.primary,r=p(e,["label","primary"]);return i.a.createElement("button",f({key:t},r,{className:o.a.dynamic([["2255187534",[s.a.lightGray,s.a.lighterFont,s.a.lightGray,s.a.primary]]])+" "+(null!=r.className&&r.className||l()("action-btn",{primary:n})||"")}),t)}):i.a.createElement("button",{onClick:n,className:o.a.dynamic([["2255187534",[s.a.lightGray,s.a.lighterFont,s.a.lightGray,s.a.primary]]])+" action-btn primary"},h)),i.a.createElement(o.a,{id:"2255187534",dynamic:[s.a.lightGray,s.a.lighterFont,s.a.lightGray,s.a.primary]},[".actions-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;border-top:1px solid ".concat(s.a.lightGray,";}"),".action-btn.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;height:54px;text-align:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0 none;color:".concat(s.a.lighterFont,";border-right:1px solid ").concat(s.a.lightGray,";font-weight:normal;}"),".action-btn.__jsx-style-dynamic-selector::last-child{border-right:0 none;}",".action-btn.primary.__jsx-style-dynamic-selector{color:".concat(s.a.primary,";}")]))}},mrml:function(e,t,n){},mzsC:function(e,t,n){},nHcD:function(e,t,n){},nRwk:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("/MKj"),i=n("q1tI"),c=n.n(i),l=n("wPgv"),s=n("Hg/V"),u=n("vmZo"),f=n("CgaW"),p=n("JB2W"),d=n("2dMJ"),m=n("GHbH"),y=n("cnfQ");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=x(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?w(r):o).handleClick=n.handleClick.bind(w(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,i["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props.id;Object(y.a)().push("/oc-contrib/".concat(e,"/comments"))}},{key:"render",value:function(){var e=this.props,t=(e.id,e.collection,e.avatarSize),n=e.contributor,r=e.hasRated,a=e.rating,i=e.reason,l=e.renderLabel,s=e.foldReason,y=e.withUserInfo,b=e.folded,v=e.toggleFoldStatus,x=g(e,["id","collection","avatarSize","contributor","hasRated","rating","reason","renderLabel","foldReason","withUserInfo","folded","toggleFoldStatus"]);return c.a.createElement("div",h({},x,{className:"jsx-4098408140 "+(null!=x.className&&x.className||"")}),y&&c.a.createElement("header",{className:"jsx-4098408140 user"},c.a.createElement(p.a,{to:"/users/".concat(n.id)},c.a.createElement("div",{className:"jsx-4098408140 image"},c.a.createElement(u.a,{large:"large"===t,url:n.avatar}))),c.a.createElement(p.a,{to:"/users/".concat(n.id),style:{maxWidth:"60%"}},c.a.createElement(d.a,{className:"label"},l(n))),Object(m.b)(r,a)&&c.a.createElement("div",{style:{margin:"1px 0 0 9px"},className:"jsx-4098408140"},c.a.createElement(m.a,{rating:a}))),c.a.createElement(f.a,{disableFold:!s,folded:b,toggleFoldStatus:v,text:i,onFullTextClick:s?this.handleClick:null}),c.a.createElement(o.a,{id:"4098408140"},[".user.jsx-4098408140{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10px;}",".image.jsx-4098408140{margin-right:10px;}"]))}}])&&v(n.prototype,r),a&&v(n,a),t}();E.defaultProps={foldReason:!1,renderLabel:function(e){return"".concat(e.name,"：")}},t.a=Object(a.b)(function(e,t){var n=t.id;return{folded:Object(l.b)(e,n)}},function(e,t){var n=t.id;return{toggleFoldStatus:function(){return e(Object(s.g)(n))}}})(E)},nn63:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("2iEm"),i=n("8W/B"),c=n("S7Tf");n("SvIo");t.a=function(){return o.a.createElement("div",{className:"NotFound"},o.a.createElement(c.a,null),o.a.createElement(i.a,null),o.a.createElement("div",{className:"NotFound-inner"},"这里没有鱼，去",o.a.createElement(a.a,{to:"/",className:"NotFound-link"},"多抓鱼首页"),"逛逛吧"))}},oSlh:function(e,t,n){},pDFs:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var r="wxfac4f233cf5cfdb0",o="https://res.wx.qq.com/open/js/jweixin-1.4.0.js",a="https://asset.duozhuayu.com/jweixin-1.4.0.js"},pyes:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l});var r=n("NWy5"),o=n("ueSK"),a=Object(r.c)({types:[o.vd,o.wd,o.ud]});t.a=a;var i=function(e){return e.loadStatus},c=function(e){return e.nextUrl},l=function(e){return e.ids}},"q+WG":function(e,t,n){"use strict";var r=n("a4+a");t.a=function(e){var t=e.dispatch;return function(e){return function(n){if(n&&n.fetch&&n.fetch.schema&&"isReset"in n){var o=n.fetch.from;t(Object(r.d)({nextUrl:o}))}return e(n)}}}},qLMV:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var r=n("GBY4"),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=!1,c=function(e){if(!i)return e;var t=o()(e,!0),n=t.query,r=o()(location.href,!0).query.env;return t.set("query",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},n,{env:r})),t.toString()}},qy67:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return g});var r=n("fvjX"),o=n("ueSK"),a=n("NWy5");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Object(a.c)({types:[o.Oc,o.Pc,o.Nc]}),l=Object(a.i)({mapActionToKey:function(e){return e.id},types:[o.Rc,o.Sc,o.Qc,null,null,o.mb]}),s=Object(a.i)({mapActionToKey:function(e){return e.id},types:[o.ad,o.bd,o.Zc]});t.a=Object(r.c)({itemCategories:c,itemList:l,tagItemList:s,filterMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.Lf:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},e,i({},t.itemCategoryId,t.payload));default:return e}}});var u=function(e){return e.itemList.itemCategories},f=function(e){return e.itemList.itemList},p=function(e){return e.itemList.tagItemList},d=Object(a.a)(u),m=Object(a.b)(f),y=Object(a.b)(p),b=Object(a.d)(u),h=Object(a.e)(f),g=Object(a.e)(p)},qzae:function(e,t,n){"use strict";var r=n("NWy5"),o=n("ueSK"),a=n("GhQF");n.d(t,"c",function(){return a.b}),n.d(t,"d",function(){return a.d}),n.d(t,"b",function(){return a.a});var i=Object(r.i)({types:[o.qb,o.rb,o.pb],mapActionToKey:function(e){return e.listKey}});t.a=i},r3dt:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"s",function(){return b}),n.d(t,"k",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return x}),n.d(t,"q",function(){return w}),n.d(t,"p",function(){return O}),n.d(t,"f",function(){return E}),n.d(t,"m",function(){return j}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return _}),n.d(t,"o",function(){return S}),n.d(t,"r",function(){return C}),n.d(t,"i",function(){return I}),n.d(t,"l",function(){return T}),n.d(t,"n",function(){return N}),n.d(t,"g",function(){return R}),n.d(t,"j",function(){return L});var r=n("VJYJ"),o=n("Bw5p"),a=n("CpTu"),i=n("HyQt"),c=n("cnfQ");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f={waiting:"待上架",putaway:"售卖中",delivering:"发货中",offline:"线下店售卖"},p=function(e){return f[e]||""},d={new:"全新",medium:"二手",fine:"二手"},m=["pending","unpaid"],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.condition,r=t.flawFlag;return!!Object(a.a)(e,{condition:n,flawFlag:r})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!t)return e;var n=t.condition,r=t.flawFlag,o=t.hasReserved,a=t.hasLocked,i=t.price,c=t.flawReasons,s=t.traitDesc;return!o&&!a||y(e,t)?e.map(function(e){return l({},e,{hasReserved:e.condition===n&&e.flawFlag===r&&o})}):[{price:i,condition:n,flawFlag:r,flawReasons:c,hasReserved:o,traitDesc:s}].concat(u(e))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=b(e,t);return u(n).sort(function(e,t){return e.price-t.price})[0]},g=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i.b||0===e)return"";var o=n?" ":"",a=function(e,t){return parseFloat((e/t*10).toFixed(1))}(e,t);return a>=10?"":r&&a<1?"":10*a<1?"0.1".concat(o,"折"):"".concat(a).concat(o,"折")},v=function(e,t,n){var r=h(e,n);return r?r.price:t},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=v(e,t,r);return g(o,n)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasReserved,r=t.hasLocked;return n||r||y(e.goods,t)},O=function(e,t){return e.stock||w(e,t)},E=function(e,t){var n=h(e,t),r=n?n.condition:"fine";return d[r]},j=function(e,t){var n=e.goods,r=void 0===n?[]:n;return t&&w(e,t)?Object(o.a)(t,["price","condition","flawFlag","flawReasons","traitDesc"]):r[0]},k=function(e){var t=e.itemType,n=e.book,r=e.item;return"book"===t||n?n:"item"===t?l({},r.item,{id:r.id}):null},_=function(e){var t=k(e);return j(t,e).price},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return b(e,t).length>1},C=function(e){return m.includes(e)},P=[0,-1],I=function(e){return P.includes(e)?null:e},T=function(e,t){var n=I(e),r=!n&&Boolean(t),o=r?t:n;return o&&o.toFixed?"".concat(r?"goodreads ":"豆瓣","评分 ").concat(o.toFixed(1)):null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&"free"===t.condition&&w({goods:e},t)||!!e.find(function(e){return"free"===e.condition})},R=function(){var e=Object(c.a)().location.pathname,t=Object(r.a)(e,{path:"/books/:id",exact:!0});return t?t.params.id:""},L=function(e){var t=e.title,n=e.rawAuthor,r=e.publisher,o=e.relatedCategories;return{keywords:[t,n,r,(void 0===o?[]:o).map(function(e){return e.name}).filter(Boolean).join(","),"二手,图书,消毒,翻新,正版,低价,收购,循环"].filter(Boolean).join(","),description:"在多抓鱼购买经过消毒翻新，有正版保证的低价二手图书《".concat(t,"》。来多抓鱼扫码卖书，购买正版低价二手书。")}}},r9pq:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=/^(978|979|977|)(\d{9})([\dX])$/,o=function(e){var t=e.replace(/x/g,"X");return t.split("-").join("")},a=function(e){var t,n=o(e);return r.test(n)&&(10===(t=n.split("").map(function(e){return"X"===e?10:Number(e)})).length?function(e){return e.map(function(e,t){return e*(10-t)}).reduce(function(e,t){return e+t},0)%11==0}(t):function(e){return e.map(function(e,t){return t%2==0?e:3*e}).reduce(function(e,t){return e+t},0)%10==0}(t))},i=function(e){var t,n,r=o(e);return a(e)?10===r.length?(t="978".concat(r),n=(10-t.split("",12).map(function(e){return Number(e)}).map(function(e,t){return t%2==0?e:3*e}).reduce(function(e,t){return e+t},0)%10)%10,"".concat(t.slice(0,12)).concat(n)):r:e}},rW0H:function(e,t,n){},sDUI:function(e,t,n){},sb9I:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("wIs1"),i=n("vD45");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(e){var t=0,n=function(n){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s(this,u(a).apply(this,arguments))}var c,p,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,r.PureComponent),c=a,(p=[{key:"componentDidMount",value:function(){"POP"===this.props.history.action?Object(i.f)(t):Object(i.f)(0)}},{key:"componentWillUnmount",value:function(){t=Object(i.b)()}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&l(c.prototype,p),d&&l(c,d),a}();return Object(a.a)(n)}},sffN:function(e,t,n){"use strict";var r=n("ueSK"),o=n("XiPH"),a=n("JzTR");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={contribution:"contribBookActivityData",sold_books:"soldBookActivityData",purchased_books:"purchasedBookActivityData"},s=new o.b.Union({contribBookActivityData:a.a.ocContrib,purchasedBookActivityData:a.a.books,soldBookActivityData:a.a.books},function(e,t){return l[t.type]}),u=new o.b.Entity("activityItems",{item:{data:s,latestVoters:a.a.users}},{processStrategy:function(e){return i({},e,{item:i({},e.item,{type:e.type})})},idAttribute:function(e){return e.item.id}}),f=new o.b.Array(u),p=n("LTr4"),d=n("NWy5"),m=n("BPOG"),y=n("Y+bJ");n.d(t,"g",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"k",function(){return x}),n.d(t,"j",function(){return w}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return E}),n.d(t,"c",function(){return j}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return _});var b=function(e,t){return function(n,o){var a=(o().activity.userActivities[e]||{}).nextUrl,i=t||!a?"/users/".concat(e,"/activities"):a;n({userId:e,fetch:{from:i,types:[r.yc,r.zc,r.xc],schema:f},isReset:t})}},h=function(e,t){return{id:t,fetch:{from:"/users/".concat(e,"/activities/").concat(t),types:[r.Ac,r.Bc,r.wc],schema:u}}},g=function(e,t){return function(n,o){var i=o(),c="/activities/".concat(e,"/comments"),l=Object(d.p)(i.activity.userActivityComments,e);n({activityId:e,fetch:{from:l&&!t?l:c,types:[r.uc,r.vc,r.tc],schema:a.a.activityComments},isReset:t})}},v=function(e,t){return{activityId:e,fetch:{from:"/activities/".concat(e,"/voters"),types:[r.Dc,r.Ec,r.Cc],schema:a.a.voters},isReset:t}},x=function(e,t){return{id:t,activityId:e,fetch:{from:"put /activities/".concat(e,"/vote"),types:[r.sg,r.tg,r.rg]}}},w=function(e,t){return{id:t,activityId:e,fetch:{from:"delete /activities/".concat(e,"/vote"),types:[r.Cf,r.Df,r.Bf]}}},O=function(e,t){return{type:r.oe,id:t,userId:e}},E=function(e,t){return function(n){return n({userId:e,id:t,fetch:{from:"delete /user/activities/".concat(t),types:[r.ne,r.oe,r.me]}}).then(function(){n(Object(y.d)("ACTIVITY_DELETE_SUCCESS"))})}},j=function(e){return{type:r.Fb,attrs:e}},k=function(){return function(e,t){var n=Object(p.p)(t().entities).activityId;return e(function(e,t){var n=[];return Object(p.p)(t().entities).text||n.push({key:"text",text:"写点什么吧"}),n.length?Promise.reject(n):Promise.resolve()}).catch(function(t){return e(Object(y.d)("COMMENT_FORM_INVALID",!1,t[0].text)),Promise.reject()}).then(function(){return e(Object(m.e)())}).then(function(){return e(function(e,t){var n=Object(p.p)(t().entities),o=n.activityId;return e({activityId:o,attrs:n,fetch:{from:"post /activities/".concat(o,"/comments"),schema:a.a.activityComment,body:n,types:[r.wb,r.xb,r.vb]}})})}).then(function(){e(j({activityId:n,text:""})),e(Object(m.c)())}).then(function(){setTimeout(function(){window.scrollTo(0,window.document.body.scrollHeight)},100)})}},_=function(e,t){return function(n){n(Object(y.c)("COMMENT_DELETE",{confirmAction:function(){return n(function(e,t){return function(n){return n({id:t,activityId:e,fetch:{from:"delete /activities/".concat(e,"/comments/").concat(t),types:[r.ke,r.le,r.je]}}).then(function(){n(Object(y.d)("ACTIVITY_COMMENT_DELETE_SUCCESS"))})}}(e,t))}}))}}},t6DB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="0"},tjUo:function(e,t,n){"use strict";n.r(t);n("dE+T"),n("bHtr"),n("dRSK"),n("INYr"),n("6VaU"),n("HEwt"),n("Z2Ku"),n("yt8O"),n("6AQ9"),n("Vd3H"),n("0E+W"),n("AphP"),n("yM4b"),n("IXt9"),n("9AAn"),n("fyVe"),n("U2t9"),n("2atp"),n("+auO"),n("MtdB"),n("Jcmo"),n("nzyx"),n("BC7C"),n("x8ZO"),n("BJ/l"),n("eHKK"),n("pp/T"),n("CyHz"),n("bBoP"),n("x8Yj"),n("hLT2"),n("xfY5"),n("Ljet"),n("/KAi"),n("fN96"),n("7h0T"),n("sbF8"),n("h/M4"),n("knhD"),n("XfKG"),n("BP8U"),n("91GP"),n("RQRG"),n("/uf1"),n("/8Fb"),n("DW2E"),n("mYba"),n("jm62"),n("JduL"),n("5Pf0"),n("uaHG"),n("ZNX/"),n("mura"),n("Btvt"),n("25dN"),n("Zshi"),n("V/DX"),n("FlsD"),n("RW0V"),n("z2o2"),n("/SS/"),n("hhXQ"),n("VRzm"),n("CX2u"),n("3xty"),n("I5cv"),n("iMoV"),n("uhZd"),n("0YWM"),n("694e"),n("LTTk"),n("9rMk"),n("IlFx"),n("xpiv"),n("oZ/O"),n("klPD"),n("knU9"),n("Oyvg"),n("OEbY"),n("SRfc"),n("pIFo"),n("KKXr"),n("OG14"),n("a1Th"),n("T39b"),n("ioFf"),n("rE2o"),n("oDIu"),n("rvZc"),n("VpUO"),n("L9s1"),n("XfO3"),n("9XZr"),n("7VC1"),n("eI33"),n("FLlr"),n("9VmF"),n("I74W"),n("fA63"),n("xm80"),n("sFw1"),n("NO8f"),n("aqI/"),n("Faw5"),n("r1bV"),n("tuSo"),n("nCnK"),n("Y9lz"),n("Tdpu"),n("EK0E"),n("wCsR"),n("R5XZ"),n("Ew+T"),n("rGqo"),n("ls82");var r=n("eF/w"),o=(n("DpIS"),n("bZMm"),n("0cfB")),a=n("/MKj"),i=n("2INN"),c=n("nr6O"),l=n("p46w"),s=n.n(l),u=n("q1tI"),f=n.n(u),p=n("i8i4"),d=n.n(p),m=n("9rZX"),y=n.n(m),b=n("dwco"),h=n.n(b),g=n("a4+a"),v=(n("Sieg"),n("XjTe")),x=n("wNa6"),w=n("vD45"),O=n("l9ey"),E=n("fG0m"),j=function(e){if(O.f){var t=x.a;window.renderApp=function(){var n;(n=200,new Promise(function(e){setTimeout(e,n)})).then(function(){var n=Object(x.b)(t.getState()),r=Object(w.b)();t=n,e(n),Object(w.f)(r)})},Object(E.d)(x.a)}},k=n("wrrN"),_=n("XnDA"),S=n("Wad5"),C=n("MX0m"),P=n.n(C),I=n("jKe7"),T=n("TSYQ"),N=n.n(T),R=n("cUTp"),L=n("zDcZ"),A=n("cnfQ"),F=n("7zx8"),B=n("P1rd"),D=n("5Wrh"),M=n("2iEm");function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=function(e){return f.a.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},e),f.a.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:"1.5",d:"M19.022 10.252v7.64a3 3 0 0 1-3 3H5.66a3 3 0 0 1-3-3v-7.676C.582 9.8.393 8.267 2.424 6.429l4.212-3.814c2.378-2.153 6.226-2.16 8.612 0L19.46 6.43c2.088 1.89 1.825 3.466-.438 3.823zM7.76 20.865h6.364v-4.327c0-1.11-.711-2.005-1.59-2.005H9.35c-.878 0-1.59.898-1.59 2.005v4.327z"}))},G=function(e){var t=e.to,n=void 0===t?"/":t,r=e.hasBottomBar;return O.f?null:f.a.createElement("div",{className:P.a.dynamic([["1650287013",[r?"180px":"66px"]]])},f.a.createElement(M.a,{to:n},f.a.createElement("div",{className:P.a.dynamic([["1650287013",[r?"180px":"66px"]]])+" home-btn"},f.a.createElement(z,{width:"22",height:"22"}))),f.a.createElement(P.a,{id:"1650287013",dynamic:[r?"180px":"66px"]},[".home-btn.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:46px;height:46px;position:fixed;bottom:".concat(r?"180px":"66px",";right:16px;border-radius:50%;background:rgba(102,102,102,0.96);box-shadow:0 0 8px 0 rgba(0,0,0,0.1);}")]))},H=n("tyei"),W=n.n(H),V=n("Uo4X"),K=n("FQoQ"),q=n("mM5K");function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(){return null},ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,$(t).call(this,e))).throttledCheck=W()(function(){return n.check()},100),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.isDrained||this.startListening()}},{key:"componentWillReceiveProps",value:function(e){!this.props.isDrained&&e.isDrained?this.stopListening():this.props.isDrained&&!e.isDrained&&this.startListening()}},{key:"componentDidUpdate",value:function(e){e.isLoading&&!this.props.isLoading&&this.check()}},{key:"componentWillUnmount",value:function(){this.stopListening()}},{key:"isBottomNearViewport",value:function(){if(!this.el)return!1;var e=this.el.getBoundingClientRect().bottom,t=this.props.threshold;return e-(void 0===t?400:t)<=window.innerHeight}},{key:"check",value:function(){var e=this.props,t=e.isLoading,n=e.isDrained,r=e.isErrored,o=e.onLoad;t||n||r||!this.isBottomNearViewport()||o()}},{key:"startListening",value:function(){window.addEventListener("scroll",this.throttledCheck),window.addEventListener("resize",this.throttledCheck)}},{key:"stopListening",value:function(){window.removeEventListener("scroll",this.throttledCheck),window.removeEventListener("resize",this.throttledCheck)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.threshold,t.isLoading),r=t.isDrained,o=t.isErrored,a=t.items,i=t.renderItem,c=t.contentContainerClass,l=void 0===c?"":c,s=t.renderEmptyContent,u=void 0===s?te:s,p=t.onLoad,d=t.children,m=Z(t,["threshold","isLoading","isDrained","isErrored","items","renderItem","contentContainerClass","renderEmptyContent","onLoad","children"]);return f.a.createElement("div",Q({ref:function(t){e.el=t}},m,{className:P.a.dynamic([["2753253899",[L.a.lightFont,L.a.lightFont]]])+" "+(null!=m.className&&m.className||N()("root",{empty:r&&!a.length})||"")}),f.a.createElement("div",{className:P.a.dynamic([["2753253899",[L.a.lightFont,L.a.lightFont]]])+" "+(l||"")},a.map(i)),f.a.createElement("div",{className:P.a.dynamic([["2753253899",[L.a.lightFont,L.a.lightFont]]])+" footer"},n&&f.a.createElement(q.a,null),r&&(a.length?f.a.createElement(K.a,null):f.a.createElement("div",{className:P.a.dynamic([["2753253899",[L.a.lightFont,L.a.lightFont]]])+" emptycontent"},u())),o&&f.a.createElement("button",{onClick:function(){return p()},className:P.a.dynamic([["2753253899",[L.a.lightFont,L.a.lightFont]]])},"加载失败，点击重试",f.a.createElement(V.a,{style:{width:"15px",verticalAlign:"-2px",marginLeft:"6px"}}))),d,f.a.createElement(P.a,{id:"2753253899",dynamic:[L.a.lightFont,L.a.lightFont]},[".root.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".empty.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(L.a.lightFont,";}"),".footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:19px;padding:30px 0;color:".concat(L.a.lightFont,";font-size:14px;line-height:19px;}"),".empty.__jsx-style-dynamic-selector .footer.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:inherit;}",".emptycontent.__jsx-style-dynamic-selector{margin-bottom:20px;}"]))}}])&&X(n.prototype,r),o&&X(n,o),t}();function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oe=function(e){return f.a.createElement("svg",re({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),f.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),f.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))},ae=function(e){var t=e.to,n=e.style,r=e.primary,o=e.size,a=void 0===o?14:o,i=e.fill,c=void 0===i?"#fff":i,l=e.onClick;return f.a.createElement("button",{style:n,onClick:function(e){e.preventDefault(),t?Object(A.a)().push(t):l()},className:P.a.dynamic([["132565271",[L.a.lighterFont,L.a.primary]]])+" "+(N()("root",{primary:r})||"")},f.a.createElement(oe,{width:a,height:a,fill:c}),f.a.createElement(P.a,{id:"132565271",dynamic:[L.a.lighterFont,L.a.primary]},[".root.__jsx-style-dynamic-selector{display:inline-block;font-size:0.8em;margin:-8px -8px -8px -4px;color:".concat(L.a.lighterFont,";}"),".root.primary.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".is-apple .root .Icon{vertical-align:-0.3em;}"]))},ie=n("mgLp");function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var se=function(e){var t=e.empty,n=e.loading,r=e.hasHeader,o=e.noBottomNav,a=e.className,i=e.children,c=le(e,["empty","loading","hasHeader","noBottomNav","className","children"]);return f.a.createElement("div",ce({},c,{className:P.a.dynamic([["3289691783",[L.c.navHeight,L.a.lighterFont]]])+" "+(null!=c.className&&c.className||N()("root",a,{noBottomNav:o,hasHeader:r,empty:t})||"")}),n&&f.a.createElement(q.a,null),i,f.a.createElement(P.a,{id:"3289691783",dynamic:[L.c.navHeight,L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{box-sizing:border-box;min-height:100vh;padding-bottom:".concat(L.c.navHeight,";}"),".noBottomNav.__jsx-style-dynamic-selector{padding-bottom:0;}",".hasHeader.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".empty.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(L.a.lighterFont,";}")]))},ue=n("S7Tf"),fe=n("2dMJ"),pe=n("17x9"),de=n.n(pe),me=n("Nlfl"),ye={value:de.a.oneOfType([de.a.string,de.a.number,de.a.instanceOf(Date)]).isRequired,relative:de.a.bool,noStartPadding:de.a.bool,noEndPadding:de.a.bool,dateOnly:de.a.bool};function be(e){var t=e.value,n=e.relative,r=e.noStartPadding,o=e.noEndPadding,a=e.dateOnly,i=Object(me.e)(t);if("Invalid Date"===i.toString())return null;var c=n?Object(me.k)(i,{noStartPadding:r,noEndPadding:o}):Object(me.f)(i,a);return f.a.createElement("span",null,c)}function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}be.propTypes=ye;var Oe={withdraw:B.f,onLoad:B.e},Ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ve(t).call(this,e))||"object"!==he(o)&&"function"!=typeof o?xe(r):o).state={showWithdrawModal:!1,showConfirmModal:!1,showWithdrawTip:!1},n.openWithdrawModal=n.openWithdrawModal.bind(xe(n)),n.hideWithdrawModal=n.hideWithdrawModal.bind(xe(n)),n.openConfirmModal=n.openConfirmModal.bind(xe(n)),n.hideConfirmModal=n.hideConfirmModal.bind(xe(n)),n.toggleWithdrawTip=n.toggleWithdrawTip.bind(xe(n)),n.withdraw=n.withdraw.bind(xe(n)),n.withdrawActions=[{label:"买书去",primary:!0,onClick:function(){Object(A.a)().push("/")}},{label:"全部提现",onClick:n.openConfirmModal}],n.confirmWithdrawActions=[{label:"取消",onClick:n.hideConfirmModal},{label:"确定提现",primary:!0,onClick:n.withdraw}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad;("initial"===t||n)&&this.props.onLoad(!0)}},{key:"openWithdrawModal",value:function(){this.setState({showWithdrawModal:!0})}},{key:"hideWithdrawModal",value:function(){this.setState({showWithdrawModal:!1})}},{key:"openConfirmModal",value:function(){this.setState({showWithdrawModal:!1,showConfirmModal:!0})}},{key:"hideConfirmModal",value:function(){this.setState({showConfirmModal:!1})}},{key:"withdraw",value:function(){this.hideConfirmModal(),this.props.withdraw(this.props.balance)}},{key:"toggleWithdrawTip",value:function(){this.setState({showWithdrawTip:!this.state.showWithdrawTip})}},{key:"renderConfirmWithdrawModal",value:function(){var e=this.props.balance;return this.state.showConfirmModal?f.a.createElement(ie.a,{onClose:this.hideConfirmModal,actions:this.confirmWithdrawActions},f.a.createElement("div",{className:"jsx-2719388349 hint"},"确定全部提现 ".concat((e/100).toFixed(2)," 元到微信钱包吗？")),f.a.createElement(P.a,{id:"2719388349"},[".hint.jsx-2719388349{padding:49px 23px 43px;text-align:left;}"])):null}},{key:"renderWithdrawModal",value:function(){var e=this.props.balance;return this.state.showWithdrawModal?f.a.createElement(ie.a,{onClose:this.hideWithdrawModal,actions:this.withdrawActions},f.a.createElement("div",{className:"jsx-2719388349 hint"},"账户余额用来买书可享 8.8 折优惠，还可以预定「暂时无货」的书籍，","确定要提现 ".concat((e/100).toFixed(2)," 元到微信钱包吗？")),f.a.createElement(P.a,{id:"2719388349"},[".hint.jsx-2719388349{padding:49px 23px 43px;text-align:left;}"])):null}},{key:"renderWithdrawTip",value:function(){return this.state.showWithdrawTip?f.a.createElement(ie.a,{onClose:this.toggleWithdrawTip},f.a.createElement("div",{className:"jsx-440465927 withdraw-tip"},f.a.createElement("p",{className:"jsx-440465927"},"· 微信提现最小额度为 1 元"),f.a.createElement("p",{className:"jsx-440465927"},"· 暂不支持部分提现")),f.a.createElement(P.a,{id:"440465927"},[".withdraw-tip.jsx-440465927{padding:32px 24px 24px;text-align:left;font-size:14px;line-height:2;}"])):null}},{key:"render",value:function(){var e=this.props,t=e.balance,n=e.loadStatus,r=e.transactions,o=e.onLoad;return f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" Account"},f.a.createElement(ue.a,{title:"余额"}),f.a.createElement(se,{noBottomNav:!0},f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" head"},f.a.createElement("span",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" prefix"},"账户余额(元)"),f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" money"},(t/100).toFixed(2)),f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" btn"},f.a.createElement(D.a,{large:!0,block:!0,round:!0,normal:!0,golden:!0,disabled:t<100,onClick:this.openWithdrawModal},"余额提现")),f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" tip"},f.a.createElement(fe.a,{lighter:!0,style:{fontSize:12}},"提现规则"),f.a.createElement(ae,{size:13,fill:"transparent",style:{margin:"-3px 0 0 3px"},onClick:this.toggleWithdrawTip}))),f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" body"},r.length||"loading"===n&&"initial"===n?f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" prefix"},"~ 明细 ~"):null,f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" list"},f.a.createElement(ne,{isLoading:"loading"===n,isDrained:"drained"===n,isErrored:"failed"===n,onLoad:o,items:r,renderItem:function(e){return f.a.createElement("div",{key:e.id,className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" transaction"},f.a.createElement("div",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" type-time"},f.a.createElement("span",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" type"},e.description),f.a.createElement("span",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" time"},f.a.createElement(be,{value:e.created}))),f.a.createElement("span",{className:P.a.dynamic([["937620940",[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]]])+" price"},(t=e.isNegative,n=e.price,"".concat(t?"-":"+").concat((n/100).toFixed(2)))));var t,n}})),f.a.createElement(G,null)),this.renderWithdrawModal(),this.renderConfirmWithdrawModal(),this.renderWithdrawTip()),f.a.createElement(P.a,{id:"937620940",dynamic:[L.a.golden,L.a.golden,L.a.lighterFont,L.a.gray,L.a.gray,L.a.darkGray]},[".Account.__jsx-style-dynamic-selector{background-color:#fff;}",".head.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-image:linear-gradient( -158deg, rgba(255,255,255,0.11) 0%, rgba(201,168,115,0.25) 99% );}",".head.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:44px;font-size:13px;color:".concat(L.a.golden,";}"),".head.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector:before,.head.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector:after{width:30px;height:1px;border-bottom:0.5px solid ".concat(L.a.golden,";content:'';}"),".head.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector:before{margin-right:15px;}",".head.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector:after{margin-left:15px;}",".head.__jsx-style-dynamic-selector .money.__jsx-style-dynamic-selector{font-size:44px;line-height:60px;}",".is-apple .head.__jsx-style-dynamic-selector .money.__jsx-style-dynamic-selector{font-family:BodoniSvtyTwoITCTT-Book;}",".btn.__jsx-style-dynamic-selector{width:70%;}",".tip.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:20px 0;}",".body.__jsx-style-dynamic-selector{background-color:#fff;}",".body.__jsx-style-dynamic-selector .prefix.__jsx-style-dynamic-selector{height:40px;color:".concat(L.a.lighterFont,";text-align:center;line-height:40px;font-size:13px;border-bottom:0.5px solid ").concat(L.a.gray,";}"),".transaction.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:58px;padding:0 4%;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".type-time.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:1 0 150px;-ms-flex:1 0 150px;flex:1 0 150px;}",".time.__jsx-style-dynamic-selector{font-size:12px;color:".concat(L.a.darkGray,";}")]))}}])&&ge(n.prototype,r),o&&ge(n,o),t}(),je=Object(a.b)(function(e,t){return{shouldLoad:"POP"!==t.history.action,balance:Object(B.b)(e.account),loadStatus:Object(B.d)(e.account),transactions:Object(F.U)(e)}},Oe)(Ee),ke=n("RbH8"),_e=n("40O5");function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(e,t){var n=e.session;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Se(e,t,n[t])})}return e}({},Object(R.e)(n),Object(_e.f)(e))[t]},Pe=n("LTr4"),Ie=n("sffN"),Te=n("97A4"),Ne=n("sb9I"),Re=n("1myf"),Le=n("RXTu"),Ae=n("GhQF");function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=Object(Le.b)("occComments"),De=function(e,t){var n=Be(e.entities,t);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fe(e,t,n[t])})}return e}({},n,{author:Object(Pe.F)(e.entities,n.author)})},Me=function(e,t){var n=Object(Ae.a)(e.occComments,t).map(function(t){return De(e,t)});return Object(Re.a)(n,function(e){return new Date(e.created)}).map(function(e){return e.id})},Ue=function(e,t){return Object(Ae.b)(e.occComments,t)},ze=Object(Le.f)("occComments"),Ge=n("BPOG"),He=n("gbLe"),We=n("Y+bJ"),Ve=n("JzTR"),Ke=n("NTIX"),qe=function(e){return{type:Ke.j,attrs:e}},Ye=function(e){return function(t){t(Object(We.c)("COMMENT_DELETE",{confirmAction:function(){return t(function(e){return function(t,n){var r=De(n(),e).contributionId;return t({id:e,contribId:r,fetch:{from:"delete /oc-contributions/".concat(r,"/comments/").concat(e),types:[Ke.h,Ke.i,Ke.g]}}).then(function(){t(Object(We.d)("OCC_COMMENT_DELETE_SUCCESS"))})}}(e))}}))}},Qe=Object(He.d)(function(e){return{type:Ke.k,focused:e}}),Ze=n("9KrG"),Xe=n("ZDtv");n("mrml");function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(){O.h&&setTimeout(function(){Object(w.f)(Object(w.b)())},1)},it=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=nt(t).call(this,e))||"object"!==Je(o)&&"function"!=typeof o?rt(r):o).handleChange=n.handleChange.bind(rt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e,t=this.props,n=t.grow,r=t.initial,o=t.warn,a=t.type,i=t.className,c=t.domRef,l=t.onChange,s=t.autoFocus,u=et(t,["grow","initial","warn","type","className","domRef","onChange","autoFocus"]),p="input";return"textarea"===a||"select"===a?p=a:"disabled"===a?p="div":e=a,f.a.createElement(p,$e({ref:c,type:e,className:N()("Input",i,{"Input--initial":r,"Input--grow":n,"Input--warn":o}),onChange:l?this.handleChange:null,onBlur:at,autoFocus:s},u))}}])&&tt(n.prototype,r),o&&tt(n,o),t}();function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lt=function(e){return f.a.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e),f.a.createElement("polyline",{points:"20 6 9 17 4 12"}))};function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt={fontWeight:300,color:L.a.primary},yt={agree:Ge.a,disagree:Ge.b},bt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ft(t).call(this,e))||"object"!==st(o)&&"function"!=typeof o?pt(r):o).handleClick=n.handleClick.bind(pt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props,t=e.isAgreed,n=e.agree,r=e.disagree;t?r():n()}},{key:"render",value:function(){var e=this.props,t=e.showUserProtocol,n=e.isAgreed,r=e.style;return t?f.a.createElement("div",{style:r,onClick:this.handleClick,className:P.a.dynamic([["175891498",[L.a.lighterFont,L.a.lighterFont,L.a.primary]]])+" user-protocol"},f.a.createElement("span",{className:P.a.dynamic([["175891498",[L.a.lighterFont,L.a.lighterFont,L.a.primary]]])+" "+(N()("icon-wrap",{"is-agreed":n})||"")},f.a.createElement(lt,{width:11,height:11,stroke:n?L.a.primary:"transparent"})),f.a.createElement("span",{className:P.a.dynamic([["175891498",[L.a.lighterFont,L.a.lighterFont,L.a.primary]]])+" agree"},"我已阅读并同意"),f.a.createElement(M.a,{style:mt,to:"/support/user-protocol"},"「多抓鱼用户协议」"),f.a.createElement(P.a,{id:"175891498",dynamic:[L.a.lighterFont,L.a.lighterFont,L.a.primary]},[".user-protocol.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px 0;font-size:12px;font-weight:300;line-height:1.17;color:".concat(L.a.lighterFont,";}"),".agree.__jsx-style-dynamic-selector{margin-left:6px;}",".icon-wrap.__jsx-style-dynamic-selector{line-height:0;border:0.5px solid ".concat(L.a.lighterFont,";}"),".icon-wrap.is-agreed.__jsx-style-dynamic-selector{border-color:".concat(L.a.primary,";}")])):null}}])&&ut(n.prototype,r),o&&ut(n,o),t}(),ht=Object(a.b)(function(e){var t=e.session.user,n=e.userProtocol.isAgreed;return{showUserProtocol:t.showTips.userProtocol,isAgreed:n}},yt)(bt);function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et={display:"block",height:174,padding:"13px 21px",width:"100%",fontSize:"15px",backgroundColor:"white",border:"0 none"},jt={marginLeft:23},kt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=xt(t).call(this,e))||"object"!==gt(o)&&"function"!=typeof o?wt(r):o).handleComment=n.handleComment.bind(wt(n)),n.modalActions=[{label:"取消",onClick:e.closeEditModal},{primary:!0,label:"发送",onClick:n.handleComment}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleComment",value:function(){var e=this.props,t=e.onComment,n=e.closeEditModal;t().then(function(){n()})}},{key:"renderEditModal",value:function(){var e=this.props,t=e.comment,n=e.closeEditModal,r=e.onChange;return f.a.createElement(ie.a,{onClose:n,actions:this.modalActions},f.a.createElement("div",{className:"new-comment-form"},f.a.createElement(it,{grow:!0,autoFocus:!0,type:"textarea",placeholder:"留个言...",value:t,onChange:r,style:Et}),f.a.createElement(ht,{style:jt})))}},{key:"render",value:function(){var e=this.props,t=e.showEditModal,n=e.openEditModal;return t?this.renderEditModal():f.a.createElement(Ze.a,null,f.a.createElement(Xe.a,null,f.a.createElement("div",{onClick:n,className:P.a.dynamic([["1567494339",[L.a.gray,L.a.lightFont]]])+" fake-form"},f.a.createElement("div",{className:P.a.dynamic([["1567494339",[L.a.gray,L.a.lightFont]]])+" placeholder"},"留个言..."),f.a.createElement(P.a,{id:"1567494339",dynamic:[L.a.gray,L.a.lightFont]},[".fake-form.__jsx-style-dynamic-selector{box-sizing:border-box;width:100%;max-width:600px;padding:10px 15px;padding-bottom:10px;background-color:".concat(L.a.gray,";}"),".placeholder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:9px;border-radius:8px;color:".concat(L.a.lightFont,";background-color:white;}")]))))}}])&&vt(n.prototype,r),o&&vt(n,o),t}(),_t=Object(a.b)(function(e){return{showEditModal:e.occCommentFormFocus}},function(e){return{openEditModal:function(){return e(Qe(!0))},closeEditModal:function(){return e(Qe(!1))}}})(kt);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt={onCommentChange:Ie.c,onCreateComment:Ie.a},Rt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Pt(t).call(this,e))||"object"!==St(o)&&"function"!=typeof o?It(r):o).handleComment=n.handleComment.bind(It(n)),n.handleChange=n.handleChange.bind(It(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.activityId;(0,e.onCommentChange)({activityId:t})}},{key:"handleComment",value:function(){var e=this.props,t=e.commentContent;return(0,e.onCreateComment)(t)}},{key:"handleChange",value:function(e){(0,this.props.onCommentChange)({text:e})}},{key:"render",value:function(){var e=this.props.commentContent;return f.a.createElement(_t,{comment:e,onChange:this.handleChange,onComment:this.handleComment})}}])&&Ct(n.prototype,r),o&&Ct(n,o),t}(),Lt=Object(a.b)(function(e){var t=Object(Pe.p)(e.entities);return{commentContent:t?t.text:""}},Nt)(Rt),At=n("HEen"),Ft=Object(a.b)(function(e){return{showOCCCommentBetaNotice:!Ce(e,"openCollectionContributionComment")}})(function(e){return e.showOCCCommentBetaNotice?f.a.createElement(At.a,{center:!0,alignCenter:!0,style:{padding:"14px 0",fontSize:"11px",lineHeight:1,borderTop:"0.5px solid ".concat(L.a.confusingGray)}},f.a.createElement("div",{style:{color:"white",padding:"3px",borderRadius:"2px",background:"#aaa",marginRight:"5.5px",fontSize:"9px"}},"BETA"),f.a.createElement(fe.a,{lighter:!0},"功能在测试阶段，仅获邀用户和书单推荐入选用户可以留言")):null}),Bt=n("wIs1"),Dt=n("ifKl"),Mt=n("+Tm7"),Ut=n("yGly");function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(){return f.a.createElement("div",{className:P.a.dynamic([["304940654",[L.a.lighterFont]]])+" empty-comment-hint"},"还没有人留言",f.a.createElement(P.a,{id:"304940654",dynamic:[L.a.lighterFont]},[".empty-comment-hint.__jsx-style-dynamic-selector{margin-top:22px;margin-bottom:40px;color:".concat(L.a.lighterFont,";font-size:13px;}")]))},qt={marginTop:16},Yt=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=Ht(t).call(this,e))||"object"!==zt(o)&&"function"!=typeof o?Wt(r):o;var a=Object(Mt.a)(e.location.search).target;return n.initialLoad=!0,n.needScrollIntoView="comments"===a,n.getRef=n.getRef.bind(Wt(n)),n.renderItem=n.renderItem.bind(Wt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.comments;this.needScrollIntoView&&t.length&&(setTimeout(function(){e.scrollIntoView()},100),this.initialLoad=!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.comments;this.needScrollIntoView&&this.initialLoad&&!e.comments.length&&t.length&&this.scrollIntoView(),this.initialLoad&&"loading"===e.loadStatus&&["loaded","drained"].includes(this.props.loadStatus)&&(this.initialLoad=!1)}},{key:"getRef",value:function(e){this.el=e}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView({block:"start",behavior:"smooth"})}},{key:"renderItem",value:function(e,t){var n=this.props.renderComment,r=void 0===n?Dt.a:n;return f.a.createElement("div",{key:e,className:"jsx-2659822312 comment-item-wrap"},r(e,t),f.a.createElement(P.a,{id:"2659822312"},[".comment-item-wrap.jsx-2659822312{padding-left:15px;}"]))}},{key:"render",value:function(){var e=this.props,t=e.count,n=e.loader,r=e.loadStatus,o=e.comments,a=e.renderFooter,i=void 0===a?Dt.a:a,c=e.style,l=!!t;return f.a.createElement("div",{ref:this.getRef,style:c,className:P.a.dynamic([["771873736",[L.a.lighterFont]]])+" comments"},l&&f.a.createElement("div",{className:P.a.dynamic([["771873736",[L.a.lighterFont]]])+" comment-count"},"".concat(t," 条留言")),f.a.createElement(Ut.a,{loader:n,loadStatus:r,items:o,style:qt,renderItem:this.renderItem,renderEmptyContent:Kt}),i(),f.a.createElement(P.a,{id:"771873736",dynamic:[L.a.lighterFont]},[".comment-count.__jsx-style-dynamic-selector{padding:19px 0 0 15px;color:".concat(L.a.lighterFont,";}")]))}}])&&Gt(n.prototype,r),o&&Gt(n,o),t}(),Qt=Object(Bt.a)(Yt),Zt=n("vmZo");function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,en(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.canDelete,r=e.onDelete,o=t.text,a=t.author,i=a.id,c=a.avatar,l=a.name,s=t.created;return f.a.createElement(At.a,{className:"comment",style:{marginBottom:"19px"}},f.a.createElement(M.a,{to:"/users/".concat(i),style:{width:"30px"}},f.a.createElement(Zt.a,{url:c})),f.a.createElement("div",{style:{flexGrow:1,fontSize:"15px",lineHeight:"22px",marginLeft:"10px",paddingBottom:"17px",paddingRight:15},className:P.a.dynamic([["3465072512",[L.a.confusingGray]]])+" content"},f.a.createElement("div",{style:{marginBottom:"3px"},className:P.a.dynamic([["3465072512",[L.a.confusingGray]]])},f.a.createElement(M.a,{to:"/users/".concat(i)},l,"：")),f.a.createElement("p",{className:P.a.dynamic([["3465072512",[L.a.confusingGray]]])},o),f.a.createElement(At.a,{evenBetween:!0,component:fe.a,lighter:!0,style:{marginTop:"10px",fontSize:"13px"}},f.a.createElement(be,{relative:!0,noStartPadding:!0,lighter:!0,value:s}),n&&f.a.createElement(D.a,{cleanText:!0,onClick:r},"删除"))),f.a.createElement(P.a,{id:"3465072512",dynamic:[L.a.confusingGray]},[".content.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".coment.__jsx-style-dynamic-selector:last-child .content.__jsx-style-dynamic-selector{border-bottom:0;}"]))}}])&&Jt(n.prototype,r),o&&Jt(n,o),t}();function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),an(this,cn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.canDelete,r=e.onDelete;return f.a.createElement(nn,{comment:t,canDelete:n,onDelete:r})}}])&&on(n.prototype,r),o&&on(n,o),t}(),un=Object(a.b)(function(e,t){var n=t.id,r=e.session.user,o=Object(ke.d)(e,n);return{comment:o,canDelete:o&&o.author.id===r.id}},function(e,t){var n=t.activityId,r=t.id;return{onDelete:function(){return e(Object(Ie.b)(n,r))}}})(sn);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bn=function(){return f.a.createElement(Ft,null)},hn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=dn(t).call(this,e))||"object"!==fn(o)&&"function"!=typeof o?mn(r):o).renderComment=n.renderComment.bind(mn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderComment",value:function(e){var t=this.props.activityId;return f.a.createElement(un,{key:e,id:e,activityId:t})}},{key:"render",value:function(){var e=this.props,t=e.count,n=e.commentIds,r=e.loadStatus,o=e.onLoadComments;return f.a.createElement(Qt,{count:t,loadStatus:r,loader:o,comments:n,renderFooter:bn,renderComment:this.renderComment})}}])&&pn(n.prototype,r),o&&pn(n,o),t}(),gn=Object(a.b)(function(e,t){var n=t.activityId,r=Object(ke.f)(e,n),o=Object(ke.g)(e,n);return{count:r.length,loadStatus:o,commentIds:r}},function(e,t){var n=t.activityId;return{onLoadComments:function(t){return e(Object(Ie.e)(n,t))}}})(hn);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wn(this,On(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.avatarSmall,r=e.name,o=e.activityBrief,a=e.children;return f.a.createElement("div",{className:P.a.dynamic([["3367957991",[L.a.lighterFont]]])+" activity-card-header"},f.a.createElement(M.a,{to:"/users/".concat(t)},f.a.createElement(Zt.a,{large:!0,url:n})),f.a.createElement("div",{className:P.a.dynamic([["3367957991",[L.a.lighterFont]]])+" activity-info"},f.a.createElement("div",{className:P.a.dynamic([["3367957991",[L.a.lighterFont]]])+" activity-user-name"},r),f.a.createElement("div",{className:P.a.dynamic([["3367957991",[L.a.lighterFont]]])+" activity-detail"},f.a.createElement(fe.a,null,o),a)),f.a.createElement(P.a,{id:"3367957991",dynamic:[L.a.lighterFont]},[".activity-card-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".activity-info.__jsx-style-dynamic-selector{margin:0 20px 0 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".activity-user-name.__jsx-style-dynamic-selector{font-size:16px;font-weight:normal;line-height:1.25;}",".activity-detail.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;font-weight:300;line-height:normal;color:".concat(L.a.lighterFont,";}")]))}}])&&xn(n.prototype,r),o&&xn(n,o),t}(),kn=Object(a.b)(function(e,t){var n=t.userId,r=Object(Pe.F)(e.entities,n);return{id:r.id,avatarSmall:r.avatarSmall,name:r.name}})(jn);function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Sn=function(e){return f.a.createElement("svg",_n({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 18 17"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#AAA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2",transform:"translate(1 1)"},f.a.createElement("path",{d:"M12.169348,0 L3.83065199,0 C1.71493085,0 0,1.79029667 0,3.9989971 L0,9.14005968 C0,11.3369741 1.69686706,13.1154847 3.79678239,13.135521 L4.46740051,14.4319833 C4.79706463,15.0684285 5.62009596,15.1945389 6.11120519,14.6853828 L7.60259667,13.1390568 L12.169348,13.1390568 C14.2850692,13.1390568 16,11.3487601 16,9.14005968 L16,3.9989971 C16,1.79029667 14.2850692,0 12.169348,0 Z"}),f.a.createElement("path",{d:"M4.47615044 4.65C9.4446895 4.65 11.928959 4.65 11.928959 4.65M5.59750752 8.65L9.51801392 8.65"})))};function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pn=function(e){return f.a.createElement("svg",Cn({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#AAA",strokeWidth:"1.2",transform:"translate(1 1)"},f.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.74290235,5.6549 L1.32674307,5.9209 C0.564288721,6.0539 2.27373675e-13,6.8189 2.27373675e-13,7.7199 L2.27373675e-13,11.9069 C2.27373675e-13,13.4389 0.575163664,14.7399 2.35502937,14.7399 L3.1924,14.7529"}),f.a.createElement("path",{strokeLinecap:"square",d:"M3.5568,12.0065 L3.5568,5.5265 C3.5568,5.0625 3.66704045,4.6065 3.87715685,4.1995 L5.02667263,1.4615 C5.30368708,0.8025 6.22518415,0.2695 6.762253,0.7125 C7.33983756,1.1885 7.68751897,1.9135 7.71107462,2.6895 L7.71672798,2.9035 C7.74876366,3.9715 8.57321145,4.8195 9.58045109,4.8195 L15.0557266,4.8195 C16.6047462,4.8195 17.320838,6.4245 16.8638584,7.9955 L15.6361379,12.4075 C14.9680996,14.2355 13.3097818,15.4405 11.4630187,15.4405 L6.79240423,15.4405 C5.00500143,15.4405 3.5568,13.9025 3.5568,12.0065 Z"})))};function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tn=function(e){return f.a.createElement("svg",In({width:"19",height:"16",viewBox:"0 0 19 16"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(0 4.39)"},f.a.createElement("mask",{id:"zanle-b",fill:"#fff"},f.a.createElement("polygon",{id:"zanle-a",points:"0 .941 3.5 .941 3.5 10.339 0 10.339"})),f.a.createElement("path",{fill:"#D6BA8C",d:"M3.4998,10.3395 L2.3548,10.3315 C0.5748,10.3315 -0.0002,9.0175 -0.0002,7.4695 L-0.0002,3.2405 C-0.0002,2.3295 0.5638,1.5575 1.3268,1.4225 L3.2778,0.9405 L3.4998,10.3395",mask:"url(#zanle-b)"})),f.a.createElement("path",{fill:"#D6BA8C",d:"M4.4665,11.7066 L4.4665,5.2266 C4.4665,4.7626 4.5765,4.3066 4.7865,3.8996 L5.9365,1.1616 C6.2135,0.5026 7.1345,-0.0304 7.6715,0.4126 C8.2495,0.8886 8.5975,1.6136 8.6205,2.3896 L8.6265,2.6036 C8.6585,3.6716 9.4825,4.5196 10.4905,4.5196 L15.9655,4.5196 C17.5145,4.5196 18.2305,6.1246 17.7735,7.6956 L16.5455,12.1076 C15.8775,13.9356 14.2195,15.1406 12.3725,15.1406 L7.7025,15.1406 C5.0625,15.1406 4.4665,13.6026 4.4665,11.7066"}),f.a.createElement("path",{stroke:"#D6BA8C",strokeLinecap:"square",strokeWidth:".5",d:"M4.4665,11.7066 L4.4665,5.2266 C4.4665,4.7626 4.5765,4.3066 4.7865,3.8996 L5.9365,1.1616 C6.2135,0.5026 7.1345,-0.0304 7.6715,0.4126 C8.2495,0.8886 8.5975,1.6136 8.6205,2.3896 L8.6265,2.6036 C8.6585,3.6716 9.4825,4.5196 10.4905,4.5196 L15.9655,4.5196 C17.5145,4.5196 18.2305,6.1246 17.7735,7.6956 L16.5455,12.1076 C15.8775,13.9356 14.2195,15.1406 12.3725,15.1406 L7.7025,15.1406 C5.0625,15.1406 4.4665,13.6026 4.4665,11.7066 Z"})))};function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn=function(e){return e||""},Dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,An(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.style,n=e.commentStyle,r=e.voteStyle,o=e.disableComment,a=e.commentsCount,i=e.voteCount,c=e.votedByMe,l=e.voteRenderer,s=void 0===l?Bn:l,u=e.onVoteClick,p=e.onCommentClick,d=Boolean(a),m=s(i);return f.a.createElement("div",{style:t,className:P.a.dynamic([["895796941",[L.a.lighterFont]]])+" interact-actions"},!o&&f.a.createElement("div",{onClick:p,style:n,className:P.a.dynamic([["895796941",[L.a.lighterFont]]])+" action-item comment-item"},f.a.createElement(Sn,{width:18,height:18}),d&&f.a.createElement("span",{className:P.a.dynamic([["895796941",[L.a.lighterFont]]])+" label"},a)),f.a.createElement("div",{onClick:u,style:r,className:P.a.dynamic([["895796941",[L.a.lighterFont]]])+" action-item"},c?f.a.createElement(Tn,{width:18,height:18}):f.a.createElement(Pn,{width:18,height:18}),m&&f.a.createElement("span",{className:P.a.dynamic([["895796941",[L.a.lighterFont]]])+" label"},m)),f.a.createElement(P.a,{id:"895796941",dynamic:[L.a.lighterFont]},[".interact-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;color:".concat(L.a.lighterFont,";}"),".action-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;font-weight:normal;line-height:1.23;}",".comment-item.__jsx-style-dynamic-selector{margin-right:30px;}",".label.__jsx-style-dynamic-selector{margin-left:6px;}"]))}}])&&Rn(n.prototype,r),o&&Rn(n,o),t}();function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wn={onVote:Ie.k,onUnvote:Ie.j},Vn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zn(t).call(this,e))||"object"!==Mn(o)&&"function"!=typeof o?Gn(r):o).toActivityPage=n.toActivityPage.bind(Gn(n)),n.handleVote=n.handleVote.bind(Gn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toActivityPage",value:function(){var e=this.props,t=e.userId,n=e.activityId;Object(A.a)().push("/users/".concat(t,"/activities/").concat(n,"?target=comments"))}},{key:"handleVote",value:function(){var e=this.props,t=e.activityId,n=e.userId,r=e.votedByMe,o=e.onUnvote,a=e.onVote;r?o(t,n):a(t,n)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.commentStyle,r=e.voteStyle,o=e.disableComment,a=e.commentsCount,i=e.voteCount,c=e.votedByMe,l=e.voteRenderer;return f.a.createElement(Dn,{style:t,commentStyle:n,voteStyle:r,disableComment:o,commentsCount:a,voteCount:i,votedByMe:c,voteRenderer:l,onCommentClick:this.toActivityPage,onVoteClick:this.handleVote})}}])&&Un(n.prototype,r),o&&Un(n,o),t}(),Kn=Object(a.b)(function(e,t){var n=t.activityId,r=Object(ke.c)(e,n),o=r&&r.item||{},a=o.commentsCount,i=void 0===a?0:a,c=o.voteCount;return{commentsCount:i,voteCount:void 0===c?0:c,votedByMe:o.votedByMe}},Wn)(Vn),qn=n("JGVQ");function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tr="https://asset.duozhuayu.com/default_avatar.png",nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,$n(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.userId,n=e.url,r=e.isAnonymous,o=e.withLink,a=e.style,i=(e.dispatch,Zn(e,["userId","url","isAnonymous","withLink","style","dispatch"])),c=f.a.createElement(Zt.a,Qn({url:n||"",style:a},i));return o&&!r?f.a.createElement(M.a,{to:"/users/".concat(t)},c):c}}])&&Xn(n.prototype,r),o&&Xn(n,o),t}(),rr=Object(a.b)(function(e,t){var n=t.userId,r=e.entities,o=e.session.user,a=n===o.id?o:Object(Pe.F)(r,n),i=!a;return{isAnonymous:i,url:i?tr:a.avatarSmall}})(nr);function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ir(e,t,n[t])})}return e}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lr=function(e){var t=e.userIds,n=void 0===t?[]:t,r=e.limit,o=e.style,a=cr(e,["userIds","limit","style"]);return f.a.createElement(At.a,or({style:ar({},o,{flexFlow:"row-reverse"}),className:"avatars"},a),n.slice(0,r||n.length).reverse().map(function(e,t){return f.a.createElement("span",{key:"".concat(e,"-").concat(t),className:"jsx-3679487212 avatar"},f.a.createElement(rr,{userId:e}))}),f.a.createElement(P.a,{id:"3679487212"},[".avatar.jsx-3679487212{display:block;margin-right:-5.5px;}",".avatar.jsx-3679487212:first-child{margin-right:0;}"]))};lr.propTypes={userIds:de.a.arrayOf(de.a.string.isRequired).isRequired};var sr=lr,ur=function(e){var t=e.voteCount,n=void 0===t?0:t,r=e.latestVoters,o=void 0===r?[]:r,a=e.link;return 0===n?null:f.a.createElement(M.a,{to:a},f.a.createElement(At.a,{alignCenter:!0,style:{color:L.a.lighterFont,padding:15,borderBottom:"0.5px solid ".concat(L.a.confusingGray)}},o.length>0&&f.a.createElement(At.a,{style:{marginRight:"6px"}},f.a.createElement(sr,{limit:3,userIds:o})),f.a.createElement(At.a,{style:{fontSize:"14px"},grow:!0},"".concat(n," 人觉得有趣")),f.a.createElement(qn.a,{stroke:L.a.darkGray})))};function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,mr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.voteCount,n=e.latestVoters,r=e.link;return f.a.createElement(ur,{voteCount:t,latestVoters:n,link:r})}}])&&pr(n.prototype,r),o&&pr(n,o),t}(),hr=Object(a.b)(function(e,t){var n=t.activityId,r=Object(ke.c)(e,n),o=r?r.item:{},a=o.voteCount,i=o.latestVoters,c=void 0===i?[]:i,l=c[0]||"";return{voteCount:a,latestVoters:c,link:1===a?"/users/".concat(l):"/activities/".concat(n,"/voters")}})(br),gr=n("jYvD");function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var kr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=wr(t).call(this,e))||"object"!==vr(o)&&"function"!=typeof o?Or(r):o).getRef=n.getRef.bind(Or(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.rowSize,t=void 0===e?5:e,n=(this.node.clientWidth-1*(t-1))/t;this.bookImageStyles={position:"relative",width:n,marginRight:1},this.forceUpdate()}},{key:"getRef",value:function(e){this.node=e}},{key:"renderGalleryMask",value:function(){var e=this.props,t=e.limit,n=void 0===t?0:t,r=e.count,o=e.onMaskClick;return f.a.createElement("div",{onClick:o,className:"jsx-651061622 mask"},"+".concat(r-n),f.a.createElement(P.a,{id:"651061622"},[".mask.jsx-651061622{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,0.6);font-size:15px;font-weight:900;font-style:normal;line-height:1;text-align:center;color:#fff;}"]))}},{key:"renderBookImage",value:function(){var e=this,t=this.props,n=t.books,r=t.limit,o=void 0===r?0:r,a=t.rowSize,i=void 0===a?5:a,c=t.count,l=t.loadStatus,s=0!==o?n.slice(0,o):n,p=o>0&&c>o&&"initial"===l,d=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length)return r;var o=t.slice(0,n);return e(t.slice(n),n,[].concat(jr(r),[o]))}(s,i);return f.a.createElement(u.Fragment,null,d.map(function(t,n){return f.a.createElement("div",{key:"gallery-row-".concat(n),className:"jsx-391622538 book-gallery-row"},t.map(function(t,r){return f.a.createElement(gr.a,{key:t.id,style:e.bookImageStyles,ratio:1.411},f.a.createElement(M.a,{to:"/books/".concat(t.id),style:{width:"100%",height:"100%",position:"absolute",backgroundImage:"url(".concat(t.images.small,")"),backgroundColor:L.a.gray,backgroundSize:"cover",backgroundPosition:"center"}}),p&&r+n*i===o-1&&e.renderGalleryMask())}))}),f.a.createElement(P.a,{id:"391622538"},[".book-gallery-row.jsx-391622538{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;position:relative;margin-bottom:1px;}"]))}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.books,r=void 0===n?[]:n,o=e.count,a="loading"===t&&(!r.length||o>r.length);return f.a.createElement("div",{ref:this.getRef,className:"jsx-2925719450 book-gallery"},this.bookImageStyles&&this.renderBookImage(),a&&f.a.createElement("div",{className:"jsx-2925719450 loading-wrap"},f.a.createElement(q.a,null)),f.a.createElement(P.a,{id:"2925719450"},[".loading-wrap.jsx-2925719450{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:36px 0;}"]))}}])&&xr(n.prototype,r),o&&xr(n,o),t}();function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tr={onLoad:Ie.d,onLoadUser:Te.l,onDeleteActivity:Ie.i},Nr={fontSize:14},Rr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Cr(t).call(this,e),(n=!o||"object"!==_r(o)&&"function"!=typeof o?Pr(r):o).state={showConfirmModal:!1},n.openConfirmModal=n.openConfirmModal.bind(Pr(n)),n.hideConfirmModal=n.hideConfirmModal.bind(Pr(n)),n.actions=[{label:"取消",onClick:function(){return n.hideConfirmModal()}},{label:"确认删除",onClick:function(){n.doRemove(),n.hideConfirmModal()},primary:!0}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.userId,n=e.userLoaded,r=e.activityId,o=e.loadStatus,a=e.onLoad,i=e.onLoadUser;"initial"===o&&a(t,r),n||i(t)}},{key:"doRemove",value:function(){var e=this.props;(0,e.onDeleteActivity)(e.userId,e.activityId).then(function(){Object(A.a)().replace("/me")})}},{key:"openConfirmModal",value:function(){this.setState({showConfirmModal:!0})}},{key:"hideConfirmModal",value:function(){this.setState({showConfirmModal:!1})}},{key:"renderConfirmModal",value:function(){return this.state.showConfirmModal?f.a.createElement(ie.a,{onClose:this.hideConfirmModal,actions:this.actions},f.a.createElement("div",{className:"jsx-680474056 content"},"确认删除这条动态吗？"),f.a.createElement(P.a,{id:"680474056"},[".content.jsx-680474056{padding:47px 23px 45px;font-size:16px;font-weight:300;line-height:1.5;text-align:center;}"])):null}},{key:"renderActivityBrief",value:function(){var e=this.props,t=e.type,n=e.count;switch(t){case"purchased_books":return"买了 ".concat(n," 本书");case"sold_books":return"卖了 ".concat(n," 本书");default:return""}}},{key:"render",value:function(){var e=this.props,t=e.userId,n=e.userLoaded,r=e.activityId,o=e.books,a=void 0===o?[]:o,i=e.count,c=e.loadStatus,l=e.created,s=e.isCurrentUser,p=e.commentEnabled;return n?f.a.createElement("div",{className:P.a.dynamic([["2961422217",[L.a.confusingGray]]])+" activity-page"},this.renderConfirmModal(),f.a.createElement("div",{className:P.a.dynamic([["2961422217",[L.a.confusingGray]]])+" header-wrap"},f.a.createElement(kn,{userId:t,activityBrief:this.renderActivityBrief()})),f.a.createElement(kr,{books:a,count:i,loadStatus:c,onMaskClick:this.handleClickMask}),f.a.createElement("div",{className:P.a.dynamic([["2961422217",[L.a.confusingGray]]])+" activity-actions"},f.a.createElement(Kn,{disableComment:!0,activityId:r,userId:t,voteStyle:Nr}),f.a.createElement("div",{className:P.a.dynamic([["2961422217",[L.a.confusingGray]]])+" holder"}),f.a.createElement(be,{relative:!0,value:1e3*l}),s&&f.a.createElement(u.Fragment,null,f.a.createElement("span",{className:P.a.dynamic([["2961422217",[L.a.confusingGray]]])+" divider"},"·"),f.a.createElement(D.a,{cleanText:!0,onClick:this.openConfirmModal},"删除"))),f.a.createElement(hr,{activityId:r}),f.a.createElement(gn,{userId:t,activityId:r}),p&&f.a.createElement(Lt,{activityId:r}),f.a.createElement(P.a,{id:"2961422217",dynamic:[L.a.confusingGray]},[".activity-page.__jsx-style-dynamic-selector{box-sizing:border-box;min-height:100vh;padding:24px 20px 59px;background:#fff;}",".header-wrap.__jsx-style-dynamic-selector{margin-bottom:24px;}",".activity-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:24px;padding-bottom:18px;border-bottom:0.5px solid ".concat(L.a.confusingGray,";font-size:14px;}"),".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".divider.__jsx-style-dynamic-selector{padding:0 0.5em;}"])):null}}])&&Sr(n.prototype,r),o&&Sr(n,o),t}(),Lr=Object(a.b)(function(e,t){var n=t.match.params,r=n.activityId,o=n.userId,a=e.entities,i=e.session.user,c=Object(Pe.F)(a,o),l=Object(ke.c)(e,r),s=Object(Pe.b)(a,r),u=l||{},f=u.type,p=u.item,d=void 0===p?{}:p,m=d.data,y=d.count,b=d.created;return{userId:o,userLoaded:!!c,activityId:r,isCurrentUser:o===i.id,books:m,type:f,count:y,loadStatus:s,created:b,commentEnabled:Ce(e,"openCollectionContributionComment")}},Tr)(Object(Ne.a)(Rr));function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ur=function(e){return f.a.createElement("div",{key:e.id,className:P.a.dynamic([["1990032349",[L.a.gray,L.a.lighterFont]]])+" user-item"},f.a.createElement(M.a,{to:"/users/".concat(e.id)},f.a.createElement("div",{className:P.a.dynamic([["1990032349",[L.a.gray,L.a.lighterFont]]])+" user"},f.a.createElement("div",{className:P.a.dynamic([["1990032349",[L.a.gray,L.a.lighterFont]]])+" image"},f.a.createElement(Zt.a,{large:!0,url:e.avatarSmall})),f.a.createElement("div",{className:P.a.dynamic([["1990032349",[L.a.gray,L.a.lighterFont]]])+" content"},f.a.createElement(fe.a,{autoPadding:!0},e.name)),f.a.createElement("div",{className:P.a.dynamic([["1990032349",[L.a.gray,L.a.lighterFont]]])+" detail"},f.a.createElement(qn.a,{stroke:L.a.darkGray})))),f.a.createElement(P.a,{id:"1990032349",dynamic:[L.a.gray,L.a.lighterFont]},[".user-item.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".user.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;}",".image.__jsx-style-dynamic-selector{margin-right:10px;}",".content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".detail.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}")]))},zr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Br(this,Dr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.users,r=e.onLoad,o=e.renderItem,a=void 0===o?Ur:o;return f.a.createElement("div",{className:P.a.dynamic([["1275324341",[L.c.navHeight]]])+" user-list"},f.a.createElement(Ut.a,{loadStatus:t,loader:r,items:n,renderItem:a}),f.a.createElement(P.a,{id:"1275324341",dynamic:[L.c.navHeight]},[".user-list.__jsx-style-dynamic-selector{box-sizing:border-box;min-height:100vh;padding-bottom:".concat(L.c.navHeight," background:#fff;}")]))}}])&&Fr(n.prototype,r),o&&Fr(n,o),t}();function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wr(this,Vr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.users,n=e.loadStatus,r=e.onLoad;return f.a.createElement("div",{className:"activity-voter-page"},f.a.createElement(zr,{users:t,loadStatus:n,onLoad:r}))}}])&&Hr(n.prototype,r),o&&Hr(n,o),t}(),Yr=Object(a.b)(function(e,t){var n=t.match.params.activityId;return{users:Object(ke.i)(e,n),loadStatus:Object(ke.j)(e,n)}},function(e,t){var n=t.match.params.activityId;return{onLoad:function(t){return e(Object(Ie.f)(n,t))}}})(Object(Ne.a)(qr)),Qr=n("YnYI");function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xr=function(e){return f.a.createElement("svg",Zr({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},e),f.a.createElement("g",{fill:"#FFF",transform:"translate(0 2)"},f.a.createElement("path",{d:"M19.4293282,7.91450382 C16.8416794,8.04820904 14.5915267,8.82401644 12.764687,10.5767704 C10.9189313,12.3475984 10.0763664,14.5175338 10.3066718,17.2074927 C9.29525191,17.0836171 8.37403053,16.9472695 7.44757252,16.8701116 C7.12760305,16.8434762 6.74789313,16.8813153 6.47687023,17.0325661 C5.57723664,17.5346213 4.71479389,18.101468 3.69258015,18.7334234 C3.8801374,17.8944099 4.00154198,17.1597181 4.21645802,16.4530358 C4.37451908,15.9336465 4.30131298,15.6445684 3.81751145,15.3063417 C0.711221374,13.1373576 -0.598152672,9.89133294 0.381740458,6.54944216 C1.28832061,3.45783911 3.51464122,1.58290076 6.53970992,0.605531415 C10.6686412,-0.728349971 15.3088397,0.63227246 17.819542,3.87438638 C18.7263359,5.04549618 19.2823817,6.35992954 19.4293282,7.91450382 Z M7.52003053,6.87318849 C7.5438626,6.2619495 7.00833588,5.71127422 6.37224427,5.69288315 C5.7209771,5.67396359 5.18534351,6.16618908 5.16632061,6.80089254 C5.14708397,7.44415737 5.64456489,7.95963594 6.30053435,7.97612449 C6.95083969,7.99240164 7.49598473,7.49954198 7.52003053,6.87318849 Z M13.7335725,5.69246036 C13.0951298,5.70408691 12.5556489,6.24186729 12.5669771,6.85553729 C12.578626,7.4916148 13.1078473,7.98923077 13.7643511,7.98140928 C14.4225649,7.97358779 14.9217557,7.47068702 14.9155573,6.82118614 C14.9101069,6.18362889 14.3832366,5.68072813 13.7335725,5.69246036 Z"}),f.a.createElement("path",{d:"M22.8716183,22.8844157 C22.0744733,22.8020787 21.2365038,23.2568878 20.4024885,23.3412331 C17.8620763,23.5982854 15.5861679,22.8980505 13.7095267,21.1816559 C10.1403817,17.9167117 10.6503664,12.9105344 14.7797252,10.2349501 C18.4497557,7.85700528 23.8320611,8.64972402 26.4196031,11.9492308 C28.6776641,14.8283852 28.4123053,18.6503464 25.6556947,21.0690898 C24.8580153,21.7691133 24.6483382,22.1926686 25.0289786,23.1787648 C25.0984365,23.3587039 25.1880305,23.6540928 25.242855,23.8692895 C24.4234809,23.5084439 23.6718626,22.9670699 22.8716183,22.8844157 Z M15.9158626,14.9380975 C16.4374962,14.938626 16.8670076,14.5348679 16.8867786,14.0253083 C16.9076183,13.4858368 16.468916,13.0333529 15.9227023,13.0311333 C15.3819389,13.0287023 14.928916,13.4875279 14.9477252,14.0189665 C14.9654656,14.5267293 15.3979695,14.9374633 15.9158626,14.9380975 Z M21.9284885,13.0332472 C21.4223511,13.0297592 20.9923053,13.439542 20.9716794,13.9452965 C20.949771,14.4861421 21.3747939,14.930276 21.9159847,14.93165 C22.4394351,14.9333412 22.8530229,14.5418438 22.8720458,14.0266823 C22.8923511,13.4845684 22.4671145,13.0369466 21.9284885,13.0332472 Z"})))},Jr=n("B3zl");function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oo=function(){Jr.d.login()},ao=function(){Object(Jr.f)({backward:{refresh:!1}})},io=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=to(t).call(this,e))||"object"!==$r(o)&&"function"!=typeof o?no(r):o).state={agreed:!0,camouflaged:!1,fakeFormName:"",fakeFormPassword:"",loadStatus:"loading"},n.handleAgreementChange=n.handleAgreementChange.bind(no(n)),n.handleFakeLogin=n.handleFakeLogin.bind(no(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.checkAppleAudit().then(function(t){var n=t.apple_audit;e.setState({camouflaged:n,loadStatus:"drained"})}).catch(function(){e.setState({loadStatus:"failed"})})}},{key:"handleAgreementChange",value:function(){this.setState({agreed:!this.state.agreed})}},{key:"handleFakeLogin",value:function(){var e=this.state,t=e.fakeFormName,n=e.fakeFormPassword;Jr.d.login({name:t,password:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.camouflaged,r=t.fakeFormName,o=t.fakeFormPassword;if("loading"===t.loadStatus)return null;var a=screen.width<=320,i=Object(Qr.a)("/redirect?link=/support/user-protocol");return f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" page"},f.a.createElement(ue.a,{title:"登录"}),f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" logo"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/app/login/title%403x.png",alt:"欢迎光临多抓鱼",width:"288",height:"50",className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])}),f.a.createElement("img",{src:"https://asset.duozhuayu.com/app/login/subtitle%403x.png",alt:"登录后抓鱼更方便哦",width:"163",height:"20",className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" logoSubtitle"}),f.a.createElement("img",{src:"https://asset.duozhuayu.com/app/login/logo%403x.png",alt:"logo",width:"235",height:"142",className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])})),f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" actions"},n&&f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm"},f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-field"},f.a.createElement("span",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-label"},"用户名"),f.a.createElement("input",{type:"text",value:r,onChange:function(t){e.setState({fakeFormName:t.target.value})},className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-input"})),f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-field"},f.a.createElement("span",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-label"},"密码"),f.a.createElement("input",{type:"password",value:o,onChange:function(t){e.setState({fakeFormPassword:t.target.value})},className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" FakeForm-input"})),f.a.createElement("button",{onClick:this.handleFakeLogin,className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" loginButton"},"登录")),f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])},f.a.createElement("label",{htmlFor:"agreement",className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" actionLogin"},f.a.createElement("input",{type:"checkbox",id:"agreement",checked:this.state.agreed,onChange:this.handleAgreementChange,className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" loginCheckbox"}),f.a.createElement("span",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])},"我已阅读并同意",f.a.createElement("a",{href:i,className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" link"},"「多抓鱼用户协议」")))),!n&&f.a.createElement("div",{onClick:this.state.agreed?oo:function(){},className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" "+"loginButton ".concat(this.state.agreed?"":"is-disabled")},f.a.createElement(Xr,{width:"20",height:"20"}),f.a.createElement("span",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" loginButtonText"},"微信登录或注册")),f.a.createElement("div",{className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" cancel"},f.a.createElement("span",{onClick:ao,className:P.a.dynamic([["3677407305",[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]]])+" cancelButton"},"先不登录"))),f.a.createElement(P.a,{id:"3677407305",dynamic:[a?.8:1,a?"100px":"136px",L.a.primary,L.a.primary,L.a.primary,a?"265px":"315px",L.a.darkGray]},[".page.__jsx-style-dynamic-selector{background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:100vh;background:#fff;}",".logo.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(".concat(a?.8:1,");-ms-transform:scale(").concat(a?.8:1,");transform:scale(").concat(a?.8:1,");}"),".logoSubtitle.__jsx-style-dynamic-selector{margin:5px 0 48px;}",".actions.__jsx-style-dynamic-selector{text-align:center;font-size:15px;margin-top:".concat(a?"100px":"136px",";}"),".actionLogin.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}",".loginCheckbox.__jsx-style-dynamic-selector{border:1px solid ".concat(L.a.primary,";background-color:#fff;background-size:cover;background-position:center;-webkit-appearance:none;width:12px;height:12px;margin-right:6px;}"),".loginCheckbox.__jsx-style-dynamic-selector:checked{background-image:url('https://asset.duozhuayu.com/app/login/check%403x.png');}",".link.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".loginButton.__jsx-style-dynamic-selector{background:".concat(L.a.primary,";margin-top:13px;color:#fff;width:").concat(a?"265px":"315px",";height:44px;border-radius:22px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15px;}"),".loginButton.is-disabled.__jsx-style-dynamic-selector{background:".concat(L.a.darkGray,";}"),".loginButtonText.__jsx-style-dynamic-selector{margin-left:6px;}",".FakeForm.__jsx-style-dynamic-selector{font-size:16px;margin-bottom:1em;}",".FakeForm-field.__jsx-style-dynamic-selector{margin-bottom:0.8em;}",".FakeForm-input.__jsx-style-dynamic-selector{height:1.5em;border-radius:0.3em;padding:0.1em 0.3em;border:1px solid #ccc;-webkit-appearance:none;}",".FakeForm-label.__jsx-style-dynamic-selector{width:4em;display:inline-block;text-align:left;}",".cancel.__jsx-style-dynamic-selector{margin-top:27px;}"]))}}])&&eo(n.prototype,r),o&&eo(n,o),t}(),co=Object(a.b)(null,function(e){return{checkAppleAudit:function(){return e({fetch:{from:"/hack/audit",types:[]}})}}})(io);function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var so=function(e){return f.a.createElement("svg",lo({width:"6.5px",viewBox:"0 0 13 24",xmlns:"http://www.w3.org/2000/svg"},e),f.a.createElement("g",{fill:"currentColor",transform:"translate(-707.000000, -346.000000)"},f.a.createElement("path",{d:"M720.039467,358 C720.054396,357.701471 719.947859,357.398 719.719857,357.169998 L719.719857,357.169998 L708.870845,346.320986 L708.870845,346.320986 C708.442863,345.893005 707.748968,345.893005 707.320986,346.320986 C706.893005,346.748968 706.893005,347.442863 707.320986,347.870845 L717.450141,358 L707.320986,368.129155 C706.893005,368.557137 706.893005,369.251032 707.320986,369.679014 C707.748968,370.106995 708.442863,370.106995 708.870845,369.679014 L719.719857,358.830002 L719.719857,358.830002 C719.947859,358.602 720.054396,358.298529 720.039467,358 Z"})))},uo=n("ycmj"),fo=n.n(uo),po=n("R/IG");function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wo=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=go(t).call(this))||"object"!==mo(r)&&"function"!=typeof r?vo(n):r).state={isModalOpen:!1},e.open=e.open.bind(vo(e)),e.close=e.close.bind(vo(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"open",value:function(){Object(v.b)()?this.props.toContactPage():O.f?(O.h&&fo()(O.b,"1.0.5")>0||!O.h&&O.e)&&Object(Jr.h)({path:Object(v.h)(v.c)}):this.setState({isModalOpen:!0})}},{key:"close",value:function(){this.setState({isModalOpen:!1})}},{key:"render",value:function(){var e=this.state.isModalOpen,t=this.props,n=(t.toContactPage,bo(t,["toContactPage"]));return f.a.createElement(D.a,yo({normal:!0,rightSpace:!0,onClick:this.open},n),"联系客服",e&&f.a.createElement(po.a,{onClose:this.close},"你可以给多抓鱼公众号发送消息联系客服"))}}])&&ho(n.prototype,r),o&&ho(n,o),t}(),Oo=Object(a.b)(null,function(e){return{toContactPage:function(){return e(Object(_.c)())}}})(wo),Eo=n("wsKf");function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e,t,n){return t&&So(e.prototype,t),n&&So(e,n),e}function Po(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?Io(e):t}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lo=function(e){function t(){return _o(this,t),Po(this,To(t).apply(this,arguments))}return No(t,u["Component"]),Co(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.onChange,r=ko(e,["content","onChange"]);return f.a.createElement(ie.a,r,f.a.createElement("div",{className:"jsx-2855470021 Feedback"},f.a.createElement("div",{className:"jsx-2855470021 Feedback-input"},f.a.createElement(it,{type:"textarea",style:{minHeight:"132px",fontSize:"15px",padding:"33px 23px"},placeholder:"这里写反馈内容…",value:t,onChange:n}))),f.a.createElement(P.a,{id:"2855470021"},[".Feedback.jsx-2855470021{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#fff;}"]))}}]),t}(),Ao=function(e){function t(e){var n;return _o(this,t),(n=Po(this,To(t).call(this,e))).state={feedbackVisible:!1,feedbackContent:""},n.showFeedback=n.showFeedback.bind(Io(n)),n.closeFeedback=n.closeFeedback.bind(Io(n)),n.handleChange=n.handleChange.bind(Io(n)),n.actions=[{label:"返回",onClick:n.closeFeedback},{label:"提交反馈",primary:"true",normal:"true",onClick:function(){e.submit(n.state.feedbackContent).then(function(){Object(Jr.j)({message:"提交成功。"}),n.setState({feedbackContent:""})}).catch(function(){Object(Jr.j)({message:"提交失败，请检查网络设置。"})}).finally(function(){n.closeFeedback()})}}],n}return No(t,u["Component"]),Co(t,[{key:"showFeedback",value:function(){this.setState({feedbackVisible:!0})}},{key:"closeFeedback",value:function(){this.setState({feedbackVisible:!1})}},{key:"handleChange",value:function(e){this.setState({feedbackContent:e})}},{key:"render",value:function(){var e=this.state,t=e.feedbackVisible,n=e.feedbackContent,r=this.props.onLogout;return f.a.createElement("div",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])+" Page"},f.a.createElement(ue.a,{title:"设置"}),t&&f.a.createElement(Lo,{actions:this.actions,onClose:this.closeFeedback,content:n,onChange:this.handleChange}),f.a.createElement("ul",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])+" settings"},f.a.createElement("li",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},f.a.createElement("span",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},f.a.createElement(Oo,{normal:!1,block:!0,cleanText:!0,style:{textAlign:"left"}}),f.a.createElement(so,{style:{color:"#aaa"}}))),f.a.createElement("li",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},f.a.createElement("span",{onClick:this.showFeedback,className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},"产品反馈",f.a.createElement(so,{style:{color:"#aaa"}}))),f.a.createElement("li",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},f.a.createElement("span",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},"版本号 ",O.b)),f.a.createElement("li",{onClick:r,className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},f.a.createElement("span",{className:P.a.dynamic([["2598721562",[L.a.confusingGray]]])},"退出登录"))),f.a.createElement(P.a,{id:"2598721562",dynamic:[L.a.confusingGray]},[".Page.__jsx-style-dynamic-selector{padding:0 20px;min-height:100vh;background:#fff;}",".settings.__jsx-style-dynamic-selector,.settings.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style:none;margin:0;padding:0;}",".settings.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.confusingGray,";display:block;}"),".settings.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector>a.__jsx-style-dynamic-selector,.settings.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:27.5px 0 24px;}"]))}}]),t}(),Fo=Object(a.b)(null,function(e){return{onLogout:function(){e(Object(Eo.c)()).then(function(){Jr.d.logout()})},submit:function(t){return e({fetch:{from:"post /feedback",types:[],body:{content:t,appVersion:O.b,osType:O.g?"ios":"android",osVersion:window.Dejavu&&window.Dejavu.global?window.Dejavu.global.system:"",model:window.Dejavu&&window.Dejavu.global?window.Dejavu.global.model:""}}})}}})(Ao),Bo=function(){return f.a.createElement("div",{className:"jsx-33970755 AppBlank"},f.a.createElement(P.a,{id:"33970755"},[".AppBlank.jsx-33970755{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;box-sizing:border-box;}"]))},Do=n("r3dt"),Mo=n("KSPI"),Uo=n("ueSK");function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Go=["latestPutawayTime","expectedPutawayDays","preLockCount","preLockPrice"],Ho=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/books/".concat(e),r=Object(Mt.b)(t),o=r?"".concat(n,"?").concat(r):n;return{id:e,fetch:{types:[Uo.T,Uo.U,Uo.N],from:o,schema:Ve.a.book}}},Wo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){n(Ho(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zo(e,t,n[t])})}return e}({},t,{includes:Go.join(",")})))}},Vo=n("VjWl"),Ko=n("/ky4"),qo=n("6lzq"),Yo=n("/OR3"),Qo=n("KdqP"),Zo=n("BiE5"),Xo=Object(A.a)(),Jo=Xo.push,$o=Xo.replace,ea=function(e){return{type:Uo.gf,payload:{order:e}}},ta=O.f?Jr.g:Yo.f,na=function(e,t){return{type:Uo.Tb,payload:{orderId:e,orderType:t}}},ra=function(e,t,n){return e(Object(_.i)(function(){e(Object(Zo.b)(t,n,!0)).then(function(r){"paid"===r.status&&(e(Object(_.j)()),e(na(t,n)),e({type:Uo.Od}))})}))},oa=function(e){return function(t){return t({fetch:{types:[null,Uo.lb],from:"/orders/payments/".concat(e)}}).then(function(e){var n=e.purchaseOrderIds,r=e.pay;return"paid"===r.status&&n&&n.length&&n.forEach(function(e){return t(Object(Zo.b)(e,"purchase",!0))}),{purchaseOrderIds:n,pay:r}})}},aa=function(e,t,n){return e(Object(_.i)(function(){e(oa(t)).then(function(r){"paid"===r.pay.status&&(e(Object(_.j)()),e(na(t,n)),e({type:Uo.Od}))})}))},ia=function(e){return function(t){var n=e.id,r=e.way,o=e.param,a=e.orders,i=a[0].type,c=a.reduce(function(e,t){return e+t.price},0);switch(r){case"wx_mini_program":return Object(v.b)()?(aa(t,n,i),t(Object(_.d)(o))):t(Object(We.c)("PAYMENT_MINI_PROGRAM_MISMATCH"));case"wechat_qrcode":return O.m||O.f?t(Object(We.c)("PAYMENT_WECHAT_NATIVE_MISMATCH")):(aa(t,n,i),t(ea({id:n,type:i,price:c,pay:e})));case"wechat_app":case"wechat_app_android":case"wechat":return O.m||O.f?(t({type:Uo.Nd}),ta(o).then(function(){return t(oa(n))}).then(function(e){"paid"===e.pay.status?(t({type:Uo.Od}),a&&a.length>1?t(Object(Qo.c)(!0)):1===a.length&&t(Object(Zo.b)(a[0].id,i))):(t({type:Uo.Md}),t(Object(We.d)("PAYMENT_FAILURE")))},function(e){t({type:Uo.Md,error:e}),t(Object(We.d)("PAYMENT_FAILURE"))})):t(Object(We.c)("PAYMENT_WECHAT_MISMATCH"));default:return t(Object(We.c)("PAYMENT_UNSUPPORTED"))}}},ca=function(e,t){return{type:Uo.kf,payload:{bookId:e,cartBookId:t}}},la=function(){return{type:Uo.dc}},sa=function(e){return function(t){var n;t(la()),t(na(e,"finish")),t((n=e,{type:Uo.Nb,id:n})),t(Object(Ko.b)())}},ua=function(e,t){return e(Object(_.i)(function(){e(Object(qo.d)(t)).then(function(n){n.hasLocked&&(e(Object(_.j)()),e(sa(t)))})}))},fa=function(e,t,n,r){return function(o){if(Object(v.b)()&&"wx_mini_program"===t)return ua(o,e),o(Object(_.d)(n));if(!O.m&&"wechat_qrcode"===t){ua(o,e);var a={id:e,type:"finish",pay:{way:t,param:n},price:r};return o(la()),o(ea(a))}return(O.f?Jr.g:Yo.f)(n).then(function(){return o(Object(qo.d)(e))},function(t){var n;throw o((n=e,{type:Uo.Lb,id:n})),t}).then(function(t){if(!t.hasLocked)throw new Error("payment result pending");o(sa(e))}).catch(function(){o(Object(We.d)("PAYMENT_FAILURE"))})}},pa=n("MHfH"),da=n("c5cm"),ma=n("JB2W"),ya=n("1TtJ");function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ha(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ga=function(e){var t=e.bgColor,n=ha(e,["bgColor"]);return f.a.createElement("svg",ba({width:"30px",height:"38px",viewBox:"0 0 34 38",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),f.a.createElement("defs",null,f.a.createElement("polygon",{id:"path-1",points:"295 669 325 669 325 707 310 702.737305 295 707"})),f.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"iPhone-X-Copy",transform:"translate(-295.000000, -669.000000)"},f.a.createElement("g",{id:"Rectangle-2"},f.a.createElement("use",{fill:t||"#F28181",fillRule:"evenodd",xlinkHref:"#path-1"}),f.a.createElement("path",{stroke:"#FFFFFF",strokeWidth:"1.5",d:"M295.75,669.75 L295.75,706.007169 L310,701.957608 L324.25,706.007169 L324.25,669.75 L295.75,669.75 Z"})),f.a.createElement("polygon",{id:"Path-2",fill:"#E6E6E6",points:"325 669 325.002056 674 329 674"}))))},va=function(e){var t=e.discount,n=e.iconProps;return f.a.createElement("div",{className:"jsx-47255333 discount-icon"},f.a.createElement("div",{className:"jsx-47255333 desc"},f.a.createElement("span",{className:"jsx-47255333 num"},t),f.a.createElement("span",{className:"jsx-47255333 text"},"折")),f.a.createElement(ga,n),f.a.createElement(P.a,{id:"47255333"},[".discount-icon.jsx-47255333{position:absolute;right:10%;top:-7px;}",".discount-icon.jsx-47255333 .desc.jsx-47255333{position:absolute;margin-left:5px;padding-top:2px;color:#fff;text-align:center;}",".discount-icon.jsx-47255333 .num.jsx-47255333{-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;font-size:13px;}",".discount-icon.jsx-47255333 .text.jsx-47255333{display:block;font-size:7px;margin-top:-3px;}"]))};function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ka={boxShadow:"none"},_a=function(e){return f.a.createElement(u.Fragment,null,"余额支付 ",f.a.createElement(Mo.a,{n:e}))},Sa=function(e){return f.a.createElement(u.Fragment,null,"微信支付 ",f.a.createElement(Mo.a,{n:e}))},Ca=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Oa(t).call(this,e))||"object"!==xa(o)&&"function"!=typeof o?Ea(r):o).state={showBalanceConfirmModal:!1},n.openBalanceConfirmModal=n.openBalanceConfirmModal.bind(Ea(n)),n.closeBalanceConfirmModal=n.closeBalanceConfirmModal.bind(Ea(n)),n.confirmBalancePay=n.confirmBalancePay.bind(Ea(n)),n.handleBalanceClick=n.handleBalanceClick.bind(Ea(n)),n.handleWechatClick=n.handleWechatClick.bind(Ea(n)),n.actions=[{label:"取消",onClick:n.closeBalanceConfirmModal},{label:"支付",onClick:n.confirmBalancePay,primary:!0}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"openBalanceConfirmModal",value:function(){this.setState({showBalanceConfirmModal:!0})}},{key:"closeBalanceConfirmModal",value:function(){this.setState({showBalanceConfirmModal:!1})}},{key:"confirmBalancePay",value:function(){this.closeBalanceConfirmModal(),this.props.onBalanceClick()}},{key:"handleBalanceClick",value:function(){var e=this.props,t=e.balancePrice,n=e.beforePayment,r=void 0===n?ya.a:n,o=e.onBalanceClick;r("balance")&&(0===t?o():this.openBalanceConfirmModal())}},{key:"handleWechatClick",value:function(){var e=this.props,t=e.beforePayment,n=void 0===t?ya.a:t,r=e.onWechatClick;n("wechat")&&r()}},{key:"renderBalanceConfirmModal",value:function(){return f.a.createElement(ie.a,{onClose:this.closeBalanceConfirmModal,actions:this.actions},f.a.createElement("p",{className:"jsx-1761285441 hint"},"确定使用余额支付"),f.a.createElement(P.a,{id:"1761285441"},[".hint.jsx-1761285441{padding:36px 24px 32px;font-size:16px;font-weight:300;line-height:1.5;text-align:center;}"]))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.balanceDisabled,r=e.balancePrice,o=e.balanceAvailable,a=e.showBalanceDiscount,i=e.balanceDiscount,c=e.wechatDisabled,l=e.wechatPrice,s=e.balanceRenderer,u=void 0===s?_a:s,p=e.wechatRenderer,d=void 0===p?Sa:p,m=e.hideWechat,y=this.state.showBalanceConfirmModal;return f.a.createElement("div",{style:t,className:"jsx-2260267138 root"},f.a.createElement("div",{className:"jsx-2260267138 balance-btn"},f.a.createElement(D.a,{block:!0,emphasis:!0,style:ka,disabled:n,weaken:!o,onClick:this.handleBalanceClick},u(r)),a&&f.a.createElement(va,{discount:i,iconProps:{bgColor:o&&!n?null:"#F6D4D4"}})),!m&&f.a.createElement("div",{className:"jsx-2260267138 wechat-btn"},f.a.createElement(D.a,{block:!0,primary:!0,style:ka,disabled:c,onClick:this.handleWechatClick},d(l))),y&&this.renderBalanceConfirmModal(),f.a.createElement(P.a,{id:"2260267138"},[".root.jsx-2260267138{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".balance-btn.jsx-2260267138{position:relative;}",".wechat-btn.jsx-2260267138{position:relative;margin-top:16px;}"]))}}])&&wa(n.prototype,r),o&&wa(n,o),t}();function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var La=Object(A.a)().push,Aa={reserve:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=r(),a=Object(F.i)(o,e).book.preLockPrice;n({fetch:{from:"post /user/cart/".concat(e,"/pre-lock"),types:[Uo.se,Uo.te,Uo.re],body:t}}).then(function(){n(Object(qo.c)(!0)),n(Object(qo.d)(e)),n(la()),n(Object(Te.m)(-a)),n(Object(Ko.b)())})}},finishPayment:function(e,t){return function(n,r){var o=r(),a=Object(F.i)(o,e),i=a.preLockPrice,c=Object(Do.e)(a)-i;"wechat"===t.payWay&&(t.payWay=Object(k.a)()),n({fetch:{from:"post /user/cart/".concat(e,"/pre-lock/finish"),body:t,types:[Uo.Jb,Uo.Kb,Uo.Ib]}}).then(function(r){"dzy"===t.payWay&&(n(Object(qo.d)(e)),n(la(a.book.id)),n(Object(Te.m)(-c)),n(Object(Ko.b)()));var o=r.pay,i=r.status,l=r.price,s=r.preLockPrice,u=void 0===s?0:s;if("paid"!==i){var f,p=o.way,d=o.param,m=Math.max(l-u,0);n((f=e,{type:Uo.Mb,id:f})),n(fa(e,p,d,m))}else n(sa(e))})}},cancelReserve:function(e){return function(t,n){var r=n(),o=Object(F.i)(r,e).preLockPrice;t({fetch:{from:"delete /user/cart/".concat(e,"/pre-lock"),types:[Uo.X,Uo.Y,Uo.W]}}).then(function(){t(Object(qo.c)(!0)),t(Object(qo.d)(e)),t(la()),t(Object(Te.m)(o)),t(Object(Ko.b)())})}},closeReserveAlert:We.a},Fa={margin:"20px 0 24px",fontSize:13,fontWeight:"normal",lineHeight:1.46,textAlign:"center",cursor:"pointer"},Ba=function(e){return e?f.a.createElement(u.Fragment,null,"余额支付 ",f.a.createElement(Mo.a,{sign:!0,n:e})," 预定"):f.a.createElement(u.Fragment,null,"暂无价格信息，不能预定")},Da=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ta(t).call(this,e))||"object"!==Pa(o)&&"function"!=typeof o?Na(r):o).state={showCancelModal:!1},n.handleWechatPay=n.handleWechatPay.bind(Na(n)),n.handleBalancePay=n.handleBalancePay.bind(Na(n)),n.cancelReserve=n.cancelReserve.bind(Na(n)),n.toggleCancelModal=n.toggleCancelModal.bind(Na(n)),n.handleCompleteReserve=n.handleCompleteReserve.bind(Na(n)),n.cancelActions=[{label:"返回",onClick:n.toggleCancelModal},{label:"取消预定",primary:!0,onClick:n.cancelReserve}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"cancelReserve",value:function(){var e=this.props,t=e.cartBookId,n=e.hasPreLocked,r=e.cancelReserve;n&&r(t)}},{key:"handleBalancePay",value:function(){var e=this.props,t=e.cartBookId,n=e.hasPreLocked,r=e.reserve;n?this.doPayment("dzy"):r(t)}},{key:"handleWechatPay",value:function(){this.props.hasPreLocked&&this.doPayment("wechat")}},{key:"handleCompleteReserve",value:function(){this.doPayment("dzy")}},{key:"doPayment",value:function(e){var t=this.props,n=t.cartBookId;(0,t.finishPayment)(n,{payWay:e})}},{key:"toggleCancelModal",value:function(){this.setState({showCancelModal:!this.state.showCancelModal})}},{key:"renderCancelModal",value:function(){return this.state.showCancelModal?f.a.createElement(ie.a,{onClose:this.toggleCancelModal,actions:this.cancelActions},f.a.createElement("div",{className:"jsx-2065651559 tips"},"取消预定后，定金会退回账户余额"),f.a.createElement(P.a,{id:"2065651559"},[".tips.jsx-2065651559{padding:49px 23px 43px;font-size:16px;font-weight:300;line-height:1.5;text-align:center;}"])):null}},{key:"renderReserveError",value:function(){var e,t=this.props,n=t.alertState,r=t.closeReserveAlert,o=(n||{}).type;return"PRE_LOCK_MAXIMAL_LIMIT"===o&&(e="已达到同时可预定本数的上限。如果想预定这本书，要先取消一本已经预定的。"),"RESERVE_BOOK_HAS_STOCK"===o&&(e="这本书现在有货了，可以直接添加到购物车"),e?f.a.createElement(ie.a,{onClose:r},f.a.createElement("div",{className:"jsx-1150834247 tips"},e),f.a.createElement(P.a,{id:"1150834247"},[".tips.jsx-1150834247{padding:45px 23px;font-size:16px;font-weight:300;line-height:1.5;text-align:left;}"])):null}},{key:"render",value:function(){var e,t=this.props,n=t.stock,r=t.hasPreLocked,o=t.price,a=t.preLockPrice,i=void 0===a?0:a,c=t.isLoading,l=t.balanceAvailable,s=t.preLockExpiredTime,u=t.keepReserveOpen;r||(e=Ba);var p=r&&n,d=r&&!n,m=o-i,y=r?m:i,b=m>0,h=!r||p&&b,g=Object(me.g)(1e3*s),v=p?"请在".concat(g," 前付尾款，过期将自动取消"):"预定功能 & 得券方式说明";return f.a.createElement("div",{className:P.a.dynamic([["2141215270",[L.a.confusingGray,L.a.lighterFont]]])+" reserve-actions"},this.renderReserveError(),this.renderCancelModal(),f.a.createElement(ma.a,{withArrow:!0,colored:!0,style:Fa,onClick:function(e){e.preventDefault(),u(),La("/support/reserve")}},v),h&&f.a.createElement(Ca,{hideWechat:!n,balanceDisabled:c||0===i,balancePrice:y,balanceAvailable:l,onBalanceClick:this.handleBalancePay,wechatDisabled:c,wechatPrice:y,onWechatClick:this.handleWechatPay,balanceRenderer:e}),p&&!b&&f.a.createElement(D.a,{round:!0,block:!0,normal:!0,primary:!0,mega:!0,onClick:this.handleCompleteReserve},"完成预定"),d&&f.a.createElement(D.a,{round:!0,block:!0,normal:!0,emphasis:!0,mega:!0,onClick:this.toggleCancelModal},"取消预定，退回定金"),p&&f.a.createElement("div",{onClick:this.toggleCancelModal,className:P.a.dynamic([["2141215270",[L.a.confusingGray,L.a.lighterFont]]])+" cancel-reserve"},"不想买了，放弃它"),f.a.createElement(P.a,{id:"2141215270",dynamic:[L.a.confusingGray,L.a.lighterFont]},[".reserve-actions.__jsx-style-dynamic-selector{border-top:0.5px solid ".concat(L.a.confusingGray,";}"),".cancel-reserve.__jsx-style-dynamic-selector{margin:20px 0;font-size:13px;font-weight:normal;line-height:1.38;text-align:center;color:".concat(L.a.lighterFont,";}")]))}}])&&Ia(n.prototype,r),o&&Ia(n,o),t}(),Ma=Object(a.b)(function(e,t){var n=t.bookId,r=t.cartBookId,o=e.account,a=e.entities,i=e.bookReserve,c=i.requestStatus,l=i.finishPaymentRequestStatus,s=Object(B.b)(o),u=Object(Pe.c)(a,n),f=u.title,p=u.stock,d=r?Object(F.i)(e,r):{},m=(Object(Do.m)(u,d)||{}).price,y=d.preLockExpiredTime,b=d&&d.hasPreLocked,h=b?d.preLockPrice:u.preLockPrice;return{bookId:n,title:f,price:m,stock:p,cartBookId:r,hasPreLocked:b,preLockPrice:h,balanceAvailable:s>=(b?m-h:h),preLockExpiredTime:y,isLoading:[c,l].includes("loading"),alertState:Object(da.b)(e.tips)}},Aa)(Da),Ua=n("YrCV"),za=function(e){var t=e.goods,n=void 0===t?[]:t,r=e.large,o=void 0!==r&&r,a=e.hideUsed,i=e.price,c=e.originalPrice,l=e.cartBook,s=Object(Do.k)(n,l),u=Object(Do.b)(n,i,c,l),p=s&&"new"===s.condition,d=a&&!p?"":f.a.createElement("span",{className:"jsx-1419582445 condition"},Object(Do.f)(n,l),f.a.createElement(P.a,{id:"1419582445"},[".condition.jsx-1419582445{margin-right:3px;}"]));return d||u?f.a.createElement(Ua.a,{large:o,emphasis:!p},d,u):null},Ga=n("Kj9r");function Ha(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Wa={marks:"有划线或标注",lightly_dirty:"污渍",lightly_mildew:"污渍",lightly_breakage:"磨损或破损",lightly_scratched:"磨损或破损",lightly_folded:"折痕",lightly_deform:"变形",aging:"泛黄或褪色",cover_lost:"可拆卸外封套缺失",attachment_lost:"缺失附件",quality_issues:"印刷问题","non-removable_labels":"附着胶带或标签"},Va=["lightly_dirty","lightly_mildew","lightly_breakage","lightly_scratched","lightly_folded","lightly_deform"],Ka=function(e){var t=e.condition,n=void 0===t?"":t,r=e.flawReasons,o=void 0===r?[]:r,a=e.traitDesc,i=void 0===a?"":a,c=e.displayDetail,l=void 0===c||c,s=e.normal,u=e.emphasis,p=e.binary,d=e.shortFine,m=e.larger,y=e.large,b=function(e,t){var n=e.filter(function(e){return Va.includes(e)}).map(function(e){return Wa[e]}),r=Ha(new Set(n)).join("、"),o=e.filter(function(e){return!Va.includes(e)}).map(function(e){return"".concat(Wa[e]).concat(function(e,t){return"attachment_lost"===e&&t?"（".concat(t,"）"):""}(e,t))});return(""!==r?[].concat(Ha(o),["轻度".concat(r)]):o).join("、")}(o,i),h=s||u?"":n,g="";return"new"===n?g="全新品":"fine"===n?g=d?"良好":"品相良好":"free"===n&&(g="free"),f.a.createElement("span",{className:P.a.dynamic([["1949745507",[L.a.lightFont,L.a.lightFont,L.a.golden,L.a.emphasis,L.a.lightFont]]])+" "+(N()("book-quality",h,{normal:s,emphasis:u,binary:p,larger:m,large:y})||"")},g,l&&b&&f.a.createElement("span",{className:P.a.dynamic([["1949745507",[L.a.lightFont,L.a.lightFont,L.a.golden,L.a.emphasis,L.a.lightFont]]])+" flaw-reason"},b),f.a.createElement(P.a,{id:"1949745507",dynamic:[L.a.lightFont,L.a.lightFont,L.a.golden,L.a.emphasis,L.a.lightFont]},[".book-quality.__jsx-style-dynamic-selector{font-size:12px;}",".larger.__jsx-style-dynamic-selector{line-height:1.31;font-size:13px;}",".large.__jsx-style-dynamic-selector{font-size:15px;}",".normal.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";}"),".fine.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";}"),".new.__jsx-style-dynamic-selector{color:".concat(L.a.golden,";}"),".medium.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}"),".medium.binary.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";}"),".used.__jsx-style-dynamic-selector{margin-right:6px;}",".flaw-reason.__jsx-style-dynamic-selector{line-height:1.17;}"]))},qa=function(e){var t=e.basic,n=e.expectedPutawayDays,r=e.latestPutawayTime,o=e.expectedStyle,a=e.latestStyle;return n?f.a.createElement(fe.a,{style:o},"预计 ".concat(n," 天到货")):r?f.a.createElement(fe.a,{style:a},"上次到货 ",f.a.createElement(be,{relative:!0,value:r})):t?"":f.a.createElement(fe.a,null,"这本书没收到过，到货时间不确定")};function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $a={loadBookExtraInfo:Wo},ei={lineHeight:1.13},ti=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Za(this,Xa(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadBookExtraInfo)(e.bookId)}},{key:"render",value:function(){var e,t,n=this.props,r=n.images,o=n.title,a=n.price,i=n.originalPrice,c=n.goods,l=n.stock,s=n.hasPreLocked,u=n.condition,p=n.flawFlag,d=n.flawReasons,m=n.latestPutawayTime,y=n.expectedPutawayDays,b=n.cartBook,h=n.preLockCount,g=void 0===h?0:h,v=n.preLockRank,x=f.a.createElement(qa,{expectedPutawayDays:y,latestPutawayTime:m});return s?s&&!l?(e=x,t="已有 ".concat(g," 人预定，你排第 ").concat(v," 位")):(e=f.a.createElement(Ka,{larger:!0,condition:u,flawFlag:p,flawReasons:d}),t=f.a.createElement("div",{className:"jsx-2861086405 book-price"},f.a.createElement(Mo.a,{sign:!0,medium:!0,bold:!0,n:a,style:ei}),f.a.createElement("div",{className:"jsx-2861086405 discount-wrap"},f.a.createElement(za,{hideUsed:!0,goods:c,price:a,originalPrice:i,cartBook:b})),f.a.createElement(P.a,{id:"2861086405"},[".book-price.jsx-2861086405{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".discount-wrap.jsx-2861086405{margin-left:4px;}"]))):(e=x,t=g>0?"已有 ".concat(g," 人预定"):"还没有人预定"),f.a.createElement("div",{className:"jsx-1253563489 reserve-book-item"},f.a.createElement(Ga.a,{fixHeight:!0,little:!0,inStock:!0,images:r}),f.a.createElement("div",{className:"jsx-1253563489 book-info"},f.a.createElement("div",{className:"jsx-1253563489 book-title"},o),f.a.createElement("div",{className:"jsx-1253563489 book-meta"},e),f.a.createElement("div",{className:"jsx-1253563489 book-footer"},t)),f.a.createElement(P.a,{id:"1253563489"},[".reserve-book-item.jsx-1253563489{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-bottom:21px;}",".book-info.jsx-1253563489{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 30px 0 12px;}",".book-title.jsx-1253563489{font-size:18px;font-weight:500;line-height:1.22;}",".book-meta.jsx-1253563489{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-top:6px;font-size:13px;font-weight:300;line-height:1.46;}",".book-footer.jsx-1253563489{font-size:13px;font-weight:300;line-height:1.46;}"]))}}])&&Qa(n.prototype,r),o&&Qa(n,o),t}(),ni=Object(a.b)(function(e,t){var n=t.bookId,r=t.cartBookId,o=Object(Pe.c)(e.entities,n),a=o.images,i=o.title,c=o.originalPrice,l=o.goods,s=o.latestPutawayTime,u=o.expectedPutawayDays,f=o.preLockPrice,p=o.preLockCount,d=Object(F.i)(e,r)||{},m=d.hasPreLocked,y=d.preLockPrice,b=d.preLockRank,h=Object(Do.p)(o,d),g=Object(Do.m)(o,d)||{};return{images:a,title:i,price:g.price,originalPrice:c,goods:l,stock:h,hasPreLocked:m,latestPutawayTime:s,expectedPutawayDays:u,preLockPrice:m?y:f,preLockCount:p,preLockRank:b,condition:g.condition,flawFlag:g.flawFlag,flawReasons:g.flawReasons,cartBook:d}},$a)(ti),ri=function(e){var t=e.negative,n=e.emphasis,r=e.golden,o=e.primary,a=e.disabled,i=e.name,c=e.value,l=e.icon,s=e.navIcon,p="number"==typeof c?f.a.createElement(u.Fragment,null,t&&0!==c&&"-",f.a.createElement(Mo.a,{n:c})):c;return f.a.createElement("div",{className:P.a.dynamic([["3871955915",[L.a.emphasis,L.a.golden,L.a.primary,L.a.lighterFont]]])+" "+(N()("root",{emphasis:n})||"")},f.a.createElement("div",{className:P.a.dynamic([["3871955915",[L.a.emphasis,L.a.golden,L.a.primary,L.a.lighterFont]]])+" name"},f.a.createElement("span",{className:P.a.dynamic([["3871955915",[L.a.emphasis,L.a.golden,L.a.primary,L.a.lighterFont]]])+" name-text"},i),l),f.a.createElement("div",{className:P.a.dynamic([["3871955915",[L.a.emphasis,L.a.golden,L.a.primary,L.a.lighterFont]]])+" "+(N()("value",{golden:r,primary:o,disabled:a})||"")},p,s),f.a.createElement(P.a,{id:"3871955915",dynamic:[L.a.emphasis,L.a.golden,L.a.primary,L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:7.5px;}",".root.__jsx-style-dynamic-selector:first-child{margin-top:0;}",".emphasis.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}"),".golden.__jsx-style-dynamic-selector{color:".concat(L.a.golden,";}"),".primary.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".disabled.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}"),".name.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:1em;overflow:hidden;}",".name-text.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}",".value.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;font-weight:400;line-height:1;}"]))};function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var si=Object(A.a)().push,ui={fontSize:13,fontWeight:400,textAlign:"right",marginTop:"3px",cursor:"pointer"},fi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ii(this,ci(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.prelockCouponNum,n=e.hasPreLocked,r=e.preLockPrice,o=e.price,a=e.stock,i=e.keepReserveOpen,c=r||"暂无价格信息";return f.a.createElement("div",{className:P.a.dynamic([["1930561732",[L.a.confusingGray]]])+" reserve-info"},!n&&f.a.createElement("div",{className:P.a.dynamic([["1930561732",[L.a.confusingGray]]])+" section"},f.a.createElement(ri,{name:"使用预定券",value:"1 张"}),f.a.createElement(ma.a,{withArrow:!0,colored:!0,style:ui,onClick:function(e){e.preventDefault(),i(),si("/coupons")}},"你有 ".concat(t," 张预定券"))),f.a.createElement("div",{className:P.a.dynamic([["1930561732",[L.a.confusingGray]]])+" section"},f.a.createElement(ri,{name:n?"已付定金":"支付定金",value:c}),n&&a&&f.a.createElement(ri,{name:"需付尾款",value:o-r})),f.a.createElement(P.a,{id:"1930561732",dynamic:[L.a.confusingGray]},[".reserve-info.__jsx-style-dynamic-selector{font-weight:normal;}",".section.__jsx-style-dynamic-selector{padding:15px 0;border-top:0.5px solid ".concat(L.a.confusingGray,";}")]))}}])&&ai(n.prototype,r),o&&ai(n,o),t}(),pi=Object(a.b)(function(e,t){var n=t.cartBookId,r=e.settings.prelockCouponNum,o=Object(F.i)(e,n),a=o.preLockPrice,i=o.book,c=o.hasPreLocked,l=i.stock,s=i.preLockPrice;return{prelockCouponNum:r,hasPreLocked:c,preLockPrice:c?a:s,price:(Object(Do.m)(i,o)||{}).price,stock:l}})(fi),di=n("XhtD"),mi=n("YTEZ"),yi=function(){return f.a.createElement("div",{className:P.a.dynamic([["795956772",[L.a.confusingGray]]])},Object(di.a)(1,10).map(function(e){return f.a.createElement("div",{key:e,style:{height:5===e?"10px":"5px",left:"".concat(10*e,"%")},className:P.a.dynamic([["795956772",[L.a.confusingGray]]])+" divider"})}),f.a.createElement(P.a,{id:"795956772",dynamic:[L.a.confusingGray]},[".divider.__jsx-style-dynamic-selector{position:absolute;bottom:0;width:1px;background-color:".concat(L.a.confusingGray,";border-radius:10px;z-index:10;}")]))},bi=function(e){var t=e.rate,n=void 0===t?0:t,r=e.initRate,o=void 0===r?.5:r,a=e.expectedRate,i=void 0===a?0:a,c=e.height,l=void 0===c?16:c,s=e.width,u=e.showDivider,p=void 0!==u&&u,d=e.barStyle,m=void 0===d?{}:d,y=n||o,b=i>0,h=y+i;return f.a.createElement("div",{style:m,className:P.a.dynamic([["1625546306",[s||"100%",l,L.a.confusingGray,l,y,L.a.primary,h,Object(mi.a)(L.a.primary,.2),Object(mi.a)(L.a.gray,.6)]]])+" bar"},p&&f.a.createElement(yi,null),f.a.createElement("div",{className:P.a.dynamic([["1625546306",[s||"100%",l,L.a.confusingGray,l,y,L.a.primary,h,Object(mi.a)(L.a.primary,.2),Object(mi.a)(L.a.gray,.6)]]])+" progress"}),b&&f.a.createElement("div",{className:P.a.dynamic([["1625546306",[s||"100%",l,L.a.confusingGray,l,y,L.a.primary,h,Object(mi.a)(L.a.primary,.2),Object(mi.a)(L.a.gray,.6)]]])+" expected-progress"}),f.a.createElement("div",{className:P.a.dynamic([["1625546306",[s||"100%",l,L.a.confusingGray,l,y,L.a.primary,h,Object(mi.a)(L.a.primary,.2),Object(mi.a)(L.a.gray,.6)]]])+" base"}),f.a.createElement(P.a,{id:"1625546306",dynamic:[s||"100%",l,L.a.confusingGray,l,y,L.a.primary,h,Object(mi.a)(L.a.primary,.2),Object(mi.a)(L.a.gray,.6)]},[".bar.__jsx-style-dynamic-selector{position:relative;width:".concat(s||"100%",";height:").concat(l,"px;border:1px solid ").concat(L.a.confusingGray,";border-radius:99px;overflow:hidden;}"),".progress.__jsx-style-dynamic-selector,.expected-progress.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;height:".concat(l,"px;}"),".progress.__jsx-style-dynamic-selector{width:".concat(y,"%;background-color:").concat(L.a.primary,";z-index:1;}"),".expected-progress.__jsx-style-dynamic-selector{width:".concat(h,"%;background-color:").concat(Object(mi.a)(L.a.primary,.2),";}"),".base.__jsx-style-dynamic-selector{width:100%;height:100%;background-color:".concat(Object(mi.a)(L.a.gray,.6),";}")]))};function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t){return!t||"object"!==hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oi=function(e){return"https://asset.duozhuayu.com/reserve/".concat(e,".png")},Ei=function(e,t){return Oi(e<85?t:"".concat(t,"_final"))},ji=function(e){return e<=5?"-4%":e<80?"".concat(e-10,"%"):"70%"},ki=function(e){return e<=5?"-4%":e<85?"".concat(e-6,"%"):"79%"},_i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vi(this,xi(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.rate;return f.a.createElement("div",{className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])+" wrapper"},f.a.createElement("div",{className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])+" feature"},f.a.createElement("img",{alt:"fish",src:Ei(e,"fish"),className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])+" fish"}),f.a.createElement("img",{alt:"cat",src:Ei(e,"cat"),className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])+" cat"})),f.a.createElement(bi,{showDivider:!0,rate:e}),f.a.createElement("div",{className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])+" mark"},f.a.createElement("img",{alt:"start",src:Oi("start"),className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])}),f.a.createElement("img",{alt:"end",src:Oi("wow"),className:P.a.dynamic([["3725208465",[L.a.confusingGray,ji(e),ki(e)]]])})),f.a.createElement(P.a,{id:"3725208465",dynamic:[L.a.confusingGray,ji(e),ki(e)]},[".wrapper.__jsx-style-dynamic-selector{border-top:0.5px solid ".concat(L.a.confusingGray,";padding:0 3vw 3vh;}"),".feature.__jsx-style-dynamic-selector{position:relative;height:110px;max-height:15vh;}",".cat.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:".concat(ji(e),";height:70%;}"),".fish.__jsx-style-dynamic-selector{position:absolute;right:-2%;height:55%;}","@media (min-width:450px){.wrapper.__jsx-style-dynamic-selector{padding:0 25px 20px;}.feature.__jsx-style-dynamic-selector{height:115px;max-height:115px;}.cat.__jsx-style-dynamic-selector{left:".concat(ki(e),";}}"),".mark.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:5px 3px;height:2.5vh;}",".mark.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{height:100%;}"]))}}])&&gi(n.prototype,r),o&&gi(n,o),t}(),Si=Object(a.b)(function(e){return{rate:100*e.settings.prelockCouponRate}})(_i);function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ii(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ri=Object(A.a)().push,Li={margin:"10px 0 20px",fontSize:13,fontWeight:"normal",cursor:"pointer"},Ai=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ii(this,Ti(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.keepReserveOpen;return f.a.createElement("div",{className:"jsx-2005386980"},f.a.createElement("h2",{className:"jsx-2005386980 title"},"预定这本书需要使用「预定券」"),f.a.createElement("p",{className:"jsx-2005386980 tip"},"你目前没有可用的预定券，卖书可使猫前进，到达终点得预定券。"),f.a.createElement(ma.a,{withArrow:!0,colored:!0,style:Li,onClick:function(t){t.preventDefault(),e(),Ri("/support/reserve")}},"预定功能 & 得券方式说明"),f.a.createElement(Si,null),f.a.createElement(D.a,{round:!0,block:!0,normal:!0,primary:!0,mega:!0,onClick:function(e){e.preventDefault(),Ri("/sell")}},"去卖书"),f.a.createElement(P.a,{id:"2005386980"},[".title.jsx-2005386980{font-size:18px;font-weight:normal;margin:0 25px 3px 0;}",".tip.jsx-2005386980{font-size:14px;font-weight:normal;}"]))}}])&&Pi(n.prototype,r),o&&Pi(n,o),t}();function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zi={hideActionSheet:la},Gi=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Di(t).call(this,e))||"object"!==Fi(o)&&"function"!=typeof o?Mi(r):o).keepOpen=!1,n.keepReserveOpen=n.keepReserveOpen.bind(Mi(n)),n.closeActionSheet=n.closeActionSheet.bind(Mi(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.keepOpen||this.closeActionSheet()}},{key:"closeActionSheet",value:function(){this.props.hideActionSheet()}},{key:"keepReserveOpen",value:function(){this.keepOpen=!0}},{key:"render",value:function(){var e=this.props,t=e.currentBookId,n=e.currentCartBookId,r=e.showReserveGuide;return t?f.a.createElement(pa.a,{onClose:this.closeActionSheet},r?f.a.createElement(Ai,{keepReserveOpen:this.keepReserveOpen}):f.a.createElement(u.Fragment,null,f.a.createElement(ni,{bookId:t,cartBookId:n}),f.a.createElement(pi,{bookId:t,cartBookId:n,keepReserveOpen:this.keepReserveOpen}),f.a.createElement(Ma,{bookId:t,cartBookId:n,keepReserveOpen:this.keepReserveOpen}))):null}}])&&Bi(n.prototype,r),o&&Bi(n,o),t}(),Hi=Object(a.b)(function(e){var t=e.bookReserve,n=t.currentBookId,r=t.currentCartBookId,o=e.settings.prelockCouponNum,a=Object(F.i)(e,r);return{currentBookId:n,currentCartBookId:r,showReserveGuide:!(a&&a.hasPreLocked||o)}},zi)(Gi);function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zi={activeClass:"selected"},Xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qi(e,t,n[t])})}return e}({},Zi,t).activeClass;return function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Ki(this,qi(r).apply(this,arguments))}var o,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(r,u.PureComponent),o=r,(a=[{key:"componentDidMount",value:function(){this.scrollActiveRowToView()}},{key:"componentDidUpdate",value:function(){this.scrollActiveRowToView()}},{key:"scrollActiveRowToView",value:function(){var e=Object(p.findDOMNode)(this),t=e.querySelector(".".concat(n));t&&Object(w.e)(e,t)}},{key:"render",value:function(){return f.a.createElement(e,this.props)}}])&&Vi(o.prototype,a),i&&Vi(o,i),r}()};function Ji(){return(Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $i=function(e){return f.a.createElement("svg",Ji({xmlns:"http://www.w3.org/2000/svg",width:"35",height:"13",viewBox:"0 0 35 13"},e),f.a.createElement("g",{fillRule:"evenodd"},f.a.createElement("path",{d:"M7.04639684.292157895C6.47371263.183778947 5.93797579.129589474 5.28729158.129589474 2.69728105.129589474 1.51291263 1.13004211 1.51291263 3.46511579L1.51291263 3.64041053C1.51291263 3.64041053.374933684 3.56076842.328954737 3.64041053.0547231579 4.11990526.139291579 6.27393684.328954737 6.27393684L1.51291263 6.27393684 1.51291263 11.9244211C1.51291263 12.0705684 1.63278632 12.1900316 1.77893368 12.1900316L4.60951263 12.1900316C4.74868105 12.1900316 4.86157579 12.0775474 4.86157579 11.9379684L4.86157579 6.48658947C4.86157579 6.36917895 4.95681789 6.27393684 5.07422842 6.27393684L6.69498632 6.27393684C6.86740737 6.27393684 7.00780737 6.13353684 7.00780737 5.96111579L7.00780737 3.96554737C7.00780737 3.78696842 6.86124947 3.64041053 6.68267053 3.64041053L4.86157579 3.64041053 4.86157579 3.50001053C4.86157579 2.90310526 5.08367053 2.49955789 5.93469158 2.49955789 5.93469158 2.49955789 6.82389158 2.51721053 7.06363895 2.51721053 7.32555474 2.51721053 7.31118632 1.14030526 7.29435474.576652632 7.28983895.435431579 7.18556526.318431579 7.04639684.292157895M12.0647116 5.29101368L12.0647116 3.93135053C12.0647116 3.77083474 11.9345747 3.64028737 11.7740589 3.64028737L9.17789053 3.64028737C9.01737474 3.64028737 8.88682737 3.77083474 8.88682737 3.93135053L8.88682737 11.7949821C8.88682737 12.0133821 9.06417474 12.1903189 9.28257474 12.1903189L11.6689642 12.1903189C11.8873642 12.1903189 12.0647116 12.0133821 12.0647116 11.7949821L12.0647116 8.22299263C12.3980589 7.01111895 13.1004695 6.74797158 14.1362274 6.74797158 14.43468 6.74797158 14.7158905 6.74797158 15.1370905 6.78327684L15.3476905 3.55325579C14.8735326 3.50029789 14.5927326 3.50029789 14.29428 3.50029789 13.3463747 3.50029789 12.6969221 4.04465579 12.0647116 5.29101368M19.6791126 7.08144211C19.8195126 6.11588421 20.2936705 5.65937895 21.0133232 5.65937895 21.8208284 5.65937895 22.2596811 6.15118947 22.2949863 7.08144211L19.6791126 7.08144211zM21.0133232 3.48235789C18.2570495 3.48235789 16.6243863 5.06288421 16.6243863 7.97721053 16.6243863 10.8381684 18.3100074 12.3480842 21.0133232 12.3480842 22.3623126 12.3480842 23.5007021 12.0020105 24.7487021 11.1846526 24.9203021 11.0725789 24.9827021 10.8406316 24.8915653 10.6567158L24.3287337 9.51996842C24.23226 9.32496842 23.9945653 9.24696842 23.7950495 9.334 22.8898389 9.72892632 22.1800389 9.90832632 21.1537232 9.90832632 20.2936705 9.90832632 19.8544074 9.57456842 19.6967653 8.76665263L24.98106 8.76665263C25.0336074 8.27525263 25.0508495 7.97721053 25.0508495 7.59049474 25.0508495 4.93972632 23.4887968 3.48235789 21.0133232 3.48235789zM29.2657232 7.08144211C29.4061232 6.11588421 29.8802811 5.65937895 30.5999337 5.65937895 31.4074389 5.65937895 31.8462916 6.15118947 31.8815968 7.08144211L29.2657232 7.08144211zM30.5999337 3.48235789C27.84366 3.48235789 26.2109968 5.06288421 26.2109968 7.97721053 26.2109968 10.8381684 27.8962074 12.3480842 30.5999337 12.3480842 31.9489232 12.3480842 33.0873126 12.0020105 34.3353126 11.1846526 34.5069126 11.0725789 34.5693126 10.8406316 34.4781758 10.6567158L33.9153442 9.51996842C33.8188705 9.32496842 33.5811758 9.24696842 33.3812495 9.334 32.4760389 9.72892632 31.7666495 9.90832632 30.7403337 9.90832632 29.8802811 9.90832632 29.4410179 9.57456842 29.2833758 8.76665263L34.5676705 8.76665263C34.6202179 8.27525263 34.6378705 7.97721053 34.6378705 7.59049474 34.6378705 4.93972632 33.0749968 3.48235789 30.5999337 3.48235789z"})))};function ec(){return(ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var nc={width:26,height:10},rc=function(e){var t=e.withLink,n=void 0!==t&&t,r=e.disabled,o=void 0!==r&&r,a=e.small,i=e.gray,c=e.className,l=tc(e,["withLink","disabled","small","gray","className"]),s=a?nc:null,u=f.a.createElement("div",ec({},l,{className:P.a.dynamic([["854650439",[L.a.primary,L.a.darkGray,L.a.confusingGray]]])+" "+(null!=l.className&&l.className||N()("free-label",c,{small:a,gray:i,disabled:o})||"")}),f.a.createElement($i,ec({fill:"#fff"},s)),f.a.createElement(P.a,{id:"854650439",dynamic:[L.a.primary,L.a.darkGray,L.a.confusingGray]},[".free-label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:52px;height:22px;border-radius:4px;background-color:".concat(L.a.primary,";}"),".free-label.small.__jsx-style-dynamic-selector{width:42px;height:18px;}",".free-label.gray.__jsx-style-dynamic-selector{background-color:".concat(L.a.darkGray,";}"),".free-label.disabled.__jsx-style-dynamic-selector{background-color:".concat(L.a.confusingGray,";}")]));return n?f.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(A.a)().push("/support/free")}},u):u},oc={top:0,right:0,position:"absolute"},ac=function(e){var t=e.price,n=e.condition,r=e.flawFlag,o=e.traitDesc,a=e.flawReasons,i=e.selected,c=e.selectGoods,l="free"===n;return f.a.createElement("div",{key:"".concat(n,":").concat(r),onClick:function(){return c(n,r,a)},className:P.a.dynamic([["3756533893",[L.a.gray,L.a.emphasis,L.a.lightFont]]])+" "+(N()("goods-row",{selected:i})||"")},!l&&f.a.createElement(Mo.a,{bold:!0,sign:!0,larger:!0,n:t}),l?f.a.createElement(u.Fragment,null,f.a.createElement("div",{className:P.a.dynamic([["3756533893",[L.a.gray,L.a.emphasis,L.a.lightFont]]])+" free-label-wrap"},f.a.createElement(rc,null),f.a.createElement(ae,{primary:!0,to:"/support/free",size:16,style:oc})),f.a.createElement("div",{className:P.a.dynamic([["3756533893",[L.a.gray,L.a.emphasis,L.a.lightFont]]])+" free-hint"},"服务费：每本 3 元")):f.a.createElement("span",{className:P.a.dynamic([["3756533893",[L.a.gray,L.a.emphasis,L.a.lightFont]]])+" quality-wrap"},f.a.createElement(Ka,{binary:!0,prefix:!0,larger:!0,condition:n,flawReasons:a,traitDesc:o})),f.a.createElement(P.a,{id:"3756533893",dynamic:[L.a.gray,L.a.emphasis,L.a.lightFont]},[".goods-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;height:72px;margin-bottom:12px;padding:0 13px 0 18px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:solid 1px ".concat(L.a.gray,";}"),".goods-row.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".goods-row.selected.__jsx-style-dynamic-selector{border-color:".concat(L.a.emphasis,";border-width:2px;padding:0 12px 0 17px;}"),".quality-wrap.__jsx-style-dynamic-selector{margin-left:7px;line-height:0;}",".free-label-wrap.__jsx-style-dynamic-selector{position:relative;}",".free-hint.__jsx-style-dynamic-selector{margin-left:8px;font-size:13px;font-weight:300;line-height:1.31;text-align:left;color:".concat(L.a.lightFont,";}")]))},ic=Xi(function(e){var t=e.goods,n=e.selectedCondition,r=e.selectedFlawFlag,o=e.selectGoods;return f.a.createElement("section",{className:"jsx-2735722242 goods-list"},t.map(function(e){var t=e.condition,a=e.flawFlag,i=e.flawReasons,c=e.price,l=e.traitDesc;return f.a.createElement(ac,{key:"".concat(t,"-").concat(a),price:c,condition:t,flawFlag:a,traitDesc:l,flawReasons:i,selected:t===n&&a===r,selectGoods:o})}),f.a.createElement(P.a,{id:"2735722242"},[".goods-list.jsx-2735722242{margin-top:16px;margin-bottom:12px;overflow:scroll;-webkit-overflow-scrolling:touch;}"]))});function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e,t){return(fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pc=Object(A.a)().push,dc={addToCart:qo.a,updateCartGoods:qo.m,selectGoods:Vo.c,closeBookSelect:Vo.a,loadBookGoods:Ho},mc={background:"#fff"},yc=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=sc(t).call(this,e))||"object"!==cc(o)&&"function"!=typeof o?uc(r):o).reserveState=!1,n.handleConfirm=n.handleConfirm.bind(uc(n)),n.toSupportPage=n.toSupportPage.bind(uc(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fc(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.book,n=e.refresh,r=e.loadBookGoods;t&&n&&r(t.id)}},{key:"componentDidUpdate",value:function(e){var t=this.props.book;!e.book&&t&&this.handleOpen()}},{key:"componentWillUnmount",value:function(){this.reserveState||this.props.closeBookSelect()}},{key:"autoSelectGoods",value:function(){var e=this.props,t=e.book,n=e.selectGoods,r=e.cartBook;if(!r||!Object(Do.q)(t,r)){var o=t.goods,a=(void 0===o?[]:o)[0];a&&n(a.condition,a.flawFlag,a.flawReasons)}}},{key:"getCurrentGoods",value:function(){var e=this.props,t=e.book,n=e.cartBook,r=e.selectedGoods,o=void 0===r?{}:r;return o&&o.condition?o:Object(Do.m)(t,n)}},{key:"handleOpen",value:function(){this.autoSelectGoods()}},{key:"toSupportPage",value:function(){this.reserveState=!0,pc("/support/quality")}},{key:"handleConfirm",value:function(){var e=this.props,t=e.cartBook,n=e.closeBookSelect;if(t){var r=this.getCurrentGoods();r.condition===t.condition&&r.flawFlag===t.flawFlag?n():this.props.updateCartGoods()}else this.props.addToCart()}},{key:"render",value:function(){var e=this.props,t=e.book,n=e.selectGoods,r=e.closeBookSelect,o=e.requestStatus,a=e.cartBook;if(!t)return null;var i=t.title,c=t.goods,l=this.getCurrentGoods()||{},s=l.condition,u=l.flawFlag,p=Object(Do.s)(c,a);return f.a.createElement(pa.a,{onClose:r,paddingStyle:mc},f.a.createElement("div",{className:P.a.dynamic([["346333748",[L.a.font,L.a.lighterFont,L.a.font]]])+" root"},f.a.createElement("header",{className:P.a.dynamic([["346333748",[L.a.font,L.a.lighterFont,L.a.font]]])},f.a.createElement("h2",{className:P.a.dynamic([["346333748",[L.a.font,L.a.lighterFont,L.a.font]]])+" book-name"},i),f.a.createElement("p",{className:P.a.dynamic([["346333748",[L.a.font,L.a.lighterFont,L.a.font]]])+" hint"},"多个品相的书可以购买",f.a.createElement("span",{onClick:this.toSupportPage,className:P.a.dynamic([["346333748",[L.a.font,L.a.lighterFont,L.a.font]]])+" link-wrap"},"不同品相有何区别？",f.a.createElement(qn.a,{stroke:L.a.lighterFont})))),f.a.createElement(ic,{goods:p,selectedCondition:s,selectedFlawFlag:u,selectGoods:n}),f.a.createElement(D.a,{large:!0,block:!0,normal:!0,emphasis:!0,disabled:"loading"===o,onClick:this.handleConfirm},"确定")),f.a.createElement(P.a,{id:"346333748",dynamic:[L.a.font,L.a.lighterFont,L.a.font]},[".root.__jsx-style-dynamic-selector{box-sizing:border-box;width:100%;}",".book-name.__jsx-style-dynamic-selector{margin-right:30px;font-size:18px;font-weight:500;color:".concat(L.a.font,";}"),".hint.__jsx-style-dynamic-selector{margin-top:2px;line-height:1.46;font-size:13px;color:".concat(L.a.lighterFont,";}"),".link-wrap.__jsx-style-dynamic-selector{margin-left:5px;font-size:13px;line-height:1.46;color:".concat(L.a.font,";}")]))}}])&&lc(n.prototype,r),o&&lc(n,o),t}(),bc=Object(a.b)(function(e){var t=e.bookSelect,n=e.entities,r=e.cart.requestStatus,o=t.selectOptions,a=o.bookId,i=o.refresh,c=t.selectedGoods;return{book:Object(Pe.c)(n,a),cartBook:Object(F.y)(e),requestStatus:r,selectedGoods:c,refresh:i}},dc)(yc),hc=n("BjCW"),gc=n("nn63");function vc(e){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(e,t){return!t||"object"!==vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ec(e,t){return(Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jc=function(e){0},kc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wc(this,Oc(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ec(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillMount",value:function(){jc(this.props.meta)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.bookId;t.meta;e.bookId!==n&&jc()}},{key:"render",value:function(){return null}}])&&xc(n.prototype,r),o&&xc(n,o),t}();function _c(){return(_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Cc=function(e){var t=e.flex,n=e.plain,r=e.bordered,o=e.innerRef,a=e.children,i=Sc(e,["flex","plain","bordered","innerRef","children"]);return f.a.createElement("div",_c({ref:o},i,{className:P.a.dynamic([["1221157317",[L.a.gray]]])+" "+(null!=i.className&&i.className||N()({flex:t,plain:n,bordered:r})||"")}),a,f.a.createElement(P.a,{id:"1221157317",dynamic:[L.a.gray]},[".__jsx-style-dynamic-selector{padding:0 15px;background:#fff;margin-bottom:15px;}",".flex.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".plain.__jsx-style-dynamic-selector{padding:0;margin:0 15px 0;padding-bottom:15px;}",".bordered.__jsx-style-dynamic-selector{padding-top:15px;border-top:0.5px solid ".concat(L.a.gray,";}"),".bordered.__jsx-style-dynamic-selector:first-child{padding-top:0;border-top:none;}"]))},Pc=function(){return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16"},f.a.createElement("path",{fill:"none",stroke:"#D6BA8C",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.535 5.9V3.1c0-1.16-.955-2.1-2.133-2.1L5.556 7.3V15h8.024c.71.008 1.316-.5 1.422-1.19l.982-6.3a1.385 1.385 0 0 0-.333-1.129 1.433 1.433 0 0 0-1.09-.481h-4.026zM5.556 15H3.423A1.411 1.411 0 0 1 2 13.6V8.7c0-.773.637-1.4 1.423-1.4h2.133V15z"}))};function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return!t||"object"!==Ic(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lc(e,t){return(Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ac=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nc(this,Rc(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lc(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=e.text;return f.a.createElement(Cc,{bordered:!0,plain:!0},f.a.createElement(ma.a,{to:t},f.a.createElement(At.a,{row:!0,alignCenter:!0},f.a.createElement(Pc,{width:15,height:15}),f.a.createElement("span",{className:P.a.dynamic([["3520147057",[L.a.golden]]])+" intro"},n),f.a.createElement(qn.a,{stroke:L.a.darkGray}))),f.a.createElement(P.a,{id:"3520147057",dynamic:[L.a.golden]},[".intro.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:10px;color:".concat(L.a.golden,";font-size:13px;}")]))}}])&&Tc(n.prototype,r),o&&Tc(n,o),t}(),Fc=n("8W/B"),Bc=n("Dgje"),Dc=function(e){var t=e.item,n=t.title,r=t.subtitle;return f.a.createElement("div",{className:"jsx-1381500239"},f.a.createElement("h1",{className:"jsx-1381500239 title"},n),r&&f.a.createElement("div",{className:"jsx-1381500239 subtitle"},r),f.a.createElement(P.a,{id:"1381500239"},[".title.jsx-1381500239{margin:-5px 0 0;font-size:20px;font-weight:500;text-align:left;color:#333;-webkit-user-select:initial;}",".subtitle.jsx-1381500239{margin:3px 0 19px;line-height:1.38;font-size:13px;text-align:left;color:#333;-webkit-user-select:initial;}"]))},Mc=n("NWy5"),Uc=n("2vYM"),zc=Object(He.b)(function(e){return function(t,n){var r=Object(Mc.o)(n().wishlist);t({isReset:e,fetch:{types:[Uo.Dg,Uo.Eg,Uo.Cg],from:e||!r?"/user/cart?inStockRemind=true":r,schema:Ve.a.cartBookList}})}}),Gc=Object(He.b)(function(e){return function(t,n){"loading"!==n().wishlist.loadStatus&&t(zc(e))}}),Hc=Object(He.b)(function(e){return function(t){Object(Uc.b)("/add_wishlist"),t(Object(_.g)("wishlist")),t({id:e,fetch:{from:"post /user/cart",types:[Uo.xg,Uo.yg,Uo.wg],body:{bookId:e,inStockRemind:!0},schema:Ve.a.cartBook}})}}),Wc=function(e){return{id:e,fetch:{from:"patch /user/cart/".concat(e),types:[Uo.Ag,Uo.Bg,Uo.zg],body:{inStockRemind:!1},schema:Ve.a.cartBook}}},Vc=n("VJYJ");function Kc(){return(Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qc=function(e){return f.a.createElement("svg",Kc({viewBox:"0 0 46 46"},e),f.a.createElement("path",{d:"M5.13634582,14.9000848 C4.99035474,14.4862269 4.60514195,12.5971561 3.75482474,7.77983331 C2.83501781,3.52910793 4.43253177,0.5 8.76864821,0.5 L20.2546528,0.5 C21.0831633,0.5 21.7548039,1.17157288 21.7548039,2 C21.7548039,2.82842712 21.0831633,3.5 20.2546528,3.5 L8.76864821,3.5 C6.67624454,3.5 6.12473309,4.54574216 6.69830817,7.2015831 C6.81046467,7.83616231 6.91540462,8.42422373 7.01338927,8.96769281 C8.25306859,7.72925282 10.0046811,6.97740113 12.0370705,6.97740113 L33.2099771,6.97740113 C37.6256869,6.97740113 40.715656,10.5215446 40.1103966,14.9022962 L38.5838965,25.9508111 C37.9791832,30.3276098 33.9027269,33.8757062 29.4825248,33.8757062 L15.7645229,33.8757062 C11.3426874,33.8757062 7.26841058,30.3315627 6.66315116,25.9508111 L5.13665105,14.9022962 C5.1365492,14.901559 5.13644746,14.9008219 5.13634582,14.9000848 Z M10.5160122,46.5 C7.63321442,46.5 5.29950051,44.1540314 5.29950051,41.2641243 C5.29950051,38.3742171 7.63321442,36.0282486 10.5160122,36.0282486 C13.3988099,36.0282486 15.7325238,38.3742171 15.7325238,41.2641243 C15.7325238,44.1540314 13.3988099,46.5 10.5160122,46.5 Z M10.5160122,43.5 C11.738193,43.5 12.7322217,42.5007515 12.7322217,41.2641243 C12.7322217,40.0274971 11.738193,39.0282486 10.5160122,39.0282486 C9.29383135,39.0282486 8.29980262,40.0274971 8.29980262,41.2641243 C8.29980262,42.5007515 9.29383135,43.5 10.5160122,43.5 Z M36.2175797,46.5 C33.334782,46.5 31.0010681,44.1540314 31.0010681,41.2641243 C31.0010681,38.3742171 33.334782,36.0282486 36.2175797,36.0282486 C39.1003775,36.0282486 41.4340914,38.3742171 41.4340914,41.2641243 C41.4340914,44.1540314 39.1003775,46.5 36.2175797,46.5 Z M36.2175797,43.5 C37.4397606,43.5 38.4337893,42.5007515 38.4337893,41.2641243 C38.4337893,40.0274971 37.4397606,39.0282486 36.2175797,39.0282486 C34.9953989,39.0282486 34.0013702,40.0274971 34.0013702,41.2641243 C34.0013702,42.5007515 34.9953989,43.5 36.2175797,43.5 Z M9.63522588,25.540262 C10.0351674,28.434962 12.839098,30.8757062 15.7645229,30.8757062 L29.4825248,30.8757062 C32.4053871,30.8757062 35.2122993,28.4319287 35.6118218,25.540262 L37.1383219,14.491747 C37.4943309,11.9150223 35.8065182,9.97740113 33.2099771,9.97740113 L12.0370705,9.97740113 C9.44255541,9.97740113 7.75307191,11.9175926 8.10872577,14.491747 L9.63522588,25.540262 Z"}))};function Yc(){return(Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qc=function(e){return f.a.createElement("svg",Yc({viewBox:"0 0 46 46"},e),f.a.createElement("path",{d:"M40.408626,19.0936037 C41.5142794,19.0936037 41.7818872,18.4605103 40.999899,17.6798584 C40.999899,17.6798584 40.2374609,16.8932902 39.3786323,16.1092182 L28.307135,6.00143742 C25.3835998,3.33238081 20.5250347,3.33332761 17.6025366,6.00143742 L6.53103934,16.1092182 C5.27063301,17.2599127 4.94536401,17.5976819 4.94536401,17.5976819 C4.15404803,18.3630748 4.40272061,18.9835484 5.51069352,18.9835484 L8.12933604,18.9835484 L8.12933604,38.9782179 C8.12933604,40.6506196 9.44018899,42 11.0589093,42 L15.1960178,42 L15.1960178,36.1142596 C15.1960178,33.3521692 17.3690855,31.1184079 20.0602903,31.1184079 L25.9028188,31.1184079 C28.5876179,31.1184079 30.7670913,33.3503112 30.7670913,36.1142596 L30.7670913,42 L34.4156598,42 C36.0394895,42 37.3452331,40.6533202 37.3452331,38.9782179 L37.3452331,19.0936037 L40.408626,19.0936037 Z M28.9248518,45 L17.5567028,45 L11.0589093,45 C7.82972191,45 5.21194826,42.3082595 5.21194826,38.9782179 L5.21194826,21.9835484 C-0.845715653,22.0536625 0.249139206,17.8325867 4.5941418,13.8657941 L15.665639,3.75801332 C19.6913513,0.0827185006 26.2138163,0.0786065279 30.2440326,3.75801332 L41.3155298,13.8657941 C45.7999206,17.9598419 47.0068349,21.9607063 40.2626209,22.0536625 L40.2626209,38.9782179 C40.2626209,42.3039563 37.6567593,45 34.4156598,45 L28.9248518,45 Z M27.8497036,42 L27.8497036,36.1142596 C27.8497036,35.0088943 26.9780536,34.1184079 25.9028188,34.1184079 L20.0602903,34.1184079 C18.9774371,34.1184079 18.1134056,35.0119812 18.1134056,36.1142596 L18.1134056,42 L27.8497036,42 Z"}))};n("UVV0");function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jc(this,$c(t).call(this,e))).state={isIncreasedInMoment:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.count>this.props.count&&(this.setState({isIncreasedInMoment:!0}),setTimeout(function(){return t.setState({isIncreasedInMoment:!1})},200))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.count,r=N()("NotiCount",n>9&&"NotiCount--long",this.state.isIncreasedInMoment&&"is-increased",t);return f.a.createElement("div",{className:r},n>99?"99+":n)}}])&&Xc(n.prototype,r),o&&Xc(n,o),t}();tl.propTypes={className:de.a.string,count:de.a.number.isRequired},tl.defaultProps={className:null,count:0};var nl=tl;function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return!t||"object"!==rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cl(e,t){return(cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ll=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,il(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cl(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.cartCount,n=e.btnContent,r=Object(A.a)().location.pathname,o=Object(Vc.a)(r,{path:"/items/:id",exect:!0});return f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["4208693127",[L.a.confusingGray,L.a.gray]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["4208693127",[L.a.confusingGray,L.a.gray]]])+" home-link"},f.a.createElement(M.a,{to:o?"/item/list":"/"},f.a.createElement(Qc,{width:23,height:23,fill:L.a.lightFont}))),f.a.createElement("div",{className:P.a.dynamic([["4208693127",[L.a.confusingGray,L.a.gray]]])+" pipe"}),f.a.createElement("div",{className:P.a.dynamic([["4208693127",[L.a.confusingGray,L.a.gray]]])+" cart-link"},f.a.createElement(M.a,{to:"/cart"},f.a.createElement(qc,{width:23,height:23,fill:L.a.lightFont}),Boolean(t)&&f.a.createElement(nl,{className:"Nav-cartCount",count:t}))),f.a.createElement("div",{className:P.a.dynamic([["4208693127",[L.a.confusingGray,L.a.gray]]])+" btn-wrap"},n)),f.a.createElement(P.a,{id:"4208693127",dynamic:[L.a.confusingGray,L.a.gray]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:64px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border-top:0.5px solid ".concat(L.a.confusingGray,";}"),".pipe.__jsx-style-dynamic-selector{width:1px;height:44px;background-color:".concat(L.a.gray,";}"),".home-link.__jsx-style-dynamic-selector{margin:0 27px;line-height:0;}",".cart-link.__jsx-style-dynamic-selector{margin:0 30px;position:relative;line-height:0;}",".btn-wrap.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-right:15px;overflow:hidden;}"]))}}])&&ol(n.prototype,r),o&&ol(n,o),t}();function sl(){return(sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ul(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var fl=function(e){var t=e.color,n=void 0===t?L.a.lightFont:t,r=ul(e,["color"]);return f.a.createElement("span",sl({},r,{className:P.a.dynamic([["763031246",[n]]])+" "+(null!=r.className&&r.className||"root")}),f.a.createElement(P.a,{id:"763031246",dynamic:[n]},[".root.__jsx-style-dynamic-selector{width:0;height:0;margin:2px 4px 0 8px;border-width:4px 3px;border-color:transparent;border-style:solid;border-top-color:".concat(n,";font-size:0;line-height:0;}")]))};function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hl(e,t){return(hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yl(t).call(this,e))||"object"!==pl(o)&&"function"!=typeof o?bl(r):o).handleClick=n.handleClick.bind(bl(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hl(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props.onClick;"function"==typeof e&&e(),this.props.onAdd(this.props.book.id)}},{key:"render",value:function(){var e=this.props,t=e.isAdded,n=e.round,r=e.book,o=e.cartBook,a=e.requestStatus,i=Object(Do.o)(r.goods,o),c=Object(Do.m)(r,o),l=(o||{}).hasLocked,s=i?"多个品相可选":"加入购物车",u=i&&!l,p=u?f.a.createElement("span",{className:P.a.dynamic([["3403728130",[L.a.lightFont]]])+" cart-item"},f.a.createElement("span",{className:P.a.dynamic([["3403728130",[L.a.lightFont]]])+" item-quality-desc"},"已选: ",f.a.createElement(Ka,dl({large:!0,normal:!0},c))),f.a.createElement(fl,null),f.a.createElement(P.a,{id:"3403728130",dynamic:[L.a.lightFont]},[".cart-item.__jsx-style-dynamic-selector{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:15px;color:".concat(L.a.lightFont,";font-weight:500;}"),".item-quality-desc.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;}"])):"已加入购物车";return f.a.createElement(D.a,{block:!0,normal:!0,mega:!0,gray:t,round:n,emphasis:!t,disabled:t&&!u||"loading"===a,onClick:this.handleClick},t?p:s)}}])&&ml(n.prototype,r),o&&ml(n,o),t}(),vl=Object(a.b)(function(e){return{requestStatus:e.cart.requestStatus}})(gl);function xl(e){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(e,t){return(jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ol(t).call(this,e))||"object"!==xl(o)&&"function"!=typeof o?El(r):o).handleClick=n.handleClick.bind(El(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jl(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.bookId,r=t.cartBookId,o=t.isAdded,a=t.onAdd,i=t.onRemove,c=t.onClick;"function"==typeof c&&c(),o?i(r):a(n)}},{key:"render",value:function(){var e=this.props,t=e.isAdded,n=e.round;return f.a.createElement(D.a,{mega:!0,block:!0,normal:!0,round:n,primary:!t,gray:t,onClick:this.handleClick},t?f.a.createElement("span",null,"取消到货提醒"):f.a.createElement("span",null,"到货提醒"))}}])&&wl(n.prototype,r),o&&wl(n,o),t}(),_l=n("1tCc");function Sl(e){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Il(t).call(this,e))||"object"!==Sl(o)&&"function"!=typeof o?Tl(r):o).handleClick=n.handleClick.bind(Tl(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props,t=(e.children,e.mode),n=void 0===t?"normal":t,r=e.category,o=e.action,a=e.value,i=Cl(e,["children","mode","category","action","value"]);"ga"===n?Object(_l.a)(r,o,a):"normal"===n&&Object(_l.b)(i)}},{key:"render",value:function(){return Object(u.cloneElement)(this.props.children,{onClick:this.handleClick})}}])&&Pl(n.prototype,r),o&&Pl(n,o),t}(),Ll=n("LCq8"),Al=function(e){var t=e.url;return f.a.createElement("div",{className:"jsx-3039845963 root"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/wechat_pay_logo.png",alt:"wechat_pay_logo",className:"jsx-3039845963 logo"}),t?f.a.createElement(Ll.a,{size:260,text:t,quiet:1,crisp:!1}):f.a.createElement("div",{style:{width:260,height:260,lineHeight:"".concat(260,"px"),textAlign:"center"},className:"jsx-3039845963"},"支付二维码已失效，请重新操作"),f.a.createElement("img",{src:"https://asset.duozhuayu.com/wechat_pay_guide.png",alt:"wechat_pay_guide",className:"jsx-3039845963 guide"}),f.a.createElement(P.a,{id:"3039845963"},[".root.jsx-3039845963{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:".concat(260,"px;margin:20px auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"),".logo.jsx-3039845963{width:140px;height:38px;margin:24px;}",".guide.jsx-3039845963{margin-top:24px;}"]))};function Fl(e){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(e,t){return!t||"object"!==Fl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ml(e){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ul(e,t){return(Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zl=f.a.createElement("div",{className:"jsx-490170896 root"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/logo_small.png",alt:"dejavu_logo",className:"jsx-490170896 logo"}),f.a.createElement("h1",{className:"jsx-490170896 title"},"多抓鱼收银台"),f.a.createElement(P.a,{id:"490170896"},[".root.jsx-490170896{height:72px;padding:0 20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".logo.jsx-490170896{width:43px;height:24px;margin-right:12px;}",".title.jsx-490170896{font-size:20px;}"])),Gl=function(e){var t=e.orderId,n=e.orderType,r=e.amount;return f.a.createElement("div",{className:"jsx-4257260109 root"},f.a.createElement("div",{className:"jsx-4257260109 meta"},f.a.createElement("div",{className:"jsx-4257260109 meta-line"},"订单编号：",t),f.a.createElement("div",{className:"jsx-4257260109 meta-line"},"订单类型：",{purchase:"买书订单",retrieval:"拒书取回订单",lock:"锁定书籍",finish:"预定尾款"}[n]||"未知订单类型")),f.a.createElement("div",{className:"jsx-4257260109"},f.a.createElement("span",{className:"jsx-4257260109"},"应付金额："),f.a.createElement(Mo.a,{n:r,style:{fontSize:20,fontWeight:500}})),f.a.createElement(P.a,{id:"4257260109"},[".root.jsx-4257260109{background-color:#f2f2f2;height:100px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 20px;}",".meta-line.jsx-4257260109{line-height:28px;}"]))},Hl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dl(this,Ml(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ul(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=this.props.order;e&&this.props.onClose(e.id,e.type)}},{key:"render",value:function(){var e=this;if(!this.props.order)return null;var t=this.props.order,n=t.id,r=t.type,o=t.price,a=t.pay;return f.a.createElement(pa.a,{style:{padding:0,border:"none"},onClose:function(){return e.props.onClose(n,r)}},f.a.createElement("div",{className:"jsx-2656668716 root"},zl,f.a.createElement(Gl,{orderId:n,orderType:r,amount:o}),f.a.createElement(Al,{url:a.param.code_url}),f.a.createElement(P.a,{id:"2656668716"},[".root.jsx-2656668716{top:0;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#fff;}"])))}}])&&Bl(n.prototype,r),o&&Bl(n,o),t}(),Wl=Object(a.b)(function(e){return{order:e.payment.cashierOrder}},function(e){return{onClose:function(t,n){return e(na(t,n))}}})(Hl);function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zl={openBookReserve:ca,loadBookExtraInfo:Wo},Xl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ql(t).call(this,e))||"object"!==Vl(o)&&"function"!=typeof o?Yl(r):o).handleReserveClick=n.handleReserveClick.bind(Yl(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.bookId,n=e.loadBookExtraInfo,r=e.hasPreLocked,o=e.hasLocked,a=e.inStockRemind,i=e.preLockPrice,c=e.stock;!a||c||r||i||o||n(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.bookId,r=t.inStockRemind,o=t.loadBookExtraInfo;r&&!e.inStockRemind&&o(n)}},{key:"handleReserveClick",value:function(){var e=this.props;(0,e.openBookReserve)(e.bookId,e.cartBookId)}},{key:"render",value:function(){var e,t=this.props,n=t.stock,r=t.hasPreLocked,o=t.preLockPrice,a=t.inStockRemind,i=t.preLockExpiredTime,c=t.prelockCouponNum;if(!o)return null;if(!a||n||r){if(r&&n){var l=Object(me.g)(1e3*i);e="".concat(l," 前支付尾款，得到这本书")}}else e=c?f.a.createElement(u.Fragment,null,"支付 ",f.a.createElement(Mo.a,{sign:!0,n:o})," 预定这本书，到货了优先得"):"想优先得到这本书？试试去卖书获得预定券";if(!e)return null;var s=r||c?L.a.primary:L.a.lighterFont;return f.a.createElement("div",{className:"reserve-banner"},f.a.createElement(Xe.a,null,f.a.createElement("div",{onClick:this.handleReserveClick,className:P.a.dynamic([["3714291274",[s]]])+" reserve-banner-inner"},f.a.createElement("span",{className:P.a.dynamic([["3714291274",[s]]])+" hint"},e),f.a.createElement(qn.a,null),f.a.createElement(P.a,{id:"3714291274",dynamic:[s]},[".reserve-banner-inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;padding:10px 18px;background-color:".concat(s,";font-size:13px;font-weight:normal;line-height:1.31;color:#fff;}"),".hint.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))),f.a.createElement(Wl,null))}}])&&Kl(n.prototype,r),o&&Kl(n,o),t}(),Jl=Object(a.b)(function(e,t){var n=t.bookId,r=e.entities,o=e.settings.prelockCouponNum,a=Object(Pe.c)(r,n),i=a.stock,c=a.preLockPrice,l=a.virtuals,s=(void 0===l?{}:l).cartBook,u=void 0===s?{}:s,f=u.id,p=u.hasPreLocked,d=u.inStockRemind,m=u.hasLocked,y=u.preLockExpiredTime;return{bookId:n,cartBookId:f,stock:i,preLockPrice:u.preLockPrice||c,hasPreLocked:p,hasLocked:m,inStockRemind:d,preLockExpiredTime:y,prelockCouponNum:o}},Zl)(Xl);function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t){return!t||"object"!==$l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var os=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ts(this,ns(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.stock;return t||n?null:f.a.createElement("div",{className:P.a.dynamic([["1501339203",[L.a.primary,Object(mi.a)(L.a.primary,.1)]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["1501339203",[L.a.primary,Object(mi.a)(L.a.primary,.1)]]])+" banner"},"可以点击「到货提醒」，有货了会马上通知你的 👇"),f.a.createElement(P.a,{id:"1501339203",dynamic:[L.a.primary,Object(mi.a)(L.a.primary,.1)]},[".root.__jsx-style-dynamic-selector{background-color:white;max-width:600px;margin:0 auto;}",".banner.__jsx-style-dynamic-selector{box-sizing:border-box;padding:10px 12px;color:".concat(L.a.primary,";background-color:").concat(Object(mi.a)(L.a.primary,.1),";font-size:13px;}")]))}}])&&es(n.prototype,r),o&&es(n,o),t}(),as=Object(a.b)(function(e){return{id:e.session.user.id}})(os);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fs={onRemoveFromWishlist:Wc,onAddToWishlist:Hc,onAddToCart:qo.i},ps=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ls(t).call(this,e))||"object"!==is(o)&&"function"!=typeof o?ss(r):o).renderButton=n.renderButton.bind(ss(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderButton",value:function(){var e=this.props,t=e.book,n=e.cartBook,r=e.onAddToCart,o=e.onAddToWishlist,a=e.onRemoveFromWishlist,i=!!n,c=n&&n.inStockRemind,l=Object(Do.p)(t,n),s=(n||{}).hasPreLocked;return l?f.a.createElement(Rl,{mode:"ga",category:"book_detail",action:"add_cart"},f.a.createElement(vl,{round:!0,book:t,cartBook:n,isAdded:i,onAdd:r})):l||s?f.a.createElement(D.a,{mega:!0,block:!0,normal:!0,gray:!0,round:!0,disabled:!0},"已预定"):f.a.createElement(Rl,{mode:"ga",category:"book_detail",action:c?"remove_wishlist":"add_wishlist"},f.a.createElement(kl,{round:!0,bookId:t.id,cartBookId:n?n.id:0,isAdded:c,onAdd:o,onRemove:a}))}},{key:"render",value:function(){var e=this.props,t=e.cartCount,n=e.book,r=n.id,o=n.stock;return f.a.createElement(Ze.a,{paddingStyle:{background:"#fff"}},f.a.createElement(as,{stock:o}),f.a.createElement(Jl,{bookId:r}),f.a.createElement(ll,{cartCount:t,btnContent:this.renderButton()}))}}])&&cs(n.prototype,r),o&&cs(n,o),t}(),ds=Object(a.b)(function(e){return{cartCount:e.cart.inStockCount}},fs)(ps),ms=n("XoAi");function ys(){return(ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var bs=function(e){return f.a.createElement("svg",ys({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),f.a.createElement("polyline",{points:"6 9 12 15 18 9"}))};function hs(){return(hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gs=function(e){return f.a.createElement("svg",hs({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 15 14",color:L.a.primary},e),f.a.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M20.1574053,24.6826336 L17.0453067,25.9566366 C16.6579438,26.1148978 16.2357087,25.8185976 16.2724658,25.4141522 L16.5646374,22.1601253 C16.5853721,21.9315257 16.5090305,21.7038054 16.3525774,21.5305973 L14.1367858,19.0634804 C13.861579,18.7566294 14.0227447,18.2774496 14.4317849,18.1860098 L17.7248413,17.4483365 C17.9566936,17.396462 18.1565012,17.2566646 18.2799673,17.0597173 L20.0226293,14.261131 C20.2394018,13.9129563 20.7615407,13.9129563 20.9783131,14.261131 L22.7209752,17.0597173 C22.8434988,17.2566646 23.0433064,17.396462 23.2751587,17.4483365 L26.5682151,18.1860098 C26.9772553,18.2774496 27.138421,18.7566294 26.8632142,19.0634804 L24.6474226,21.5305973 C24.491912,21.7038054 24.4155704,21.9315257 24.4363051,22.1601253 L24.7284767,25.4141522 C24.7642913,25.8185976 24.3420562,26.1148978 23.9546933,25.9566366 L20.8425947,24.6826336 C20.6239373,24.5929522 20.3760627,24.5929522 20.1574053,24.6826336 Z",transform:"translate(-13 -13)"}))},vs=n("GHbH");function xs(e){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Os(e,t){return!t||"object"!==xs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ks=function(e){var t=e.inBookPage;return f.a.createElement("div",{className:P.a.dynamic([["1407067882",[t?"-3px":"-2px",t?"5px":"3px",t?"15px":"12px",L.a.primary]]])+" new-rate-btn"},f.a.createElement("span",{className:P.a.dynamic([["1407067882",[t?"-3px":"-2px",t?"5px":"3px",t?"15px":"12px",L.a.primary]]])+" icon-wrap"},f.a.createElement(gs,{width:t?"16":"13",height:t?"15":"12"})),f.a.createElement("div",{className:P.a.dynamic([["1407067882",[t?"-3px":"-2px",t?"5px":"3px",t?"15px":"12px",L.a.primary]]])+" btn-text"},"给书评分"),f.a.createElement(P.a,{id:"1407067882",dynamic:[t?"-3px":"-2px",t?"5px":"3px",t?"15px":"12px",L.a.primary]},[".new-rate-btn.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}",".icon-wrap.__jsx-style-dynamic-selector{margin-bottom:".concat(t?"-3px":"-2px",";}"),".btn-text.__jsx-style-dynamic-selector{margin-left:".concat(t?"5px":"3px",";font-size:").concat(t?"15px":"12px",";font-weight:normal;color:").concat(L.a.primary,";}")]))},_s=function(e){var t=e.userId,n=e.children;return f.a.createElement("div",{className:P.a.dynamic([["4071281071",[L.a.confusingGray]]])+" rated-btn"},f.a.createElement(rr,{userId:t,style:{border:"0.5px solid #e6e6e6",margin:"-1px -1px"}}),f.a.createElement("span",{className:P.a.dynamic([["4071281071",[L.a.confusingGray]]])+" icon-wrap"},n),f.a.createElement(qn.a,{stroke:L.a.darkGray}),f.a.createElement(P.a,{id:"4071281071",dynamic:[L.a.confusingGray]},[".rated-btn.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0.5px solid ".concat(L.a.confusingGray,";border-radius:99px;box-sizing:border-box;padding:0;height:30px;width:145px;cursor:pointer;}"),".icon-wrap.__jsx-style-dynamic-selector{margin-left:10px;}"]))},Ss=function(e){var t=e.userRating,n=e.inBookPage,r=e.userId,o=f.a.createElement(vs.a,{rating:t});return n&&(o=f.a.createElement(_s,{userId:r},o)),o},Cs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Os(this,Es(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.hasRated,n=e.userRating,r=e.inBookPage,o=e.userId,a=e.onClick,i=e.style;return f.a.createElement("div",{onClick:a,style:i},Object(vs.b)(t,n)?f.a.createElement(Ss,{userRating:n,inBookPage:r,userId:o}):f.a.createElement(ks,{inBookPage:r}))}}])&&ws(n.prototype,r),o&&ws(n,o),t}(),Ps=function(e){var t=e.children,n=e.style;return f.a.createElement("h2",{style:n,className:"jsx-673335503 header"},t,f.a.createElement(P.a,{id:"673335503"},[".header.jsx-673335503{font-size:18px;font-weight:normal;line-height:1.56;text-align:left;}"]))},Is=n("wPgv");function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ns(e,t,n[t])})}return e}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rs={display:"inline-block",marginTop:14,padding:"0 8px",backgroundColor:Object(mi.a)(L.a.primary,.06),borderRadius:13,fontSize:13,fontWeight:300,lineHeight:1.69,color:L.a.primary},Ls=function(e){var t=e.name,n=e.style;return f.a.createElement("span",{style:Ts({},Rs,n)},t)};function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fs(e,t,n[t])})}return e}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bs=function(e){var t=e.collectionId,n=e.collectionName,r=e.style;return f.a.createElement(M.a,{to:"/open-collections/".concat(t),style:As({},r)},f.a.createElement(Ls,{name:"书单：".concat(n)}))},Ds=n("Hg/V");function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ws={onVote:Ds.j,onUnvote:Ds.h},Vs=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zs(t).call(this,e))||"object"!==Ms(o)&&"function"!=typeof o?Gs(r):o).toContribPage=n.toContribPage.bind(Gs(n)),n.handleVote=n.handleVote.bind(Gs(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toContribPage",value:function(){var e=this.props.contribId;Object(A.a)().push("/oc-contrib/".concat(e,"/comments?target=comments"))}},{key:"handleVote",value:function(){var e=this.props,t=e.contribId,n=e.votedByMe,r=e.onUnvote,o=e.onVote;n?r(t):o(t)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.commentStyle,r=e.voteStyle,o=e.disableComment,a=e.commentsCount,i=e.voteCount,c=e.votedByMe,l=e.voteRenderer;return f.a.createElement(Dn,{style:t,commentStyle:n,voteStyle:r,disableComment:o,commentsCount:a,voteCount:i,votedByMe:c,voteRenderer:l,onCommentClick:this.toContribPage,onVoteClick:this.handleVote})}}])&&Us(n.prototype,r),o&&Us(n,o),t}(),Ks=Object(a.b)(function(e,t){var n=t.contribId,r=Object(Is.a)(e.entities,n);return{voteCount:r.voteCount,commentsCount:r.commentsCount,votedByMe:r.votedByMe}},Ws)(Vs),qs=n("CgaW");function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Js(e,t){return(Js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $s=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Zs(t).call(this,e))||"object"!==Ys(o)&&"function"!=typeof o?Xs(r):o).handleClick=n.handleClick.bind(Xs(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Js(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props,t=e.id,n=e.bookId,r=e.toBookPage,o="/oc-contrib/".concat(t,"/comments");r&&(o="/books/".concat(n)),Object(A.a)().push(o)}},{key:"render",value:function(){var e=this.props,t=e.reason,n=e.folded,r=e.toggleFoldStatus,o=e.linesAfterFolded;return f.a.createElement(qs.a,{folded:n,toggleFoldStatus:r,linesAfterFolded:o,text:t,onFullTextClick:this.handleClick})}}])&&Qs(n.prototype,r),o&&Qs(n,o),t}(),eu=Object(a.b)(function(e,t){var n=t.id;return{folded:Object(ms.b)(e,n)}},function(e,t){var n=t.id;return{toggleFoldStatus:function(){return e((t=n,{type:Uo.M,contribId:t}));var t}}})($s);function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e,t){return!t||"object"!==tu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iu={display:"inline-block",marginBottom:7,fontSize:15,fontWeight:"normal",lineHeight:1.33,maxWidth:"70%"},cu={display:"inline-block",margin:"0 0 7px 9px"},lu={marginRight:40},su={marginTop:12},uu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ru(this,ou(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.contribId,n=e.contributorId,r=e.contributorName,o=e.contributorAvatar,a=e.hasRated,i=e.rating,c=e.reason,l=e.collectionId,s=e.collectionName,u=e.style;return c?f.a.createElement("div",{style:u,className:P.a.dynamic([["3629716745",[L.a.confusingGray,l?"22px":"14px"]]])+" contrib-item"},f.a.createElement(M.a,{to:"/users/".concat(n)},f.a.createElement(Zt.a,{url:o})),f.a.createElement("div",{className:P.a.dynamic([["3629716745",[L.a.confusingGray,l?"22px":"14px"]]])+" contrib-content"},f.a.createElement(M.a,{style:iu,to:"/users/".concat(n)},f.a.createElement(fe.a,{className:"label"},r)),Object(vs.b)(a,i)&&f.a.createElement("div",{style:cu,className:P.a.dynamic([["3629716745",[L.a.confusingGray,l?"22px":"14px"]]])},f.a.createElement(vs.a,{rating:i})),f.a.createElement(eu,{id:t,reason:c}),l&&f.a.createElement(Bs,{collectionId:l,collectionName:s,style:su}),f.a.createElement("footer",{className:P.a.dynamic([["3629716745",[L.a.confusingGray,l?"22px":"14px"]]])+" contrib-footer"},f.a.createElement(Ks,{contribId:t,commentStyle:lu}))),f.a.createElement(P.a,{id:"3629716745",dynamic:[L.a.confusingGray,l?"22px":"14px"]},[".contrib-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding:18px 0 18px 0;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".contrib-item.__jsx-style-dynamic-selector:last-child{border-bottom:none;}",".contrib-content.__jsx-style-dynamic-selector{margin-left:12px;width:100%;}",".contrib-footer.__jsx-style-dynamic-selector{margin-top:".concat(l?"22px":"14px",";}")])):null}}])&&nu(n.prototype,r),o&&nu(n,o),t}(),fu=Object(a.b)(function(e,t){var n=t.contribId,r=Object(Is.f)(e.entities,n),o=r.hasRated,a=r.rating,i=r.reason,c=r.contributor,l=c.id,s=c.name,u=c.avatar,f=r.collection||{};return{hasRated:o,rating:a,reason:i,contributorId:l,contributorName:s,contributorAvatar:u,collectionId:f.id,collectionName:f.name}})(uu);function pu(e){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hu(e,t){return(hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gu={flexGrow:1},vu={borderBottom:"0 none"},xu=function(e){var t=e.contribId,n=e.contribCount,r=e.showMoreContribs;return f.a.createElement(u.Fragment,null,f.a.createElement(fu,{style:vu,contribId:t}),n>1&&f.a.createElement("div",{className:P.a.dynamic([["1191617357",[L.a.primary]]])+" wrapper"},f.a.createElement(ma.a,{className:"inner",onClick:r},"更多评论 ",f.a.createElement(bs,null)),f.a.createElement(P.a,{id:"1191617357",dynamic:[L.a.primary]},[".wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".wrapper.__jsx-style-dynamic-selector .inner{color:".concat(L.a.primary,";font-size:13px;-webkit-transform:translateX(2px);-ms-transform:translateX(2px);transform:translateX(2px);}")])))},wu=function(e){return e.contribIds.map(function(e){return f.a.createElement(fu,{key:e,contribId:e})})},Ou={margin:0,paddingBottom:35},Eu=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=yu(t).call(this,e))||"object"!==pu(o)&&"function"!=typeof o?bu(r):o;var a=e.target,i=void 0===a?"":a;return n.toRatePage=n.toRatePage.bind(bu(n)),n.getRef=n.getRef.bind(bu(n)),n.needScrollIntoView="contribs"===i,n.initScroll=!0,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.needsToLoad&&this.props.loader(!0)}},{key:"componentDidUpdate",value:function(){var e=this.props.currentUserRating,t=(void 0===e?{}:e).hasRated;this.needScrollIntoView&&t&&this.initScroll&&(this.scrollIntoView(),this.initScroll=!1)}},{key:"toRatePage",value:function(){var e=this.props,t=e.bookId,n=e.currentUserRating,r=void 0===n?{}:n,o=r.hasRated,a=r.contribId,i={bookId:t,source:"book"},c=Object(Mt.b)(o?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){du(e,t,n[t])})}return e}({},i,{contribId:a}):i);Object(A.a)().push("/book/rating?".concat(c))}},{key:"getRef",value:function(e){this.el=e}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView({block:"start",behavior:"smooth"})}},{key:"render",value:function(){var e=this.props,t=e.contribIds,n=e.contribsFoldStatus,r=e.showMoreContribs,o=e.currentUserRating,a=void 0===o?{}:o,i=t?t.length:0,c=i>0,l=c?"".concat(i," 条鱼友评论"):"鱼友评论",s=a.hasRated,u=a.rating,p=a.contributor,d=(void 0===p?{}:p).id,m=null;return c&&(m=n?f.a.createElement(wu,{contribIds:t}):f.a.createElement(xu,{contribId:t[0],contribCount:i,showMoreContribs:r})),f.a.createElement(Cc,{plain:!0,style:Ou},f.a.createElement("div",{ref:this.getRef,className:"jsx-4161655944 recommend-btn-wrap"},f.a.createElement(Ps,{style:gu},l),f.a.createElement(Cs,{inBookPage:!0,userId:d,hasRated:s,userRating:u,onClick:this.toRatePage})),m&&f.a.createElement("div",{className:"jsx-4161655944 contrib-wrap"},m),f.a.createElement(P.a,{id:"4161655944"},[".recommend-btn-wrap.jsx-4161655944{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-top:15px;padding-right:3px;}"]))}},{key:"needsToLoad",get:function(){var e=this.props.loadStatus;return!["loaded","loading","drained"].includes(e)}}])&&mu(n.prototype,r),o&&mu(n,o),t}(),ju=Object(a.b)(function(e,t){var n=t.bookId;return{contribIds:Object(ms.c)(e,n),loadStatus:Object(ms.e)(e,n),contribsFoldStatus:Object(ms.d)(e,n)}},function(e,t){var n=t.bookId;return{loader:function(t){return e(function(e,t){return function(n,r){var o=r().ocContribs.contribs[e],a=o?o.nextUrl:"/books/".concat(e,"/contributions");return n({bookId:e,isReset:t,fetch:{from:a,schema:Ve.a.ocContribs,types:[Uo.H,Uo.J,Uo.G]}})}}(n,t))},showMoreContribs:function(){return e(function(e){return{type:Uo.I,bookId:e}}(n))}}})(Eu);function ku(){return(ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _u=function(e){return f.a.createElement("svg",ku({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),f.a.createElement("polyline",{points:"18 15 12 9 6 15"}))};function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tu(e,t){return(Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nu={marginBottom:8},Ru=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Pu(t).call(this,e))||"object"!==Su(o)&&"function"!=typeof o?Iu(r):o).state={isUnrevealed:!1,isExpanded:!1},n.toggle=n.toggle.bind(Iu(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.contentNode.firstElementChild.clientHeight>=189&&this.setState({isUnrevealed:!0})}},{key:"componentDidUpdate",value:function(e,t){if(t.isExpanded&&!this.state.isExpanded){var n=this.el.offsetTop;n<window.scrollY&&window.scrollTo(0,n)}}},{key:"toggle",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.props,n=t.summary,r=t.authorIntro,o=t.catalog,a=this.state,i=a.isUnrevealed,c=a.isExpanded;return f.a.createElement(Cc,{style:{paddingBottom:"20px",paddingLeft:0,paddingRight:0},innerRef:function(t){e.el=t}},f.a.createElement(Ps,{style:Nu},"简介和目录"),f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])},f.a.createElement("div",{ref:function(t){e.contentNode=t},className:P.a.dynamic([["2745827771",[L.a.primary]]])+" "+((i&&!c?"collapsed":null)||"")},f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])+" content"},n&&f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])+" section"},n),r&&f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])+" section"},r),o&&f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])+" section"},o))),i&&f.a.createElement("div",{className:P.a.dynamic([["2745827771",[L.a.primary]]])+" bottom"},f.a.createElement("button",{onClick:this.toggle,className:P.a.dynamic([["2745827771",[L.a.primary]]])+" button"},c?"收起":"查看更多",c?f.a.createElement(_u,null):f.a.createElement(bs,null)))),f.a.createElement(P.a,{id:"2745827771",dynamic:[L.a.primary]},[".content.__jsx-style-dynamic-selector{line-height:1.8;white-space:pre-wrap;overflow-wrap:break-word;}",".section.__jsx-style-dynamic-selector{margin-bottom:1.6em;-webkit-user-select:initial;}",".section.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".collapsed.__jsx-style-dynamic-selector{overflow:hidden;max-height:7.2em;}",".bottom.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:12px;}",".button.__jsx-style-dynamic-selector{padding:5px 1em;color:".concat(L.a.primary,";font-size:13px;}")]))}}])&&Cu(n.prototype,r),o&&Cu(n,o),t}(),Lu=n("0wEy"),Au=function(e){var t=e.imgUrl,n=e.scaleRatio,r=e.isFullScreen,o=e.onClick;return f.a.createElement(u.Fragment,null,f.a.createElement(Lu.Motion,{style:{opacity:Object(Lu.spring)(r?1:0),scale:Object(Lu.spring)(r?1:n)}},function(e){var n=e.opacity,r=e.scale;return f.a.createElement("span",{className:"jsx-1717929417"},f.a.createElement("div",{style:{transform:"scale(".concat(r,")"),zIndex:n?20:-1},onClick:o,className:"jsx-1717929417 front-wrapper"},f.a.createElement("img",{src:t,alt:"",style:{opacity:n},className:"jsx-1717929417 inner"})),Boolean(n)&&f.a.createElement("div",{style:{opacity:n},className:"jsx-1717929417 back-wrapper"}))}),f.a.createElement(P.a,{id:"1717929417"},[".front-wrapper.jsx-1717929417,.back-wrapper.jsx-1717929417{position:fixed;top:0;left:0;width:100vw;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}",".front-wrapper.jsx-1717929417,.inner.jsx-1717929417{-webkit-transform-origin:50% 5%;-ms-transform-origin:50% 5%;transform-origin:50% 5%;}",".back-wrapper.jsx-1717929417{z-index:10;background-color:black;-webkit-transition:opacity 0s ease;transition:opacity 0s ease;}",".inner.jsx-1717929417{width:100vw;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition:opacity 0s ease;transition:opacity 0s ease;}"]))},Fu=n("+Xah"),Bu=function(e){var t=e.appHeight,n=e.calcFn,r=void 0===n?Fu.a:n,o=t;return O.f?O.h?f.a.createElement("div",{className:P.a.dynamic([["1901515149",[r("constant(safe-area-inset-top)"),r("env(safe-area-inset-top)")]]])+" top-area"},f.a.createElement(P.a,{id:"1901515149",dynamic:[r("constant(safe-area-inset-top)"),r("env(safe-area-inset-top)")]},[".top-area.__jsx-style-dynamic-selector{height:".concat(r("constant(safe-area-inset-top)"),";height:").concat(r("env(safe-area-inset-top)"),";}")])):f.a.createElement("div",{className:P.a.dynamic([["2721694434",[o]]])+" top-area"},f.a.createElement(P.a,{id:"2721694434",dynamic:[o]},[".top-area.__jsx-style-dynamic-selector{height:".concat(o,"px;}")])):null};function Du(e){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e,t){return(Gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hu=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Uu(t).call(this,e))||"object"!==Du(o)&&"function"!=typeof o?zu(r):o).state={fullScreen:!1},n.toggleFullScreen=n.toggleFullScreen.bind(zu(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gu(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleFullScreen",value:function(){var e=this.props.book.images.large;e&&(Object(O.k)()?window.open(e,"_blank"):this.setState({fullScreen:!this.state.fullScreen}))}},{key:"renderPutawayInfo",value:function(){var e=this.props.book,t=e.expectedPutawayDays,n=e.latestPutawayTime;return f.a.createElement("div",{className:"jsx-3433012815 info"},f.a.createElement(qa,{basic:!0,expectedPutawayDays:t,latestPutawayTime:n}),f.a.createElement(P.a,{id:"3433012815"},[".info.jsx-3433012815{font-size:12px;margin-top:6px;}"]))}},{key:"renderFullScreenImg",value:function(){var e=this.state.fullScreen,t=this.props.book.images.large;return t?f.a.createElement(Au,{imgUrl:t,scaleRatio:.3,isFullScreen:e,onClick:this.toggleFullScreen}):null}},{key:"render",value:function(){var e=this.props,t=e.book,n=e.cartBook,r=t.title,o=t.images;return f.a.createElement("header",{className:P.a.dynamic([["955974604",[L.a.secondary]]])+" root"},f.a.createElement(Bu,{appHeight:40,calcFn:function(e){return"calc(".concat(e," - 30px)")}}),f.a.createElement("div",{style:{backgroundImage:"url(".concat(o.medium,")")},className:P.a.dynamic([["955974604",[L.a.secondary]]])+" background"}),f.a.createElement(Ga.a,{standard:!0,alt:r,images:o,inStock:Object(Do.p)(t,n),putawayInfo:this.renderPutawayInfo(),style:{cursor:"pointer"},onClick:this.toggleFullScreen}),this.renderFullScreenImg(),f.a.createElement(P.a,{id:"955974604",dynamic:[L.a.secondary]},[".root.__jsx-style-dynamic-selector{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:30px 15px 28px;color:#fff;}",".background.__jsx-style-dynamic-selector{position:absolute;bottom:-50px;right:-50px;left:-50px;top:-50px;z-index:-1;background:".concat(L.a.secondary,";background-size:cover;background-position:center;-webkit-filter:blur(25px);filter:blur(25px);}"),".background.__jsx-style-dynamic-selector::before{content:'';display:block;width:100%;height:100%;background:rgba(0,0,0,0.4);}",".image.__jsx-style-dynamic-selector{width:125px;}",".img.__jsx-style-dynamic-selector{display:block;width:100%;box-shadow:0 1px 10px rgba(0,0,0,0.2);}"]))}}])&&Mu(n.prototype,r),o&&Mu(n,o),t}();function Wu(){return(Wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ku=function(e){var t=e.properties,n=Vu(e,["properties"]);return f.a.createElement("div",Wu({},n,{className:P.a.dynamic([["368082763",[L.a.lighterFont,L.a.lighterFont,L.a.font]]])+" "+(null!=n.className&&n.className||"root")}),t.map(function(e){var t=e.isVisible,n=void 0===t||t,r=e.name,o=e.render;return n?f.a.createElement("div",{key:r,className:P.a.dynamic([["368082763",[L.a.lighterFont,L.a.lighterFont,L.a.font]]])+" info-row"},f.a.createElement("dt",{className:P.a.dynamic([["368082763",[L.a.lighterFont,L.a.lighterFont,L.a.font]]])},f.a.createElement("span",{className:P.a.dynamic([["368082763",[L.a.lighterFont,L.a.lighterFont,L.a.font]]])},r)),f.a.createElement("dd",{className:P.a.dynamic([["368082763",[L.a.lighterFont,L.a.lighterFont,L.a.font]]])},o())):null}),f.a.createElement(P.a,{id:"368082763",dynamic:[L.a.lighterFont,L.a.lighterFont,L.a.font]},[".info-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;line-height:1.69;font-size:13px;}","dt.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:39px;position:relative;color:".concat(L.a.lighterFont,";font-weight:300;text-align:justify;font-size:0;}"),"dt.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{font-size:13px;}","dt.__jsx-style-dynamic-selector::after{content:'';width:100%;display:inline-block;}","dt.__jsx-style-dynamic-selector::before{content:':';margin-left:2px;position:absolute;top:-2px;right:-5px;line-height:1.69;color:".concat(L.a.lighterFont,";font-size:13px;}"),"dd.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:15px;color:".concat(L.a.font,";position:relative;}"),".icon-wrap.__jsx-style-dynamic-selector{margin-left:6px;line-height:0;font-size:9px;}"]))};function qu(){return(qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Yu=["new","free"],Qu=function(e){var t=e.book,n=e.cartBook,r=t.author,o=t.rawAuthor,a=t.publisher,i=t.producer,c=t.publishDate,l=t.binding,s=t.originalPrice,p=t.goods,d=t.volumesCount,m=Object(Do.o)(p,n),y=Object(Do.m)(t,n),b=s?f.a.createElement(Mo.a,{sign:!0,n:s}):"暂无价格信息",h=Boolean(!m&&y&&!Yu.includes(y.condition)),g=d>1?"套装 ".concat(d," 册"):"",v=[{isVisible:h,name:"品相",render:function(){return f.a.createElement(u.Fragment,null,f.a.createElement(Ka,qu({larger:!0,shortFine:!0},y)),f.a.createElement("span",{className:"jsx-3139995106 icon-wrap"},f.a.createElement(ma.a,{to:"/support/quality"},f.a.createElement(oe,{stroke:L.a.lighterFont}))),f.a.createElement(P.a,{id:"3139995106"},[".icon-wrap.jsx-3139995106{margin-left:6px;line-height:0;font-size:9px;}"]))}},{name:"原价",render:function(){return b}},{name:"作者",render:function(){return f.a.createElement(ma.a,{colored:!0,to:"/search/".concat(encodeURIComponent(r))},o)}},{isVisible:!!i,name:"出品方",render:function(){return f.a.createElement(ma.a,{colored:!0,to:"/tags/".concat(i.id)},i.name)}},{isVisible:!!a,name:"出版社",render:function(){return a}},{isVisible:!!c,name:"出版",render:function(){return c}},{isVisible:Boolean(l)||Boolean(g),name:"装帧",render:function(){return[l,g].filter(Boolean).join(" · ")}}];return f.a.createElement(Ku,{properties:v,style:{marginTop:14}})};function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ju(e,t){return!t||"object"!==Zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tf={top:0,right:0,position:"absolute"},nf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ju(this,$u(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.book,n=e.cartBook,r=t.goods,o=void 0===r?[]:r,a=t.price,i=t.source,c=t.originalPrice,l=Object(Do.c)(o,a,n),s=Object(Do.o)(o,n),p=Object(Do.n)(o,n);return l||p?f.a.createElement("div",{className:P.a.dynamic([["49184884",[L.a.lighterFont]]])+" root"},!p&&f.a.createElement(u.Fragment,null,f.a.createElement(Mo.a,{sign:!0,bold:!0,mega:!0,suffix:s,n:l}),f.a.createElement("div",{className:P.a.dynamic([["49184884",[L.a.lighterFont]]])+" label-wrap"},f.a.createElement(za,{large:!0,goods:o,price:a,originalPrice:c,cartBook:n}))),"OVERSEA"===i&&f.a.createElement("div",{className:P.a.dynamic([["49184884",[L.a.lighterFont]]])+" oversea-wrap"},f.a.createElement(Ua.a,{large:!0,emphasis:!0},"原版")),p&&f.a.createElement(u.Fragment,null,f.a.createElement("div",{className:P.a.dynamic([["49184884",[L.a.lighterFont]]])+" free-wrap"},f.a.createElement(rc,null),f.a.createElement(ae,{primary:!0,to:"/support/free",size:16,style:tf})),f.a.createElement("div",{className:P.a.dynamic([["49184884",[L.a.lighterFont]]])+" free-hint"},"服务费：每本 3 元")),f.a.createElement(P.a,{id:"49184884",dynamic:[L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:17px;}",".label-wrap.__jsx-style-dynamic-selector{margin:0 6px;line-height:0;}",".oversea-wrap.__jsx-style-dynamic-selector{margin-right:6px;line-height:0;}",".free-wrap.__jsx-style-dynamic-selector{position:relative;}",".free-hint.__jsx-style-dynamic-selector{margin-left:8px;font-size:12px;font-weight:300;line-height:1.5;color:".concat(L.a.lighterFont,";}")])):null}}])&&Xu(n.prototype,r),o&&Xu(n,o),t}(),rf=n("sxGJ"),of=n.n(rf);function af(e){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uf(e,t){return(uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ff=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=lf(t).call(this,e))||"object"!==af(o)&&"function"!=typeof o?sf(r):o).clipboard=null,n.getTextValue=n.getTextValue.bind(sf(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uf(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=Object(p.findDOMNode)(this),t=this.props.onSuccess;this.clipboard=new of.a(e,{text:this.getTextValue}),this.clipboard.on("success",function(e){"function"==typeof t&&t(e)})}},{key:"componentWillUnmount",value:function(){this.clipboard.destroy(),this.clipboard=null}},{key:"getTextValue",value:function(){var e=this.props.value;return"function"==typeof e?e():e}},{key:"render",value:function(){return this.props.children}}])&&cf(n.prototype,r),o&&cf(n,o),t}(),pf=function(e){var t=e.children,n=e.className,r=e.to,o=e.onSuccess;return Object(v.b)()?f.a.createElement(ff,{value:r,onSuccess:o},t):O.f?f.a.createElement("a",{href:"".concat(Jr.a,"/redirect?link=").concat(r)},t):f.a.createElement(M.a,{className:N()("outer-link",n),to:"/redirect?link=".concat(r)},t)},df=n("YMRG");function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gf(e,t){return(gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vf=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=bf(t).call(this,e))||"object"!==mf(o)&&"function"!=typeof o?hf(r):o).state={showCopyToast:!1},n.hideToast=n.hideToast.bind(hf(n)),n.showToast=n.showToast.bind(hf(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gf(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"hideToast",value:function(){this.setState({showCopyToast:!1})}},{key:"showToast",value:function(){this.setState({showCopyToast:!0})}},{key:"render",value:function(){var e,t=this.state.showCopyToast,n=this.props,r=n.isbn13,o=n.doubanRating,a=n.goodreadsRating,i="https://book.douban.com/isbn/".concat(r),c=Object(Do.i)(o),l=!c&&Boolean(a),s=l?a:c;e=c?"豆瓣评分":l?"goodreads 评分":"查看豆瓣评分";var u=f.a.createElement(At.a,{row:!0,alignCenter:!0},f.a.createElement(gs,{color:L.a.golden}),f.a.createElement("span",{className:P.a.dynamic([["3666179772",[L.a.golden]]])+" douban-rating"},e,s&&f.a.createElement("span",{className:P.a.dynamic([["3666179772",[L.a.golden]]])+" rating"},s.toFixed(1))),s&&f.a.createElement(vs.a,{color:L.a.golden,rating:s,total:l?5:10}),!(Object(v.b)()||l)&&f.a.createElement(qn.a,{stroke:L.a.darkGray}),f.a.createElement(P.a,{id:"3666179772",dynamic:[L.a.golden]},[".douban-rating.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:10px;color:".concat(L.a.golden,";font-size:13px;}"),".rating.__jsx-style-dynamic-selector{margin-left:5px;font-size:15px;}"]));return f.a.createElement(Cc,{bordered:!0,plain:!0},l?u:f.a.createElement(pf,{to:i,onSuccess:this.showToast},u),t&&f.a.createElement(df.a,{duration:1e3,value:"已复制链接，可以去浏览器打开",onHide:this.hideToast}))}}])&&yf(n.prototype,r),o&&yf(n,o),t}(),xf=Object(a.b)(function(e,t){var n=t.bookId,r=e.entities,o=Object(Pe.c)(r,n);return{isbn13:o.isbn13,doubanRating:o.doubanRating,goodreadsRating:o.goodreadsRating}})(vf),wf=n("YI9S"),Of=Object(Mc.j)({selector:function(e){return e.relatedBooks},url:function(e){var t=e.id;return"/books/".concat(t,"/related-books")},types:[Uo.R,Uo.S,Uo.Q],schema:Ve.a.books});function Ef(e){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t){return!t||"object"!==Ef(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sf(e){return(Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cf(e,t){return(Cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){If(e,t,n[t])})}return e}function If(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_f(this,Sf(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cf(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=jf(e,["children"]);return"function"!=typeof t?t:t(n)}}])&&kf(n.prototype,r),o&&kf(n,o),t}(),Nf=Object(a.b)(function(e,t){var n=t.id,r=Object(Pe.c)(e.entities,n),o=(r||{}).virtuals,a=void 0===o?{}:o,i=a.cartBook,c=Object(F.i)(e,i);return c?Pf({},r,{virtuals:Pf({},a,{cartBook:c})}):r})(Tf),Rf={styles:f.a.createElement(P.a,{id:"2564032326"},[".free-label.jsx-2564032326{position:absolute;left:0;top:0;border-radius:0 0 4px;}"]),className:"jsx-2564032326"},Lf=Rf.className,Af=Rf.styles,Ff=function(e){return f.a.createElement(Nf,{key:e,id:e},function(e){var t=e.id,n=e.images,r=e.stock,o=e.title,a=e.goods,i=Object(Do.n)(a);return f.a.createElement("div",{onClick:function(){Object(_l.a)("book_detail","view_related_book")},className:"jsx-4063287712 item"},f.a.createElement(M.a,{to:"/books/".concat(t),onClick:function(){return Object(Uc.b)("/related_book")}},f.a.createElement("div",{className:"jsx-4063287712 book"},f.a.createElement(Ga.a,{shadowed:!0,fixHeight:!0,responsive:!0,images:n,inStock:r}),f.a.createElement("div",{className:"jsx-4063287712 title"},o),i&&f.a.createElement(u.Fragment,null,f.a.createElement(rc,{className:Lf}),Af))),f.a.createElement(P.a,{id:"4063287712"},[".item.jsx-4063287712{display:inline-block;vertical-align:top;width:100px;width:calc((100% - (10px * 6)) / 3);margin:10px;}","@media (max-width:359px){.item.jsx-4063287712{width:calc((100% - (10px * 4)) / 2);}}","@media (min-width:480px){.item.jsx-4063287712{width:calc((100% - (10px * 8)) / 4);}}",".book.jsx-4063287712{position:relative;font-size:13px;text-align:center;word-wrap:break-word;overflow-wrap:break-word;}",".title.jsx-4063287712{margin-top:6px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"]))})},Bf=function(e){var t=e.children;return f.a.createElement("div",{className:"jsx-1463352652 wrapper"},t,f.a.createElement(P.a,{id:"1463352652"},[".wrapper.jsx-1463352652{padding:20px 5px 0;margin:-10px;}"]))},Df=function(e){var t=e.bookIds,n=e.loadStatus,r=e.loader;return f.a.createElement(Ut.a,{loadStatus:n,loader:r,items:t,renderItem:Ff,contentContainer:Bf})};function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uf(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return!t||"object"!==Mf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hf(e){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wf(e,t){return(Wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kf=function(e,t){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vf(e,t,n[t])})}return e}({},e,{link:t(e)})})},qf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gf(this,Hf(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wf(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.relatedOpenCollections,n=e.relatedCategories,r=[].concat(Uf(Kf(t,function(e){var t=e.id;return"/open-collections/".concat(t)})),Uf(Kf(n,function(e){var t=e.id;return"/categories/".concat(t)})));return r.length?f.a.createElement("div",{className:"jsx-2078429903 labels"},r.map(function(e){var t=e.id,n=e.link,r=e.name;return f.a.createElement(Rl,{key:t,mode:"ga",category:"book_detail",action:"view_related_tag"},function(e,t,n){return f.a.createElement("span",{key:e,className:P.a.dynamic([["2382814278",[L.a.confusingGray]]])+" wrapper"},f.a.createElement(M.a,{to:t},f.a.createElement("span",{className:P.a.dynamic([["2382814278",[L.a.confusingGray]]])+" label"},n)),f.a.createElement(P.a,{id:"2382814278",dynamic:[L.a.confusingGray]},[".wrapper.__jsx-style-dynamic-selector{display:inline-block;vertical-align:top;margin:5px;}",".label.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;height:30px;padding:0 9px;border:1px solid ".concat(L.a.confusingGray,";border-radius:5px;}")]))}(t,n,r))}),f.a.createElement(P.a,{id:"2078429903"},[".labels.jsx-2078429903{margin-top:12px;}"])):null}}])&&zf(n.prototype,r),o&&zf(n,o),t}();function Yf(e){return(Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zf(e,t){return!t||"object"!==Yf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zf(this,Xf(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.relatedBookIds,n=e.relatedOpenCollections,r=void 0===n?[]:n,o=e.relatedCategories,a=void 0===o?[]:o,i=e.onLoadRelatedBooks,c=e.relatedBooksLoadStatus,l=0===t.length&&"initial"!==c,s=0===r.length,u=0===a.length;return l&&s&&u?null:f.a.createElement(Cc,{style:{paddingLeft:0,paddingRight:0}},f.a.createElement(Ps,null,"相关推荐"),f.a.createElement(qf,{relatedOpenCollections:r,relatedCategories:a}),f.a.createElement(Df,{bookIds:t,loader:i,loadStatus:c}))}}])&&Qf(n.prototype,r),o&&Qf(n,o),t}(),ep=Object(a.b)(function(e,t){var n=t.bookId,r=e.entities,o=Object(Pe.c)(r,n),a=Object(wf.c)(e,n),i=o||{};return{relatedBookIds:Object(wf.b)(e,n),relatedOpenCollections:i.relatedOpenCollections,relatedCategories:i.relatedCategories,relatedBooksLoadStatus:a}},function(e,t){var n=t.bookId;return{onLoadRelatedBooks:function(t){return e(Of(t,{id:n}))}}})($f);function tp(){return(tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var np=function(e){return f.a.createElement("svg",tp({width:"21.5px",height:"11px",viewBox:"0 0 43 22",version:"1.1"},e),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(-523.000000, -616.000000)"},f.a.createElement("path",{d:"M544.5,616 C544.5,629.453613 561.976562,638.038818 566,638 L523,638 C527.013428,638 544.5,629.447266 544.5,616 Z"}))))};function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e){return(ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lp(e,t){return(lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){up(e,t,n[t])})}return e}function up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fp={useCapture:!0,activePropName:""};O.h&&(document.body.style.cursor="pointer");var pp=function(e){return function(t){var n=sp({},fp,e);return function(e){function r(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(o=ip(r).call(this,e))||"object"!==rp(o)&&"function"!=typeof o?cp(n):o).handleClick=t.handleClick.bind(cp(t)),t.getRef=t.getRef.bind(cp(t)),t}var o,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lp(e,t)}(r,u.PureComponent),o=r,(a=[{key:"getRef",value:function(e){this.instance=e,this.node=Object(p.findDOMNode)(this.instance)}},{key:"handleClick",value:function(e){this.node&&!this.node.contains(e.target)&&this.instance&&"function"==typeof this.instance.handleClickAway&&this.instance.handleClickAway(e)}},{key:"componentDidMount",value:function(){var e=n.activePropName;(!e||e&&this.props[e])&&this.bindEvent()}},{key:"componentDidUpdate",value:function(e){var t=n.activePropName;if(t){var r=this.props[t],o=e[t];o&&!r?this.unbindEvent():!o&&r&&this.bindEvent()}}},{key:"componentWillUnmount",value:function(){this.unbindEvent()}},{key:"bindEvent",value:function(){document.addEventListener("click",this.handleClick,n.useCapture)}},{key:"unbindEvent",value:function(){document.removeEventListener("click",this.handleClick,n.useCapture)}},{key:"render",value:function(){var e=this.props,n=(e.children,op(e,["children"]));return Object(u.createElement)(t,sp({},n,{ref:this.getRef}),this.props.children)}}])&&ap(o.prototype,a),i&&ap(o,i),r}()}};function dp(e){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yp(e,t,n[t])})}return e}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vp(e,t){return(vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xp={position:"absolute",top:-11,zIndex:30},wp="POPOVER_ALIGN_CENTER",Op="POPOVER_ALIGN_LEFT",Ep="POPOVER_ALIGN_RIGHT",jp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=hp(t).call(this,e))||"object"!==dp(o)&&"function"!=typeof o?gp(r):o).node=null,n.popoverBasicStyle=null,n.getRef=n.getRef.bind(gp(n)),n.handleClickAway=n.handleClickAway.bind(gp(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vp(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.popoverBasicStyle={top:this.node.offsetHeight+11}}},{key:"getRef",value:function(e){this.node=e}},{key:"handleClickAway",value:function(e){var t=this.props,n=t.onClose,r=t.useMask;"function"==typeof n&&(r&&(e.preventDefault(),e.stopPropagation()),n())}},{key:"render",value:function(){var e,t,n=this.props,r=n.children,o=n.show,a=n.content,i=n.align,c=n.style,l=n.clickOnPopover,s=n.popoverStyle,u=n.triangleStyle;return i===wp&&(e={left:"50%",transform:"translateX(-50%)"},t={left:"50%",transform:"translateX(-50%)"}),i===Op&&(e={left:"6px"},t={left:"50%",transform:"translateX(".concat(-17,"px)")}),i===Ep&&(e={right:"6px"},t={right:"50%",transform:"translateX(".concat(17,"px)")}),f.a.createElement("div",{ref:this.getRef,style:c,className:"jsx-1859837127 popover-wrap"},r,o&&f.a.createElement("div",{style:mp({},this.popoverBasicStyle,t,s),onClick:l,className:"jsx-1859837127 popover"},f.a.createElement(np,{style:mp({},xp,e,u),height:12,fill:"#fff"}),a),f.a.createElement(P.a,{id:"1859837127"},[".popover-wrap.jsx-1859837127{position:relative;}",".popover.jsx-1859837127{position:absolute;top:0;z-index:1;border-radius:6px;background-color:#fff;box-shadow:0 0 12px 0 rgba(0,0,0,0.2);}"]))}}])&&bp(n.prototype,r),o&&bp(n,o),t}();jp.defaultProps={align:wp};var kp=pp({activePropName:"show"})(jp);function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cp(e,t){return!t||"object"!==_p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pp(e){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ip(e,t){return(Ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cp(this,Pp(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ip(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.inPopover,n=e.type,r=e.trader,o=void 0===r?{}:r,a=e.name,i=e.avatarSmall,c=o.isAnonymous,l=o.isFree,s=o.reviewedTime,u=o.deliveryTime,p=o.user,d="/users/".concat(p),m=i,y=a;c&&(d=null,m=tr,y="匿名用户");var b="sellers"===n?s:u;return t?f.a.createElement(ma.a,{to:d},f.a.createElement("div",{className:P.a.dynamic([["733188324",[L.a.font]]])+" trader"},!c&&f.a.createElement(Zt.a,{small:!0,url:m,style:{marginRight:"5px"}}),f.a.createElement(fe.a,null,function(e,t){var n=e?"领走了":"买走了";return t?"被匿名".concat(n):n}(l,c)),l&&f.a.createElement(rc,{small:!0,gray:!0,style:{marginLeft:"5px"}})),f.a.createElement(P.a,{id:"733188324",dynamic:[L.a.font]},[".trader.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(L.a.font,";font-size:13px;}")])):f.a.createElement("div",{className:P.a.dynamic([["2667336490",[L.a.gray,L.a.lighterFont]]])+" item"},f.a.createElement(ma.a,{to:d},f.a.createElement("div",{className:P.a.dynamic([["2667336490",[L.a.gray,L.a.lighterFont]]])+" trader"},f.a.createElement("div",{className:P.a.dynamic([["2667336490",[L.a.gray,L.a.lighterFont]]])+" image"},f.a.createElement(Zt.a,{large:!0,url:m})),f.a.createElement("div",{className:P.a.dynamic([["2667336490",[L.a.gray,L.a.lighterFont]]])+" name"},y),f.a.createElement("div",{className:P.a.dynamic([["2667336490",[L.a.gray,L.a.lighterFont]]])+" detail"},f.a.createElement(be,{relative:!0,value:b||""}),f.a.createElement(fe.a,{padStart:!0},function(e,t){var n="卖了",r="买了";return e&&(n="free 卖了",r="free 领走"),"sellers"===t?n:r}(l,n))))),f.a.createElement(P.a,{id:"2667336490",dynamic:[L.a.gray,L.a.lighterFont]},[".item.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".trader.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;}",".image.__jsx-style-dynamic-selector{margin-right:8px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".name.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}",".detail.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";font-size:14px;margin-left:8px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}")]))}}])&&Sp(n.prototype,r),o&&Sp(n,o),t}(),Np=Object(a.b)(function(e,t){var n=t.traderId,r=e.entities,o=Object(Pe.D)(r,n),a=(o||{}).user,i=Object(Pe.F)(r,a)||{};return{trader:o,name:i.name,avatarSmall:i.avatarSmall}})(Tp);function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ap(e){return(Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bp(e,t){return(Bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ap(t).call(this,e))||"object"!==Rp(o)&&"function"!=typeof o?Fp(r):o).state={showPutawayTip:!1},n.togglePutawayTip=n.togglePutawayTip.bind(Fp(n)),n.hidePutawayTip=n.hidePutawayTip.bind(Fp(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bp(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"togglePutawayTip",value:function(){this.setState({showPutawayTip:!this.state.showPutawayTip})}},{key:"hidePutawayTip",value:function(){this.setState({showPutawayTip:!1})}},{key:"renderPopover",value:function(){var e=this.state.showPutawayTip,t=this.props.relationship||{},n=t.type,r=t.status,o=t.buyer;if("sell"!==n||!r)return null;return f.a.createElement(kp,{show:e,align:wp,content:f.a.createElement("div",{className:P.a.dynamic([["4235700079",[L.a.font]]])+" popover-content"},"sold"===r?f.a.createElement(Np,{inPopover:!0,traderId:o}):Object(Do.a)(r),f.a.createElement(P.a,{id:"4235700079",dynamic:[L.a.font]},[".popover-content.__jsx-style-dynamic-selector{font-size:13px;padding:9px;min-width:80px;white-space:nowrap;text-align:center;color:".concat(L.a.font,";}")])),style:{marginTop:"-1px"},onClose:this.hidePutawayTip},f.a.createElement(ae,{size:13,onClick:this.togglePutawayTip}))}},{key:"render",value:function(){var e=this.props,t=e.currentUserId,n=e.relationship;if(!t||!n)return null;var r=n.type,o=n.isFree,a=void 0!==o&&o,i=n.reviewedTime,c=void 0===i?"":i,l=n.owningTime,s="sell"===r?"卖":"买",u="sell"===r?c:void 0===l?"":l;return f.a.createElement(Cc,{bordered:!0,plain:!0},f.a.createElement("div",{className:P.a.dynamic([["1069688590",[L.a.lighterFont]]])+" relation-wrap"},f.a.createElement(rr,{small:!0,userId:t}),f.a.createElement("div",{className:P.a.dynamic([["1069688590",[L.a.lighterFont]]])+" content"},"你".concat(s,"过这本书")),a&&f.a.createElement(rc,{small:!0,gray:!0,style:{marginRight:"10px"}}),this.renderPopover(),f.a.createElement("span",{className:P.a.dynamic([["1069688590",[L.a.lighterFont]]])+" holder"}),f.a.createElement(be,{relative:!0,value:u})),f.a.createElement(P.a,{id:"1069688590",dynamic:[L.a.lighterFont]},[".relation-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(L.a.lighterFont,";font-size:13px;padding-left:1px;margin:-4px 0;}"),".content.__jsx-style-dynamic-selector{margin:0 8px;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))}}])&&Lp(n.prototype,r),o&&Lp(n,o),t}(),Mp=Object(a.b)(function(e,t){var n=t.bookId,r=e.session,o=e.entities;return{currentUserId:Object(R.d)(r).id,relationship:(Object(Pe.c)(o,n).virtuals||{}).relationship}})(Dp);function Up(e){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e,t){return!t||"object"!==Up(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hp(e){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gp(this,Hp(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wp(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.bookId,n=e.stock,r=e.latestSellers,o=e.sellersCount,a=e.ownersCount,i=e.latestOwners,c=e.latestOwnerName,l=r,s=o,u="卖过这本书",p="sellers",d=e.latestSellerName;if(n||(l=i,s=a,u="买过这本书",p="buyers",d=c),!s)return null;var m=l,y=d;return s>0&&0===l.length&&(m=[""],y="匿名用户"),f.a.createElement(Cc,null,f.a.createElement(ma.a,{to:"/books/".concat(t,"/").concat(p)},f.a.createElement("div",{className:"jsx-3518309155 root"},f.a.createElement("div",{className:"jsx-3518309155 avatars"},f.a.createElement(sr,{limit:3,userIds:m})),f.a.createElement("div",{className:"jsx-3518309155 content"},f.a.createElement(fe.a,{limit:!0,autoPadding:!0},y),s>1&&f.a.createElement("span",{className:"jsx-3518309155"},"等",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},s),"人"),u),f.a.createElement(qn.a,{stroke:L.a.darkGray}))),f.a.createElement(P.a,{id:"3518309155"},[".root.jsx-3518309155{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".content.jsx-3518309155{-webkit-flex:1;-ms-flex:1;flex:1;}",".avatars.jsx-3518309155{margin-right:10px;}"]))}}])&&zp(n.prototype,r),o&&zp(n,o),t}(),Kp=Object(a.b)(function(e,t){var n=t.bookId,r=e.entities,o=Object(Pe.c)(r,n),a=o.stock,i=o.sellersCount,c=o.ownersCount,l=o.latestSellers,s=void 0===l?[]:l,u=o.latestOwners,f=void 0===u?[]:u;return{stock:a,latestSellers:s,sellersCount:i,ownersCount:c,latestOwners:f,latestOwnerName:(Object(Pe.F)(r,f[0])||{}).name,latestSellerName:(Object(Pe.F)(r,s[0])||{}).name}})(Vp),qp=n("59kf"),Yp=Object(Mc.j)({selector:function(e){return e.multiVersionBooks},url:function(e){var t=e.id;return"/books/".concat(t,"/multi-versions")},types:[Uo.sd,Uo.td,Uo.rd],schema:Ve.a.books});function Qp(){return(Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xp=function(e){var t=e.goods,n=e.price,r=e.style,o=Zp(e,["goods","price","style"]),a=Object(Do.n)(t),i=Object(Do.c)(t,n),c=Object(Do.o)(t);return a?f.a.createElement(rc,{style:r}):f.a.createElement(Mo.a,Qp({sign:!0,medium:!0,normal:!0,style:r,n:i,suffix:c},o))};n("rW0H");function Jp(){return(Jp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ed(e,t,n[t])})}return e}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var nd=function(e){var t=e.className,n=e.height,r=e.domRef,o=e.children,a=e.listStyle,i=td(e,["className","height","domRef","children","listStyle"]);return f.a.createElement("div",Jp({className:N()("HorizontalScroll",t),style:n?{height:n}:null},i),f.a.createElement("ul",{className:"HorizontalScroll-list",style:$p({position:"relative"},a),ref:r},o))},rd=function(e){return f.a.createElement(Nf,{key:e,id:e},function(e){var t=e.id,n=e.images,r=e.stock,o=e.price,a=e.goods;return f.a.createElement("div",{className:"jsx-3556622600 isbn-book"},f.a.createElement(M.a,{to:"/books/".concat(t)},f.a.createElement(Ga.a,{slim:!0,fixHeight:!0,responsive:!0,shadowed:!0,bottomLabel:!0,images:n,inStock:r}),f.a.createElement("div",{className:"jsx-3556622600 isbn-price"},f.a.createElement(Xp,{price:o,goods:a,style:{fontSize:"13px"}}))),f.a.createElement(P.a,{id:"3556622600"},[".isbn-book.jsx-3556622600{display:inline-block;vertical-align:top;margin:8px;}",".isbn-book.jsx-3556622600:first-child{margin-left:15px;}",".isbn-book.jsx-3556622600:last-child{margin-right:15px;}",".isbn-price.jsx-3556622600{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:8px 0;}"]))})},od=function(e){var t=e.children;return f.a.createElement("div",{className:"jsx-1479964459 isbn-container"},f.a.createElement(nd,{height:160},t),f.a.createElement(P.a,{id:"1479964459"},[".isbn-container.jsx-1479964459{margin:10px -15px;}"]))},ad=function(e){var t=e.bookIds,n=e.loadStatus,r=e.loader;return f.a.createElement(Ut.a,{noFooter:!0,loadStatus:n,loader:r,items:t,renderItem:rd,contentContainer:od})};function id(e){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fd=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=ld(t).call(this))||"object"!==id(r)&&"function"!=typeof r?sd(n):r).state={showVersionTip:!1},e.toggleVersionTip=e.toggleVersionTip.bind(sd(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ud(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleVersionTip",value:function(){this.setState({showVersionTip:!this.state.showVersionTip})}},{key:"renderVersionTip",value:function(){return this.state.showVersionTip?f.a.createElement(ie.a,{onClose:this.toggleVersionTip},f.a.createElement("div",{className:P.a.dynamic([["3629127750",[L.a.lighterFont]]])+" version-tip"},f.a.createElement("h2",{className:P.a.dynamic([["3629127750",[L.a.lighterFont]]])+" title"},"什么是其他版本？"),f.a.createElement("div",{className:P.a.dynamic([["3629127750",[L.a.lighterFont]]])+" content"},"由于这本书被同一出版社多次出版，不同版本对定价、封面、装帧等信息有一些调整，但是书的内容是大致相同的。"),f.a.createElement("div",{className:P.a.dynamic([["3629127750",[L.a.lighterFont]]])+" content hint"},"极少情况下会出现出版社使用同一 ISBN 出版不同书籍，导致书名和内容不一样。")),f.a.createElement(P.a,{id:"3629127750",dynamic:[L.a.lighterFont]},[".version-tip.__jsx-style-dynamic-selector{padding:24px;font-weight:normal;}",".title.__jsx-style-dynamic-selector{padding:8px 0 16px 0;font-size:18px;font-weight:500;text-align:center;}",".content.__jsx-style-dynamic-selector{font-size:14px;text-align:left;line-height:normal;}",".content.hint.__jsx-style-dynamic-selector{font-size:12px;color:".concat(L.a.lighterFont,";margin-top:10px;}")])):null}},{key:"render",value:function(){var e=this.props,t=e.multiVersionBookIds,n=e.multiVersionBooksLoadStatus,r=e.onLoadMultiVersionBooks;return 0===t.length&&"initial"!==n?null:f.a.createElement(Cc,{style:{padding:"0 0 10px"}},f.a.createElement(Ps,null,"其他版本",f.a.createElement("span",{className:"jsx-1451491517 btn-wrap"},f.a.createElement(ae,{size:18,onClick:this.toggleVersionTip}),f.a.createElement(P.a,{id:"1451491517"},[".btn-wrap.jsx-1451491517{font-size:13px;margin-left:8px;}"]))),this.renderVersionTip(),f.a.createElement(ad,{bookIds:t,loader:r,loadStatus:n}))}}])&&cd(n.prototype,r),o&&cd(n,o),t}(),pd=Object(a.b)(function(e,t){var n=t.bookId;return{multiVersionBookIds:Object(qp.b)(e,n),multiVersionBooksLoadStatus:Object(qp.c)(e,n)}},function(e,t){var n=t.bookId;return{onLoadMultiVersionBooks:function(t){return e(Yp(t,{id:n}))}}})(fd);function dd(e){return(dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(e){return(yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e,t){return(hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gd=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yd(t).call(this,e))||"object"!==dd(o)&&"function"!=typeof o?bd(r):o).state={showOutOfStockTip:!0},n.hideOutOfStockTip=n.hideOutOfStockTip.bind(bd(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hd(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.load(e)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.book,n=e.fromWishList;if(t){var r=t.stock,o=t.virtuals;r&&(void 0===o?{}:o).cartBook&&n&&Object(A.a)().replace("/cart")}}},{key:"scrollTopIfNecessary",value:function(e){(e||this.props).shouldLoad&&window.scrollTo(0,0)}},{key:"load",value:function(e){var t=e||this.props,n=t.onLoad,r=t.location.search;n(Object(Mt.a)(r).from),this.scrollTopIfNecessary(e)}},{key:"hideOutOfStockTip",value:function(){this.setState({showOutOfStockTip:!1})}},{key:"renderOutOfStockTip",value:function(){var e=this.props,t=e.wishBookId,n=e.book,r=e.fromWishList,o=null;if(this.state.showOutOfStockTip&&n&&r){var a=this.props.book,i=a.stock,c=a.lastNoStockTime;!i&&c&&(o=f.a.createElement("span",null,"来晚一步，",f.a.createElement(be,{value:c,relative:!0,noStartPadding:!0}),"被人买走了"))}return f.a.createElement(hc.a,{info:!0,timeout:2e3,autoHide:!!t,onClose:this.hideOutOfStockTip},o)}},{key:"renderWishBookOtherVersionTip",value:function(){var e=this.props.wishBookId;return e?f.a.createElement("div",{className:"jsx-3888210366 Version-tip"},f.a.createElement("div",{className:"jsx-3888210366 wrap"},f.a.createElement(ma.a,{to:"/books/".concat(e),style:{display:"block",width:"100%",textAlign:"center"}},"你标记过到货提醒的版本"),f.a.createElement(qn.a,null)),f.a.createElement(P.a,{id:"3888210366"},[".Version-tip.jsx-3888210366{position:fixed;z-index:8;right:0;left:0;top:0;max-width:600px;margin:0 auto;}",".wrap.jsx-3888210366{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;height:36px;padding-right:10px;line-height:36px;color:#fff;font-size:15px;font-weight:400;background:rgba(51,51,51,0.92);box-shadow:0 1px 4px rgba(0,0,0,0.1);}"])):null}},{key:"renderWechatShare",value:function(){var e=this.props,t=e.location,n=e.book;if(!n)return null;var r=n.title,o=n.images,a=n.goods,i=n.price,c=n.originalPrice,l=Object(Do.c)(a,i),s=Object(Mo.b)(l,!0,2),u=Object(Do.h)(l,c,!0),p="多抓鱼-轻松买卖二手书的循环商店";return Boolean(l)&&(p="这本二手书在多抓鱼卖".concat(s)),""!==u&&(p="".concat(p,"（").concat(u,"）")),f.a.createElement(Bc.a,{link:t.pathname,title:r,imgUrl:o.small,desc:p})}},{key:"render",value:function(){var e=this.props,t=e.book,n=e.loadStatus,r=null;if("notFound"===n)return f.a.createElement(gc.a,null);if(t||"loading"===n&&(r=f.a.createElement(se,{empty:!0,loading:!0},f.a.createElement(ue.a,null))),t){var o=this.props,a=o.book,i=a.id,c=a.stock,l=a.summary,s=a.catalog,u=a.authorIntro,p=a.virtuals,d=o.target,m=p||{},y=m.cartBook,b=m.rating;r=f.a.createElement("div",{className:P.a.dynamic([["4180416431",[L.c.navHeight]]])+" root"},f.a.createElement(ue.a,{title:this.pageTitle,withSuffix:!0}),f.a.createElement(kc,{bookId:i,meta:Object(Do.j)(t)}),f.a.createElement(Fc.a,null),this.renderWishBookOtherVersionTip(),this.renderWechatShare(),f.a.createElement(Hu,{book:t,cartBook:y}),f.a.createElement("div",{className:P.a.dynamic([["4180416431",[L.c.navHeight]]])+" main"},f.a.createElement(Kp,{bookId:i}),f.a.createElement(Mp,{bookId:i}),f.a.createElement(Cc,{bordered:!0,plain:!0},f.a.createElement(Dc,{item:t}),f.a.createElement(nf,{book:t,cartBook:y}),f.a.createElement(Qu,{book:t,cartBook:y})),f.a.createElement(xf,{bookId:i}),f.a.createElement(Ac,{to:"/support/book-service",text:"多抓鱼自营 ‧ 正版保证 ‧ 消毒翻新"}),f.a.createElement(Cc,{bordered:!0,plain:!0},f.a.createElement(ju,{bookId:i,currentUserRating:b,target:d}),(l||s||u)&&f.a.createElement(Ru,{summary:l,catalog:s,authorIntro:u}),f.a.createElement(pd,{bookId:i}),f.a.createElement(ep,{bookId:i})),f.a.createElement(ds,{book:t,inStock:c,cartBook:y}),f.a.createElement(bc,null)),f.a.createElement(Hi,null),f.a.createElement(P.a,{id:"4180416431",dynamic:[L.c.navHeight]},[".root.__jsx-style-dynamic-selector{padding-bottom:".concat(L.c.navHeight,";min-height:100vh;}"),".main.__jsx-style-dynamic-selector{padding:18px 0;background:#fff;}"]))}return f.a.createElement("div",{className:"Book-wrap"},r,this.renderOutOfStockTip())}},{key:"pageTitle",get:function(){var e=this.props.book;if(O.f)return e.title}}])&&md(n.prototype,r),o&&md(n,o),t}(),vd=Object(a.b)(function(e,t){var n=t.match,r=t.history,o=t.location,a=e.entities,i=n.params.id,c=o.search,l=Object(Mt.a)(c),s=l.from,u=l.wish_book_id,f=l.target;return{id:i,wishBookId:u,book:Object(Pe.c)(a,i),shouldLoad:"POP"!==r.action,loadStatus:Object(Pe.d)(a,i),fromWishList:"wishlist"===s,target:f}},function(e,t){var n=t.match.params.id;return{onLoad:function(t){var r;t&&(r={from:t}),e(Ho(n,r))},onAdd:function(t){return e(Object(Vo.b)(t))}}})(gd),xd=n("mf+E"),wd=n("uNOt");n("D+1+");function Od(){return(Od=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ed(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var jd=function(e){var t=e.even,n=e.className,r=Ed(e,["even","className"]);return f.a.createElement("div",Od({className:N()("Navigation",n,{"Navigation--even":t})},r))},kd=function(e){var t=e.noLink,n=e.active,r=e.className,o=e.children,a=Ed(e,["noLink","active","className","children"]),i=t?"nav":wd.a,c=t?{}:{activeClassName:"is-active"};return f.a.createElement(i,Od({className:N()("Navigation-item",r,{"is-active":n})},c,a),f.a.createElement("span",{className:"Navigation-inner"},o))};n("zmxY");function _d(e){return(_d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cd(e,t,n[t])})}return e}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Id(e){return(Id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nd(e,t){return(Nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rd=["display","margin"],Ld=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Id(t).call(this,e))||"object"!==_d(o)&&"function"!=typeof o?Td(r):o).state={position:null},n.el=null,n.placeholder=null,n.shouldFix=n.shouldFix.bind(Td(n)),n.adjustWidth=n.adjustWidth.bind(Td(n)),n.forceSticky=n.forceSticky.bind(Td(n)),n.resetSticky=n.resetSticky.bind(Td(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nd(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=window.getComputedStyle(this.el);this.keyStyle=Rd.reduce(function(t,n){return Sd({},t,Cd({},n,e[[n]]))},{}),window.addEventListener("scroll",this.shouldFix),window.addEventListener("resize",this.adjustWidth),this.shouldFix()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e||this.state.position!==t.position}},{key:"componentWillUpdate",value:function(e,t){if(this.state.position!==t.position){var n=null,r=null;if(t.position){var o=this.rect.height;if(n={},r=Sd({},this.keyStyle,{height:o}),t.position){var a=this.rect.width;if(n.width=a,"fixed"===t.position){var i=this.props,c=i.offset,l=void 0===c?0:c;n[i.bottom?"bottom":"top"]="".concat(l,"px")}}}this.style=n,this.placeholderStyle=r}}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.animate&&this.state.position&&!t.position){var r=this.props.animate();r&&setTimeout(function(){n.placeholderStyle=Sd({},n.placeholderStyle,r),n.forceUpdate()},17)}this.state.position!==t.position&&"function"==typeof this.props.onChange&&this.props.onChange(this.state.position)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.shouldFix),window.removeEventListener("resize",this.adjustWidth)}},{key:"forceSticky",value:function(){this.state.position||this.setScrollTop()}},{key:"resetSticky",value:function(){this.state.position&&this.setScrollTop()}},{key:"setScrollTop",value:function(){var e=this.el.getBoundingClientRect().top;Object(w.f)(Object(w.b)()+e)}},{key:"shouldFix",value:function(){var e=this,t=this.props,n=t.offset,r=void 0===n?0:n,o=t.bottom,a=t.container,i=(this.placeholder||this.el).getBoundingClientRect();if(this.rect=i,o){var c=i.bottom,l=window.innerHeight-r;this.setState(function(){if(c<=l)return{position:null};if(!a)return{position:"fixed"};var t=e.rect.height,n=a().getBoundingClientRect().top;return n<l-t?{position:"fixed"}:n<l?{position:"absolute"}:{position:null}})}else this.setState(function(){if(i.top>=r)return{position:null};if(!a)return{position:"fixed"};var t=e.rect.height,n=a().getBoundingClientRect().bottom;return n>t+r?{position:"fixed"}:n>r?{position:"absolute"}:{position:null}})}},{key:"adjustWidth",value:function(){if(this.state.position){var e=this.placeholder.getBoundingClientRect().width;this.style=Sd({},this.style,{width:e}),this.forceUpdate()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.bottom,r=t.className,o=t.children,a=this.state.position,i={sticky:!!a,forceSticky:this.forceSticky,resetSticky:this.resetSticky},c="function"==typeof o?o(i):u.Children.only(o);return f.a.createElement("div",{ref:function(t){e.el=t}},f.a.createElement("div",{className:N()("Sticky",a&&"is-".concat(a),n&&"is-bottom"),style:this.style},c),a&&f.a.createElement("div",{ref:function(t){e.placeholder=t},className:N()("Sticky--holder",r),style:this.placeholderStyle}))}}])&&Pd(n.prototype,r),o&&Pd(n,o),t}(),Ad=n("9At1"),Fd=n("Qcau");function Bd(e){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hd=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ud(t).call(this,e))||"object"!==Bd(o)&&"function"!=typeof o?zd(r):o).toRatePage=n.toRatePage.bind(zd(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gd(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toRatePage",value:function(e){var t=this.props,n=t.type,r=t.item,o=r.book,a=r.hasRated,i=r.contribId,c={bookId:o.id,source:n},l=Object(Mt.b)(a?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dd(e,t,n[t])})}return e}({},c,{contribId:i}):c);e.preventDefault(),e.stopPropagation(),Object(A.a)().push("/book/rating?".concat(l))}},{key:"render",value:function(){var e=this.props.item,t=e.status,n=e.seller,r=e.buyer,o=e.book,a=e.hasRated,i=e.rating,c=e.messageId,l=n||r||{},s=l.id,u=l.name,p=l.avatarSmall,d=s||"sold"===t,m="sold"===t&&!s,y=f.a.createElement(ma.a,{to:m?null:r&&c?"/messages/".concat(c):"/users/".concat(s)},f.a.createElement("div",{className:P.a.dynamic([["885003599",[L.a.lighterFont]]])+" user"},f.a.createElement("span",{className:P.a.dynamic([["885003599",[L.a.lighterFont]]])+" avatar"},f.a.createElement(Zt.a,{url:p||tr})),f.a.createElement("div",{className:P.a.dynamic([["885003599",[L.a.lighterFont]]])+" name"},u||"匿名用户"),f.a.createElement("div",{className:P.a.dynamic([["885003599",[L.a.lighterFont]]])+" tip"},n?"前主人":"买走了"),f.a.createElement(P.a,{id:"885003599",dynamic:[L.a.lighterFont]},[".user.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".avatar.__jsx-style-dynamic-selector{margin-bottom:4px;}",".name.__jsx-style-dynamic-selector{max-width:85px;margin-bottom:4px;font-size:12px;line-height:12px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}",".tip.__jsx-style-dynamic-selector{font-size:11px;color:".concat(L.a.lighterFont,";}")])));return f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" User-book-item"},f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" book"},f.a.createElement(ma.a,{to:"/books/".concat(o.id)},f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" book-wrap"},f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" book-image"},f.a.createElement(Ga.a,{mini:!0,inStock:!0,fixHeight:!0,alt:o.title,images:o.images,style:{backgroundColor:L.a.gray}})),f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" book-content"},f.a.createElement("h3",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" title"},o.title),f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" author"},o.rawAuthor),f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" book-rating"},f.a.createElement(Cs,{hasRated:a,userRating:i,onClick:this.toRatePage})))))),f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" desc"},f.a.createElement("div",{className:P.a.dynamic([["1254643044",[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]]])+" "+(N()("desc-wrap",{selling:"putaway"===t})||"")},d?y:Object(Do.a)(t))),f.a.createElement(P.a,{id:"1254643044",dynamic:[L.a.gray,L.a.gray,L.a.lighterFont,L.a.primary,L.a.lightFont,L.a.emphasis]},[".User-book-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".book.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;margin:18px 0;border-right:0.5px solid ".concat(L.a.gray,";}"),".book-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".book-image.__jsx-style-dynamic-selector{margin-left:5%;}",".book-content.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;margin-left:4%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".author.__jsx-style-dynamic-selector{font-size:12px;color:".concat(L.a.lighterFont,";}"),".title.__jsx-style-dynamic-selector{word-break:break-word;}",".book-content .book-rating{font-size:12px;color:".concat(L.a.primary,";-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}"),".desc.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:95px;max-width:95px;color:".concat(L.a.lightFont,";}"),".desc-wrap.__jsx-style-dynamic-selector{width:100%;text-align:center;}",".desc-wrap.selling.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}")]))}}])&&Md(n.prototype,r),o&&Md(n,o),t}(),Wd=function(e){var t=e.type,n=e.booksCount,r=e.soldOutRate,o=e.costSavings,a=e.cost,i=e.income;return f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" User-book-stats"},f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" wrap"},f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" count"},f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" number"},n),f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" text"},"共","sell"===t?"卖":"买","书")),"sell"===t?f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" detail"},f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" item"},f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" text"},"售出率"),f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" number"},(100*r).toFixed(),"%")),f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" split"}),f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" item"},f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" text"},"收入"),f.a.createElement(Mo.a,{large:!0,numberFont:!0,n:i}))):f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" detail"},f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" item"},f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" text"},"总花费"),f.a.createElement(Mo.a,{large:!0,numberFont:!0,n:a})),f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" split"}),f.a.createElement("div",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" item"},f.a.createElement("span",{className:P.a.dynamic([["3582652427",[L.a.gray,L.b.number]]])+" text"},"比原价省"),f.a.createElement(Mo.a,{large:!0,numberFont:!0,n:o})))),f.a.createElement(P.a,{id:"3582652427",dynamic:[L.a.gray,L.b.number]},[".wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:24px 0 20px 0;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".count.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:106px;height:106px;background:#faf8f3;border-radius:50%;}",".count.__jsx-style-dynamic-selector .number.__jsx-style-dynamic-selector{margin-top:20px;line-height:44px;font-size:44px;}",".count.__jsx-style-dynamic-selector .text.__jsx-style-dynamic-selector{font-size:14px;}",".number.__jsx-style-dynamic-selector{font-size:18px;font-family:".concat(L.b.number,";}"),".detail.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:18px;font-size:14px;}",".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:25px;}",".item.__jsx-style-dynamic-selector .text.__jsx-style-dynamic-selector{margin-right:4px;}",".split.__jsx-style-dynamic-selector{display:block;margin:0 10px;border:1px solid #333;border-radius:50%;}",".alert-icon.__jsx-style-dynamic-selector{margin-left:4px;line-height:15px;vertical-align:top;}"]))};function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kd(){return(Kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yd(e,t){return!t||"object"!==Vd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qd(e){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zd(e,t){return(Zd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yd(this,Qd(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zd(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r(!0)}},{key:"render",value:function(){var e=this.props,t=e.meta,n=e.loadStatus,r=e.items,o=e.onLoad;if("initial"===n||"loading"===n&&!r.length)return f.a.createElement(At.a,{even:!0,style:{marginTop:"10px"}},f.a.createElement(q.a,null));var a=null;return r.length||(a=f.a.createElement("div",{className:"jsx-761801351 nocontent"},"还没有卖书记录，去扫书卖书吧",f.a.createElement(P.a,{id:"761801351"},[".nocontent.jsx-761801351{text-align:center;margin-top:100px;}"]))),f.a.createElement("div",{className:"jsx-3159681765 Sold-book-list"},f.a.createElement(ue.a,{title:"买卖的书"}),a||f.a.createElement("div",{className:"jsx-3159681765 content"},f.a.createElement(Wd,Kd({type:"sell"},t)),f.a.createElement(ne,{isLoading:"loading"===n,isDrained:"drained"===n,isErrored:"failed"===n,onLoad:o,items:r,renderItem:function(e,t){return f.a.createElement(Hd,{key:t,item:e,type:"sold"})},renderEmptyContent:function(){return"还没有卖过书"},style:{marginBottom:"92px"}})),f.a.createElement(G,null),f.a.createElement(P.a,{id:"3159681765"},[".Sold-book-list.jsx-3159681765{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#fff;}"]))}}])&&qd(n.prototype,r),o&&qd(n,o),t}(),Jd=Object(a.b)(function(e,t){var n=t.history,r="user-sold";return{meta:Object(Fd.d)(e.bookLists,r),loadStatus:Object(Fd.c)(e.bookLists,r),shouldLoad:"POP"!==n.action,items:Object(F.X)(e,r)}},function(e){return{onLoad:function(t){return e(Object(Ad.j)(t))}}})(Xd);function $d(e){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(e,t){return!t||"object"!==$d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rm(e){return(rm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function om(e,t){return(om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var am=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nm(this,rm(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r(!0)}},{key:"render",value:function(){var e=this.props,t=e.meta,n=e.loadStatus,r=e.items,o=e.onLoad;if("initial"===n||"loading"===n&&!r.length)return f.a.createElement(At.a,{even:!0,style:{marginTop:"10px"}},f.a.createElement(q.a,null));var a=null;return r.length||(a=f.a.createElement("div",{className:"jsx-761801351 nocontent"},"还没有买书记录，去逛逛首页吧",f.a.createElement(P.a,{id:"761801351"},[".nocontent.jsx-761801351{text-align:center;margin-top:100px;}"]))),f.a.createElement("div",{className:"jsx-3929738272 Purchase-book-list"},f.a.createElement(ue.a,{title:"买卖的书"}),a||f.a.createElement("div",{className:"jsx-3929738272 content"},f.a.createElement(Wd,em({type:"purchase"},t)),f.a.createElement(ne,{isLoading:"loading"===n,isDrained:"drained"===n,isErrored:"failed"===n,onLoad:o,items:r,renderItem:function(e,t){return f.a.createElement(Hd,{key:t,item:e,type:"purchased"})},renderEmptyContent:function(){return"还没有买过书"}})),f.a.createElement(G,null),f.a.createElement(P.a,{id:"3929738272"},[".Purchase-book-list.jsx-3929738272{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;background:#fff;}"]))}}])&&tm(n.prototype,r),o&&tm(n,o),t}(),im=Object(a.b)(function(e,t){var n=t.history,r="user-purchased";return{meta:Object(Fd.d)(e.bookLists,r),loadStatus:Object(Fd.c)(e.bookLists,r),items:Object(F.X)(e,r),shouldLoad:"POP"!==n.action}},function(e){return{onLoad:function(t){return e(Object(Qo.d)(t))}}})(am);function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sm(e,t){return!t||"object"!==cm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e,t){return(fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pm(){return f.a.createElement(xd.a,{to:"/user/sold-books"})}var dm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sm(this,um(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fm(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-1528814696 Book-list-page"},f.a.createElement(Ld,null,f.a.createElement(jd,{even:!0},f.a.createElement(kd,{exact:!0,replace:!0,to:"/user/sold-books"},"卖过的书"),f.a.createElement(kd,{exact:!0,replace:!0,to:"/user/purchased-books"},"买过的书"))),f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:"/user/books",component:pm}),f.a.createElement(i.a,{exact:!0,path:"/user/sold-books",component:Jd}),f.a.createElement(i.a,{exact:!0,path:"/user/purchased-books",component:im})),f.a.createElement(P.a,{id:"1528814696"},[".Book-list-page.jsx-1528814696{background-color:#fff;min-height:100vh;}"]))}}])&&lm(n.prototype,r),o&&lm(n,o),t}(),mm=n("3MNX"),ym=["支付书款锁定后不会被人抢购，等凑齐了可在购物车一并结算下单。",["锁定期为 10 天，不可取消。","过期未下单将解除锁定并退还 90% 的书款。","过期前一天我们会发通知提醒你。","买书抵扣券不能用于锁定书。","锁定支付不能使用优惠券。"]],bm={lineHeight:1.8},hm=function(){return f.a.createElement("div",{className:P.a.dynamic([["3822768331",[L.a.font]]])+" root"},f.a.createElement("h1",{className:P.a.dynamic([["3822768331",[L.a.font]]])},"支付锁定功能"),f.a.createElement("p",{className:P.a.dynamic([["3822768331",[L.a.font]]])+" hint"},ym[0]),f.a.createElement(mm.a,{style:bm,items:ym[1]}),f.a.createElement(P.a,{id:"3822768331",dynamic:[L.a.font]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;padding:28px 16px 0;padding-top:28px;background-color:#fff;color:".concat(L.a.font,";}"),"h1.__jsx-style-dynamic-selector{font-size:20px;font-weight:500;line-height:normal;}",".hint.__jsx-style-dynamic-selector{margin:10px 0 14px;font-size:15px;font-weight:300;line-height:1.8;}"]))};function gm(){return(gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vm(){return(vm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xm(){return(xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wm="https://asset.duozhuayu.com/book_quality/",Om=[["liangpin06","liangpin07"],["liangpin08","liangpin09"]],Em=function(){return f.a.createElement("div",{className:"jsx-1890659951 fine-condition-images"},f.a.createElement(gr.a,{ratio:.478,style:{marginBottom:12,backgroundImage:"url(".concat(wm).concat("liangpin_group01",".jpg)"),backgroundSize:"cover",borderRadius:"4px"}}),Om.map(function(e,t){return f.a.createElement("div",{key:"row-".concat(t),className:"jsx-1890659951 fine-row"},e.map(function(e){return f.a.createElement("div",{key:e,className:"jsx-1890659951 fine-item"},f.a.createElement(gr.a,{style:{backgroundImage:"url(".concat(wm).concat(e,".jpg)"),backgroundSize:"cover",borderRadius:"4px"}}))}))}),f.a.createElement(P.a,{id:"1890659951"},[".fine-row.jsx-1890659951{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".fine-item.jsx-1890659951{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:0 13px 13px 0;position:relative;}",".fine-item.jsx-1890659951:last-child{margin-right:0;}"]))},jm=function(e){var t=e.condition,n=void 0===t?"":t,r=e.imgFormat,o=void 0===r?"jpg":r,a=e.images,i=void 0===a?[]:a;return f.a.createElement("div",{className:P.a.dynamic([["2918726693",[L.a.font]]])+" condition-images"},i.map(function(e,t){return f.a.createElement("div",{key:"".concat(n,"-row-").concat(t),className:P.a.dynamic([["2918726693",[L.a.font]]])+" flaw-row"},e.map(function(e){var t=e.id,n=e.name,r=e.format;return f.a.createElement("div",{key:t,className:P.a.dynamic([["2918726693",[L.a.font]]])+" flaw-item"},f.a.createElement(gr.a,{style:{backgroundImage:"url(".concat("https://asset.duozhuayu.com/book_quality/").concat(t,".").concat(r||o,")"),backgroundSize:"cover",borderRadius:"4px"}}),f.a.createElement("p",{className:P.a.dynamic([["2918726693",[L.a.font]]])+" flaw-desc"},n))}))}),f.a.createElement(P.a,{id:"2918726693",dynamic:[L.a.font]},[".flaw-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".flaw-item.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:0 13px 33px 0;position:relative;}",".flaw-item.__jsx-style-dynamic-selector:last-child{margin-right:0;}",".flaw-desc.__jsx-style-dynamic-selector{width:100%;margin-top:2px;position:absolute;top:100%;font-size:12px;font-weight:300;line-height:normal;text-align:center;color:".concat(L.a.font,";}")]))},km=[[{id:"waifengpi",name:"可拆卸外封套缺失"},{id:"jiaodai_biaoqian02",name:"附着胶带或标签",format:"png"}],[{id:"huaxian_biaozhu4",name:"有划线或标注",format:"png"},{id:"huaxian_biaozhu3",name:"有划线或标注"}],[{id:"posun02",name:"轻度磨损或破损"},{id:"posun01",name:"轻度磨损或破损"}],[{id:"mosun02",name:"轻度磨损或破损"},{id:"mosun01",name:"轻度磨损或破损"}],[{id:"meidian01",name:"轻度污渍"},{id:"meidian02",name:"轻度污渍"}],[{id:"wuzi03",name:"轻度污渍"},{id:"wuzi04",name:"轻度污渍"}],[{id:"bianxing03",name:"轻度变形"},{id:"bianxing02",name:"轻度变形"}],[{id:"fanhuang03",name:"泛黄或褪色"},{id:"fanhuang04",name:"泛黄或褪色"}],[{id:"zhehen03",name:"轻度折痕"},{id:"gaizhang",name:"有划线或标注（切口盖章）",format:"png"}]],_m=function(){return f.a.createElement(jm,{condition:"medium",images:km})},Sm=function(e){var t=e.name,n=e.description,r=e.icon,o=e.primary,a=e.secondary,i=e.emphasis;return f.a.createElement("div",{className:P.a.dynamic([["2653624532",[L.a.golden,L.a.primary,L.a.emphasis]]])+" "+(N()("rule-row",{primary:o,secondary:a,emphasis:i})||"")},f.a.createElement("div",{className:P.a.dynamic([["2653624532",[L.a.golden,L.a.primary,L.a.emphasis]]])+" icon"},r),f.a.createElement("div",{className:P.a.dynamic([["2653624532",[L.a.golden,L.a.primary,L.a.emphasis]]])+" content"},f.a.createElement("h2",{className:P.a.dynamic([["2653624532",[L.a.golden,L.a.primary,L.a.emphasis]]])+" name"},t),f.a.createElement("p",{className:P.a.dynamic([["2653624532",[L.a.golden,L.a.primary,L.a.emphasis]]])+" desc"},n)),f.a.createElement(P.a,{id:"2653624532",dynamic:[L.a.golden,L.a.primary,L.a.emphasis]},[".rule-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;margin-top:38px;}",".rule-row.__jsx-style-dynamic-selector:first-child{margin-top:0;}",".rule-row.__jsx-style-dynamic-selector:last-child{margin-bottom:30px;}",".secondary.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{color:".concat(L.a.golden,";}"),".primary.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".emphasis.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}"),".icon.__jsx-style-dynamic-selector{line-height:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;margin-left:14px;margin-top:-2px;}",".desc.__jsx-style-dynamic-selector{font-size:15px;font-weight:300;line-height:1.47;}",".name.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:2px;font-size:15px;font-weight:normal;line-height:1.6;}"]))},Cm=[{secondary:!0,name:"全新",description:"在多抓鱼收到时必须是全新且未拆封的（拆封审核后会重新塑封）",icon:f.a.createElement(function(e){return f.a.createElement("svg",xm({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"45",viewBox:"0 0 40 45"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("path",{fill:"#D6BA8C",fillRule:"nonzero",d:"M33.333 14.445c-3.884 0-7.768-3.88-7.777-7.765v-.013.013c-.01 3.885-3.894 7.765-7.778 7.765 3.889 0 7.778 3.888 7.778 7.777 0-3.889 3.888-7.777 7.777-7.777zm0 10.555c-1.387 0-2.774-1.386-2.777-2.773v-.005.005C30.551 23.614 29.164 25 27.777 25c1.389 0 2.778 1.389 2.778 2.778 0-1.39 1.388-2.778 2.777-2.778z"}),f.a.createElement("path",{stroke:"#D6BA8C",strokeLinecap:"square",strokeWidth:"2.5",d:"M9.444 2.504v40"}),f.a.createElement("rect",{width:"37.5",height:"42.5",x:"1.25",y:"1.25",stroke:"#D6BA8C",strokeWidth:"2.5",rx:"4"})))},null)},{primary:!0,name:"品相良好",description:"有不明显的使用痕迹或瑕疵（扉页/衬页可能存在少量文字或盖章）",icon:f.a.createElement(function(e){return f.a.createElement("svg",gm({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"45",viewBox:"0 0 40 45"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#18C3AA",strokeWidth:"2.5"},f.a.createElement("path",{strokeLinecap:"square",d:"M9.167 1.925v40"}),f.a.createElement("rect",{width:"37.5",height:"42.5",x:"1.25",y:"1.25",rx:"4"}),f.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.778 21.642l5.347 4.758 7.986-9.9"})))},null)},{emphasis:!0,name:"品相中等",description:"有较明显的使用痕迹和轻度瑕疵，但不影响正常阅读。",icon:f.a.createElement(function(e){return f.a.createElement("svg",vm({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"45",viewBox:"0 0 40 45"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#F28181",strokeWidth:"2.5"},f.a.createElement("path",{strokeLinecap:"square",d:"M9.167 1.944v40"}),f.a.createElement("rect",{width:"37.5",height:"42.5",x:"1.25",y:"1.25",rx:"4"}),f.a.createElement("path",{strokeLinecap:"round",d:"M25.556 12.222l3.571 5.63m-8.016-2.296l3.572 5.629"})))},null)}],Pm=Object(Ne.a)(function(){return f.a.createElement("div",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" quality-list"},Cm.map(function(e){var t=e.primary,n=e.secondary,r=e.emphasis,o=e.name,a=e.description,i=e.icon;return f.a.createElement(Sm,{key:o,primary:t,secondary:n,emphasis:r,name:o,description:a,icon:i})})),f.a.createElement("h2",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" additional-info-header"},"补充说明："),f.a.createElement("div",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" additional-info"},"除全新品相外，不保证有腰封。",f.a.createElement("br",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])}),"一些外版书籍的内页纸张本身就是微黄并带有凹凸质感的，不属于瑕疵。"),f.a.createElement("h2",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" fine-header"},"品相良好图片示例："),f.a.createElement("div",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" fine-images"},f.a.createElement(Em,null)),f.a.createElement("h2",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" medium-header"},"品相中等的瑕疵类型包括："),f.a.createElement("p",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" medium-desc"},"有划线或标注（包含切口盖章）、轻度污渍、轻度磨损或破损（包含空白页/广告页被撕除）、轻度变形、轻度折痕、泛黄或褪色、可拆卸外封套缺失、缺失附件、印刷问题、附着胶带或标签等。"),f.a.createElement("p",{className:P.a.dynamic([["187342124",[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]]])+" flaw-samples"},"图片示例："),f.a.createElement(_m,null),f.a.createElement(G,null),f.a.createElement(P.a,{id:"187342124",dynamic:[L.a.font,L.a.confusingGray,L.a.confusingGray,L.a.confusingGray]},[".root.__jsx-style-dynamic-selector{padding:28px 16px 40px;background-color:#fff;color:".concat(L.a.font,";}"),".additional-info-header.__jsx-style-dynamic-selector{border-top:1px solid ".concat(L.a.confusingGray,";padding-top:18px;margin-bottom:12px;}"),".additional-info.__jsx-style-dynamic-selector{margin-bottom:17px;line-height:1.5;}",".fine-header.__jsx-style-dynamic-selector{border-top:1px solid ".concat(L.a.confusingGray,";margin-bottom:15px;padding-top:18px;}"),".fine-images.__jsx-style-dynamic-selector{padding-bottom:12px;}",".medium-header.__jsx-style-dynamic-selector{padding-top:23px;border-top:1px solid ".concat(L.a.confusingGray,";}"),".medium-desc.__jsx-style-dynamic-selector{margin:12px 0;line-height:1.5;text-align:left;font-size:15px;font-weight:300;}",".flaw-samples.__jsx-style-dynamic-selector{margin:18px 0 15px;font-size:15px;font-weight:300;}"]))}),Im=n("Raoy");function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rm(e,t){return!t||"object"!==Tm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lm(e){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Am(e,t){return(Am=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fm={checkLogin:Object(He.a)(Dt.a),checkSubscribe:Object(He.b)(Dt.a),checkUserInfo:Object(He.d)(Dt.a),checkSubscribeAndUserInfo:Object(He.c)(Dt.a)},Bm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rm(this,Lm(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Am(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.checkLogin,r=e.checkSubscribe,o=e.checkUserInfo,a=e.checkSubscribeAndUserInfo;switch(t){case"login":n();break;case"subscribe":r();break;case"userinfo":o();break;case"subscribeAndUserinfo":a();break;default:n()}}},{key:"render",value:function(){return null}}])&&Nm(n.prototype,r),o&&Nm(n,o),t}(),Dm=Object(a.b)(null,Fm)(Bm),Mm=n("jFQ1");function Um(e){return(Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gm(e,t){return!t||"object"!==Um(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hm(e){return(Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wm(e,t){return(Wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vm=function(e){var t=e.selected,n=void 0!==t&&t,r=e.onClick;return f.a.createElement("span",{style:{margin:"0 5px"}},f.a.createElement(Mm.a,{width:34,height:32,color:n?L.a.primary:L.a.gray,onClick:r}))},Km=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gm(this,Hm(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wm(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e,t,n=this.props,r=n.rating,o=n.onClick;return f.a.createElement("div",{className:P.a.dynamic([["2723077868",[L.a.primary]]])+" root"},f.a.createElement("p",{className:P.a.dynamic([["2723077868",[L.a.primary]]])+" rating-text"},(t=["* 根据书的内容来打分哦 *","不要看 😡","不太好看 😑","还可以 🙂","好看！👍","非常好看！❤️"][e=r],(!e&&0!==e||e>5)&&(t="无效评分"),t)),f.a.createElement("div",{className:P.a.dynamic([["2723077868",[L.a.primary]]])},Object(di.a)(5).map(function(e,t){return f.a.createElement(Vm,{key:e,selected:t<r,onClick:function(){o(t+1)}})})),f.a.createElement(P.a,{id:"2723077868",dynamic:[L.a.primary]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:30px 0 25px 0;}",".rating-text.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";font-size:15px;font-weight:normal;margin-bottom:10px;}")]))}}])&&zm(n.prototype,r),o&&zm(n,o),t}();function qm(){return(qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ym=function(e){return f.a.createElement("svg",qm({width:"1.4em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",className:"Icon"},e),f.a.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.5"}),f.a.createElement("line",{x1:"21",y1:"21",x2:"15.8",y2:"15.8"}))};n("ciuA");function Qm(){return(Qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Zm=function(e){return f.a.createElement("div",Qm({className:"Field"},e))},Xm=function(e){return f.a.createElement("span",Qm({className:"Field-name"},e))};function Jm(){return(Jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ey=function(e){var t=e.children;return f.a.createElement("h3",{className:"jsx-2534700608"},t,f.a.createElement(P.a,{id:"2534700608"},["h3.jsx-2534700608{font-size:1.25em;font-weight:400;margin-bottom:20px;text-align:center;}"]))},ty=function(e){var t=e.id,n=$m(e,["id"]);return f.a.createElement(M.a,Jm({to:"/books/".concat(t)},n))},ny=function(e){var t=e.id,n=e.title,r=e.images;return f.a.createElement(At.a,{column:!0,alignCenter:!0,component:ty,id:t},f.a.createElement(ey,null,"给「 ".concat(n," 」评分")),f.a.createElement(Ga.a,{fixHeight:!0,inStock:!0,images:r,style:{boxShadow:"0 0 8px 0 ".concat(Object(mi.a)(L.a.black,.2))}}))},ry=Object(a.b)(function(e,t){var n=t.id;return{book:Object(Pe.c)(e.entities,n),loadStatus:Object(Pe.d)(e.entities,n)}},function(e,t){var n=t.id;return{loader:function(){return e(Ho(n))}}})(function(e){var t=e.id,n=e.loadStatus,r=e.loader,o=e.book;return f.a.createElement(Im.a,{id:t,loadStatus:n,loader:r},f.a.createElement(ny,o))});function oy(e){return(oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iy(e){return(iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ly(e,t){return(ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sy=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=iy(t).call(this,e))||"object"!==oy(o)&&"function"!=typeof o?cy(r):o).onChange=n.onChange.bind(cy(n)),n.onSubmit=n.onSubmit.bind(cy(n)),n.onUpdate=n.onUpdate.bind(cy(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ly(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"onChange",value:function(e){var t,n,r,o=e.target;this.props.onChange((t={},n=o.name,r=o.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"onSubmit",value:function(){this.props.onSubmit()}},{key:"onUpdate",value:function(){var e=this.props,t=e.onUpdate;t(e.contribId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.hasRated;return f.a.createElement("form",{action:"#",onChange:this.onChange,onInput:this.onChange,onSubmit:function(t){t.preventDefault(),r?e.onUpdate():e.onSubmit()}},n)}}])&&ay(n.prototype,r),o&&ay(n,o),t}(),uy=Object(a.b)(null,function(e){return{onChange:function(t){return e(Object(Ds.c)(t))},onSubmit:function(){return e(Object(Ds.a)())},onUpdate:function(t){return e(Object(Ds.i)(t))}}})(sy);function fy(e){return(fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dy(e){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e,t){return(yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var by=function(){return f.a.createElement(u.Fragment,null,f.a.createElement(ey,null,"选择一本书评分"),f.a.createElement(Zm,null,f.a.createElement(M.a,{to:"/book/search-book-to-contrib",replace:!0,style:{position:"relative",width:"100%",height:"48px"}},f.a.createElement(it,{style:{background:"transparent"},placeholder:"搜索书"}),f.a.createElement(Ym,{width:"16",style:{width:"1em",position:"absolute",right:"12px",top:"12px"}}))))},hy=function(e){var t=e.reason,n=e.onChange;return f.a.createElement("section",null,f.a.createElement(Zm,null,f.a.createElement(it,{type:"textarea",name:"reason",value:t,placeholder:"一些阅读感受…",style:{height:"9em",background:"transparent"},onChange:n})))},gy=function(e){var t=e.hasRated,n=e.date,r=e.onClick;return f.a.createElement("div",{className:"jsx-294977696 wrapper"},t?f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{lighter:!0},f.a.createElement(be,{dateOnly:!0,value:n})," 评分"),f.a.createElement(fe.a,{lighter:!0,style:{padding:"0 0.5em"}},"·"),f.a.createElement(fe.a,{onClick:r,style:{cursor:"pointer"}},"删除评分和评论")):f.a.createElement(fe.a,{lighter:!0,style:{fontSize:"12px"}},"* 如果买到的书品相不符或疑似盗版，请联系客服处理。"),f.a.createElement(P.a,{id:"294977696"},[".wrapper.jsx-294977696{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;margin-bottom:30px;}"]))},vy=function(e){var t=e.isDisabled;return f.a.createElement(Ze.a,{style:{height:"calc(92px + 130px + env(safe-area-inset-bottom))",backgroundColor:"#fff",boxShadow:"0 -1px 8px 0 rgba(0,0,0,0.08)",margin:"0 0 -130px",marginBottom:"calc(-130px - env(safe-area-inset-bottom))"}},f.a.createElement(Xe.a,{style:{marginBottom:"600px"}},f.a.createElement(D.a,{type:"submit",large:!0,primary:!0,block:!0,disabled:t,style:{width:"calc(100% - 106px)",fontSize:"15px",margin:"17px auto 147px",marginBottom:"calc(130px + 17px + env(safe-area-inset-bottom))"}},"确定")))},xy=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=dy(t).call(this,e))||"object"!==fy(o)&&"function"!=typeof o?my(r):o).state={rating:n.props.rating/2,reason:n.props.reason},n.handleRate=n.handleRate.bind(my(n)),n.handleReason=n.handleReason.bind(my(n)),n.handleRemove=n.handleRemove.bind(my(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yy(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.bookId,n=e.rating,r=e.reason,o=e.source;this.props.onChange({bookId:t,rating:n,reason:r,source:o,collectionId:0})}},{key:"handleRate",value:function(e){this.setState({rating:e}),this.props.onChange({rating:2*e})}},{key:"handleReason",value:function(e){this.setState({reason:e})}},{key:"handleRemove",value:function(){var e=this.props;(0,e.onDelete)(e.contribId)}},{key:"render",value:function(){var e=this.props,t=e.bookId,n=e.hasRated,r=e.contribId,o=e.date,a=this.state,i=a.rating,c=a.reason,l=!i&&!c;return f.a.createElement("div",{className:"jsx-38153071 root"},t?f.a.createElement(uy,{hasRated:n,contribId:r},f.a.createElement(ry,{id:t}),f.a.createElement(Km,{rating:i,onClick:this.handleRate}),f.a.createElement(hy,{reason:c,onChange:this.handleReason}),f.a.createElement(gy,{hasRated:n,date:o,onClick:this.handleRemove}),f.a.createElement(vy,{isDisabled:l}),f.a.createElement(ht,null)):f.a.createElement(by,null),f.a.createElement(P.a,{id:"38153071"},[".root.jsx-38153071{padding:0.8em;}"]))}}])&&py(n.prototype,r),o&&py(n,o),t}(),wy=Object(a.b)(function(e,t){var n=t.bookId,r=t.source,o=t.contrib,a=void 0===o?{}:o,i=t.contribId,c=a.hasRated,l=a.rating,s=void 0===l?0:l,u=a.reason;return{bookId:n,hasRated:c,rating:s,reason:void 0===u?"":u,source:r,date:a.created,contribId:i}},function(e){return{onChange:function(t){return e(Object(Ds.c)(t))},onDelete:function(t){return e(Object(Ds.b)(t))}}})(xy);function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jy(e,t){return!t||"object"!==Oy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ky(e){return(ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _y(e,t){return(_y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jy(this,ky(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_y(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contribId,n=e.loadStatus,r=e.shouldLoad,o=e.loader;("initial"===n||r)&&t&&o()}},{key:"render",value:function(){var e=this.props,t=e.bookId,n=e.source,r=e.contribId,o=e.contrib,a=e.loadStatus,i=e.loader;return f.a.createElement("div",{className:"jsx-1857579227 root"},f.a.createElement(ue.a,{title:"给书评分"}),f.a.createElement(Dm,{type:"subscribeAndUserinfo"}),o?f.a.createElement(Im.a,{id:r,loader:i,loadStatus:a},f.a.createElement(wy,{contrib:o,contribId:r,bookId:t,source:n})):f.a.createElement(wy,{bookId:t,source:n}),f.a.createElement(P.a,{id:"1857579227"},[".root.jsx-1857579227{background:white;min-height:100vh;box-sizing:border-box;padding-bottom:90px;}"]))}}])&&Ey(n.prototype,r),o&&Ey(n,o),t}(),Cy=Object(a.b)(function(e,t){var n=t.location,r=t.history,o=n.search,a=Object(Mt.a)(o),i=a.bookId,c=a.source,l=a.contribId;return{bookId:i,source:c,contribId:l,contrib:Object(Is.f)(e.entities,l),loadStatus:Object(Is.d)(e.entities,l),shouldLoad:"POP"!==r.action}},function(e,t){var n=t.location.search,r=Object(Mt.a)(n).contribId;return{loader:function(){return e(Object(Ds.d)(r))}}})(Object(Ne.a)(Sy)),Py=function(e){return f.a.createElement(Cy,e)};function Iy(){return(Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ty(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ny=function(e){var t=e.to,n=e.text,r=e.style,o=Ty(e,["to","text","style"]);return f.a.createElement(M.a,Iy({to:t},o),f.a.createElement("div",{style:r,className:P.a.dynamic([["909539264",[L.a.lightGray]]])+" content"},n,f.a.createElement(qn.a,null)),f.a.createElement(P.a,{id:"909539264",dynamic:[L.a.lightGray]},[".content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:18px 15px;border-bottom:1px solid ".concat(L.a.lightGray,";}")]))};function Ry(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ly=[["预定功能说明","使用预定券，可以用余额支付定金预定暂时无货的书，到货了优先得。",["一张预定券可以预定一次。","定金需要用多抓鱼余额来支付。","预定后，书到货时会优先通知你来支付尾款（实际售价减去定金），付完尾款后书就被你锁定了，同时这张预定券就算被用掉了。","支付尾款前预定可随时取消，定金和预定券退回账户。","如有多人预定同一本书，会按支付定金先后顺序通知。"]],["如何获得预定券？","",["卖书给多抓鱼，可以成为猫前进的动力，到达终点可以得预定券。","卖抢手的书，猫会跑得更快。扫码后显示小鱼的就是猫喜欢的那种书。","进度信息将在订单审核后更新。如果卖了书，猫却没动，可能是猫不太喜欢你卖的书。"]]],Ay={lineHeight:1.8},Fy={borderTop:"1px solid ".concat(L.a.lightGray),padding:"18px 0"},By=Object(Ne.a)(function(){return f.a.createElement("div",{className:"jsx-2790969058 book-reserve-support"},Ly.map(function(e){var t=Ry(e,3),n=t[0],r=t[1],o=t[2];return f.a.createElement("div",{key:n,className:"jsx-2790969058 section"},f.a.createElement("h1",{className:"jsx-2790969058 title"},n),Boolean(r)&&f.a.createElement("div",{className:"jsx-2790969058 desc"},r),f.a.createElement(mm.a,{items:o,style:Ay}))}),f.a.createElement(Ny,{to:"/coupons",text:"我的预定券",style:Fy}),f.a.createElement(P.a,{id:"2790969058"},[".book-reserve-support.jsx-2790969058{box-sizing:border-box;min-height:100vh;padding:23px 15px;background:#fff;}",".section.jsx-2790969058{margin-bottom:25px;}",".title.jsx-2790969058{font-size:20px;font-weight:normal;line-height:normal;margin-bottom:9px;}",".desc.jsx-2790969058{margin-bottom:9px;font-size:15px;font-weight:300;line-height:1.8;}"]))}),Dy=n("e2HP");function My(e){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zy(e,t){return!t||"object"!==My(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gy(e){return(Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hy(e,t){return(Hy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zy(this,Gy(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hy(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.history,r=e.onLoad;"initial"!==t&&"POP"===n.action||r(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.type,r=t.onLoad;e.type!==n&&r(!0)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.currentUser,r=e.traderIds,o=e.loadStatus,a=e.onLoad,i="sellers"===t?"卖":"买",c="".concat(i,"过这本书的人");if(!n.id)return f.a.createElement(Dm,{type:"login"});return f.a.createElement(u.Fragment,null,f.a.createElement(ue.a,{title:c}),f.a.createElement(Ut.a,{items:r,loader:a,loadStatus:o,renderItem:function(e){return f.a.createElement(Np,{key:e,type:t,traderId:e})},renderEmptyContent:function(){return f.a.createElement("div",{className:"jsx-4065081794 empty-inner"},"还没有用户".concat(i,"过这本书"),f.a.createElement(P.a,{id:"4065081794"},[".empty-inner.jsx-4065081794{margin:150px 0;}"]))}}))}}])&&Uy(n.prototype,r),o&&Uy(n,o),t}(),Vy=Object(a.b)(function(e,t){var n=t.bookId,r=t.type,o=Object(R.d)(e.session),a="".concat(n,"-").concat(r);return{type:r,currentUser:o,traderIds:Object(Dy.b)(e,a),loadStatus:Object(Dy.c)(e,a)}},function(e,t){var n=t.bookId,r=t.type;return{onLoad:function(t){return e(Object(Te.k)(t,{id:"".concat(n,"-").concat(r),bookId:n,type:r}))}}})(Object(Ne.a)(Wy));function Ky(e){return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qy(){return(qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qy(e,t){return!t||"object"!==Ky(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zy(e){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xy(e,t){return(Xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qy(this,Zy(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xy(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.id;return f.a.createElement("div",{className:P.a.dynamic([["3732665609",[L.c.navHeight]]])+" root"},f.a.createElement(Fc.a,null),f.a.createElement(Ld,null,f.a.createElement(jd,{even:!0},f.a.createElement(kd,{exact:!0,replace:!0,to:"/books/".concat(e,"/sellers")},"卖过这本"),f.a.createElement(kd,{exact:!0,replace:!0,to:"/books/".concat(e,"/buyers")},"买过这本"))),f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:"/books/".concat(e,"/sellers"),render:function(t){return f.a.createElement(Vy,qy({bookId:e,type:"sellers"},t))}}),f.a.createElement(i.a,{exact:!0,path:"/books/".concat(e,"/buyers"),render:function(t){return f.a.createElement(Vy,qy({bookId:e,type:"buyers"},t))}})),f.a.createElement(P.a,{id:"3732665609",dynamic:[L.c.navHeight]},[".root.__jsx-style-dynamic-selector{box-sizing:border-box;min-height:100vh;padding-bottom:".concat(L.c.navHeight,";background:#fff;}")]))}}])&&Yy(n.prototype,r),o&&Yy(n,o),t}(),$y=Object(a.b)(function(e,t){return{id:t.match.params.id}})(Jy),eb=n("i6DS"),tb=n("r9pq"),nb=n("KW6l"),rb=function(e,t,n){return function(r){var o={};return n?o.bookId=n:Object(tb.b)(e)?o.isbn=Object(tb.a)(e):o.dzyCode=e,r({userId:t,fetch:{types:[Uo.i,Uo.j,Uo.h],errorMap:{BOOK_NOT_FOUND:"ADD_OWNINGBOOK_NOT_FOUND",BOOK_CANT_SELL:"ADD_OWNINGBOOK_NOT_FOUND",DZY_CODE_NOT_EXIST:"ADD_OWNINGBOOK_DZY_CODE_NOT_EXIST",ISBN_MULTIPLE_VERSIONS:"ADD_OWNINGBOOK_MULTIPLE_VERSIONS"},from:"post /user/shelf-books",schema:Ve.a.shelfBook,body:o}})}},ob=function(e,t){return function(n,r){var o=r().session.user;n({type:Uo.qe,shelfBookIds:e,userId:o.id}),n({type:Uo.pe,bookIds:t,userId:o.id})}},ab=function(e,t){return function(n){return n({fetch:{types:[Uo.u,Uo.v,Uo.t],from:"post /user/shelf-books/remove",body:{shelfBookIds:e}}}).then(function(){n(ob(e,t))})}};function ib(){return(ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var cb=function(e){return f.a.createElement("svg",ib({width:"14.5",height:"11",viewBox:"11 14 29 22",stroke:"#FFFFFF",strokeWidth:"4",fill:"none"},e),f.a.createElement("polyline",{points:"13.2427972 23.7361617 21.8111153 32.3044798 38 16.1155951"}))};n("ECHx");function lb(e){return(lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sb(){return(sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ub(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pb(e){return(pb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function db(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mb(e,t){return(mb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yb={disabled:de.a.bool,checked:de.a.bool.isRequired,onChange:de.a.func.isRequired},bb=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=pb(t).call(this))||"object"!==lb(r)&&"function"!=typeof r?db(n):r).handleClick=e.handleClick.bind(db(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mb(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(){this.props.onChange(!this.props.checked)}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.className,r=e.disabled,o=ub(e,["checked","className","disabled"]);return r?f.a.createElement("div",{className:P.a.dynamic([["1474131500",[L.a.gray,L.a.confusingGray]]])+" disabled"},f.a.createElement(P.a,{id:"1474131500",dynamic:[L.a.gray,L.a.confusingGray]},[".disabled.__jsx-style-dynamic-selector{width:22px;height:22px;border-radius:100px;background-color:".concat(L.a.gray,";border:solid 1px ").concat(L.a.confusingGray,";}")])):f.a.createElement(D.a,sb({icon:!0,className:N()("Checkbox",n,{"is-checked":t}),onClick:this.handleClick},o),f.a.createElement(cb,null))}}])&&fb(n.prototype,r),o&&fb(n,o),t}();function hb(e){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vb(e){return(vb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e,t){return(wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}bb.propTypes=yb;var Ob={remove:function(){return function(e,t){var n=t(),r=Object(eb.d)(n);if(!r.length)return Promise.resolve();var o=r.map(function(e){return e.id}),a=r.map(function(e){return e.book.id});return e(ab(o,a))}},transfer:function(){return function(e,t){var n=t(),r=Object(eb.d)(n);if(!r.length)return Promise.resolve();var o=r.map(function(e){return e.id}),a=r.map(function(e){return e.book.id});return e({fetch:{types:[Uo.zf,Uo.Af,Uo.yf],from:"post /user/shelf-books/transfer",body:{shelfBookIds:o}}}).then(function(){e(Object(We.d)(Uo.Af)),e(ob(o,a))})}},selectAll:function(e){return{type:Uo.Le,hasSelected:e}}},Eb={width:108},jb={width:108,marginLeft:10},kb=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=vb(t).call(this,e))||"object"!==hb(o)&&"function"!=typeof o?xb(r):o).handleSelectAll=n.handleSelectAll.bind(xb(n)),n.handleRemove=n.handleRemove.bind(xb(n)),n.handleTransfer=n.handleTransfer.bind(xb(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wb(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleSelectAll",value:function(e){(0,this.props.selectAll)(e)}},{key:"handleRemove",value:function(){var e=this.props;(0,e.remove)(e.userId)}},{key:"handleTransfer",value:function(){var e=this.props;(0,e.transfer)(e.userId)}},{key:"render",value:function(){var e=this.props,t=e.removeStatus,n=e.transferStatus,r=e.shelfBooksCount,o=e.selectedShefBooksCount;return f.a.createElement(Ze.a,null,f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["4017273566",[L.a.gray]]])+" bookshelf-manage-bar"},f.a.createElement("div",{className:P.a.dynamic([["4017273566",[L.a.gray]]])+" select-all-wrap"},r>0&&f.a.createElement(u.Fragment,null,f.a.createElement(bb,{checked:o===r,onChange:this.handleSelectAll}),f.a.createElement("span",{className:P.a.dynamic([["4017273566",[L.a.gray]]])+" select-hint"},0===o?"全选":"已选 ".concat(o)))),f.a.createElement(D.a,{style:Eb,normal:!0,large:!0,emphasis:!0,disabled:0===o||"loading"===t,onClick:this.handleRemove},"删除"),f.a.createElement(D.a,{style:jb,normal:!0,large:!0,primary:!0,disabled:0===o||"loading"===n,onClick:this.handleTransfer},"拿去卖")),f.a.createElement(P.a,{id:"4017273566",dynamic:[L.a.gray]},[".bookshelf-manage-bar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 15px;background-color:".concat(L.a.gray,";}"),".select-all-wrap.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".select-hint.__jsx-style-dynamic-selector{margin-left:6px;font-size:14px;font-weight:300;line-height:normal;}"])))}}])&&gb(n.prototype,r),o&&gb(n,o),t}(),_b=Object(Bt.a)(Object(a.b)(function(e,t){var n=t.match.params.id,r=e.bookshelf,o=r.removeStatus,a=r.transferStatus,i=Object(eb.f)(e);return{userId:n,removeStatus:o,transferStatus:a,selectedShefBooksCount:Object(eb.d)(e).length,shelfBooksCount:i.length}},Ob)(kb)),Sb=Object(a.b)(function(e,t){var n=t.id;return{hasSelected:!!(Object(eb.e)(e,n)||{}).hasSelected}},function(e,t){var n=t.id;return{toggleSelect:function(t){e(function(e,t){return{type:Uo.Te,id:e,hasSelected:t}}(n,t))}}})(function(e){var t=e.hasSelected,n=e.toggleSelect;return f.a.createElement("div",{className:"jsx-16608876 root"},f.a.createElement(bb,{checked:!!t,onChange:n}),f.a.createElement(P.a,{id:"16608876"},[".root.jsx-16608876{margin-right:12px;}"]))});function Cb(e){return(Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ib(e,t){return!t||"object"!==Cb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tb(e){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nb(e,t){return(Nb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rb={marginLeft:6},Lb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ib(this,Tb(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nb(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.images,n=e.title,r=e.isBuyout,o=e.wishCount,a=e.buyoutPrice,i=e.originalPrice,c=Object(Do.h)(a,i,!0,!0);return f.a.createElement("div",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" manage-book-item"},f.a.createElement(Ga.a,{mini:!0,fixHeight:!0,images:t}),f.a.createElement("div",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" book-info"},f.a.createElement("h2",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" book-title"},n),o>0&&f.a.createElement("div",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" book-wish-count"},"".concat(o,"人想买")),f.a.createElement("div",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" holder"}),f.a.createElement("div",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" book-price"},r?f.a.createElement(u.Fragment,null,Boolean(a)&&f.a.createElement(Mo.a,{normal:!0,sign:!0,n:a}),c&&f.a.createElement(Ua.a,{style:Rb},"".concat(c,"收"))):f.a.createElement("span",{className:P.a.dynamic([["1968783240",[L.a.lighterFont]]])+" no-buyout"},"暂时不收"))),f.a.createElement(P.a,{id:"1968783240",dynamic:[L.a.lighterFont]},[".manage-book-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".book-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-left:16px;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".book-title.__jsx-style-dynamic-selector{margin-right:26px;font-size:14px;font-weight:normal;}",".book-wish-count.__jsx-style-dynamic-selector{font-size:12px;font-weight:300;font-style:normal;line-height:1.5;color:".concat(L.a.lighterFont,";}"),".book-price.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:14px;}",".no-buyout.__jsx-style-dynamic-selector{font-size:13px;}"]))}}])&&Pb(n.prototype,r),o&&Pb(n,o),t}(),Ab=Object(a.b)(function(e,t){var n=t.id,r=Object(eb.e)(e,n).book,o=r.title,a=r.images,i=r.originalPrice,c=r.isBuyout,l=r.buyoutPrice;return{id:n,title:o,images:a,wishCount:r.wishCount,isBuyout:c,buyoutPrice:l,originalPrice:i}})(Lb),Fb=n("JAFv");function Bb(e){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mb(e){return(Mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zb(e,t){return(zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gb={remove:function(e){return function(t,n){var r=n(),o=Object(eb.e)(r,e).book;t(ab([e],[o.id]))}}},Hb={position:"absolute",right:0,top:0},Wb=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Mb(t).call(this,e))||"object"!==Bb(o)&&"function"!=typeof o?Ub(r):o).handleRemoveClick=n.handleRemoveClick.bind(Ub(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zb(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleRemoveClick",value:function(){var e=this.props,t=e.id;(0,e.remove)(t)}},{key:"render",value:function(){return f.a.createElement(D.a,{style:Hb,flatIcon:!0,onClick:this.handleRemoveClick},f.a.createElement(Fb.a,{width:10,height:10,stroke:L.a.lighterFont}))}}])&&Db(n.prototype,r),o&&Db(n,o),t}(),Vb=Object(a.b)(null,Gb)(Wb);function Kb(e){return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yb(e,t){return!t||"object"!==Kb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zb(e,t){return(Zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yb(this,Qb(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zb(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.id;return f.a.createElement("div",{className:P.a.dynamic([["1188485898",[L.a.confusingGray]]])+" manage-book-row"},f.a.createElement(Sb,{id:e}),f.a.createElement(Ab,{id:e}),f.a.createElement(Vb,{id:e}),f.a.createElement(P.a,{id:"1188485898",dynamic:[L.a.confusingGray]},[".manage-book-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:19px 16px 23px;position:relative;background-color:#fff;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}")]))}}])&&qb(n.prototype,r),o&&qb(n,o),t}();function Jb(e){return(Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t){return!t||"object"!==Jb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function th(e){return(th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nh(e,t){return(nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rh=function(e){return f.a.createElement(Xb,{key:e.id,id:e.id})},oh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eh(this,th(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.onLoadUser;t||n()}},{key:"render",value:function(){var e=this.props,t=e.shelfBooks,n=e.loadStatus,r=e.onLoad;return f.a.createElement("div",{className:"jsx-2394789636 bookshelf-manage"},f.a.createElement(ue.a,{title:"管理书架"}),f.a.createElement(Ut.a,{items:t,loadStatus:n,loader:r,renderItem:rh}),f.a.createElement(_b,null),f.a.createElement(P.a,{id:"2394789636"},[".bookshelf-manage.jsx-2394789636{min-height:100vh;padding-bottom:64px;background-color:#fff;}"]))}}])&&$b(n.prototype,r),o&&$b(n,o),t}(),ah=Object(a.b)(function(e,t){var n=t.match.params.id;return{user:Object(Pe.F)(e.entities,n),shelfBooks:Object(eb.f)(e),loadStatus:Object(eb.g)(e)}},function(e,t){var n=t.match.params.id;return{onLoad:function(t){return e(function(e){return function(t,n){var r=n().bookshelf.userShelfBooks.nextUrl;t({fetch:{from:e||!r?"/user/shelf-books":r,types:[Uo.Xc,Uo.Yc,Uo.Wc],schema:Ve.a.shelfBooks},isReset:e})}}(t))},onLoadUser:function(){return e(Object(Te.l)(n))}}})(Object(Ne.a)(oh)),ih=n("Dx/V"),ch=function(e){var t=e.withBottomSpace,n=e.compact,r=e.small,o=e.children;return f.a.createElement("p",{className:"jsx-512292344 "+(N()({withBottomSpace:t,compact:n,small:r})||"")},o,f.a.createElement(P.a,{id:"512292344"},["p.jsx-512292344{line-height:1.8;white-space:pre-line;}",".withBottomSpace.jsx-512292344{margin-bottom:9px;}",".compact.jsx-512292344{line-height:1.4;}",".small.jsx-512292344{font-size:13px;}"]))};function lh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var sh=[[function(){return f.a.createElement("svg",{width:"38.5px",viewBox:"0 0 77 72"},f.a.createElement("rect",{fill:"#DFDFDF",x:"11",y:"10",width:"66",height:"62",rx:"8"}),f.a.createElement("g",{fill:"none",stroke:"#4A4A4A",strokeWidth:"4"},f.a.createElement("rect",{x:"2",y:"2",width:"66",height:"62",rx:"8"}),f.a.createElement("path",{d:"M22,2 L22,10.0068977 C22,11.1072212 22.8942274,12 23.9992748,12 L46.0007252,12 C47.1077455,12 48,11.1085465 48,10.0068977 L48,2 L22,2 Z"}),f.a.createElement("path",{d:"M28.6728104,23.4499289 C30.7057687,23.0575703 32.8319576,22.8557807 35,22.8557807 C37.2226837,22.8557807 39.4012562,23.0678763 41.4802324,23.4798581 L42.9483195,21.9092705 C44.7903966,19.9385814 47.5564432,20.6780263 48.1668086,23.3075605 L48.7896043,25.9906456 C53.8507041,28.6327063 56.961261,32.6702149 56.961261,37.2127518 C56.961261,45.3958173 46.9880289,51.5697229 35,51.5697229 C23.0119711,51.5697229 13.038739,45.3958173 13.038739,37.2127518 C13.038739,32.627683 16.2073811,28.5587731 21.3480218,25.9193619 L21.9661947,23.2561926 C22.5765601,20.6266585 25.3426067,19.8872135 27.1846838,21.8579027 L28.6728104,23.4499289 Z"})))},"发货","多抓鱼一个工作日内发货。"],[function(){return f.a.createElement("svg",{width:"38px",viewBox:"0 0 76 78"},f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("path",{d:"M19.28125,77.9708965 C14.0697429,77.5937236 10,73.5973707 10,68.7229858 L10,19.2770142 C10,14.4014629 14.0869228,10.4074716 19.28125,10.0292865 L19.28125,10 L65.9903877,10 C71.5256968,10 76,14.4758524 76,19.9970961 L76,68.0029039 C76,73.5251896 71.5185439,78 65.9903877,78 L19.28125,78 L19.28125,77.9708965 Z",fill:"#DFDFDF"}),f.a.createElement("path",{d:"M2,2.19335319 L2,69.7672033 C6.0444887,68.9746383 9,65.828425 9,62.1422694 L9,9.81719008 C9,6.13763738 6.03663416,2.98839392 2,2.19335319 Z",stroke:"#4A4A4A",strokeWidth:"4",transform:"translate(7.500000, 35.979730) scale(-1, 1) translate(-5.500000, -35.979730) "}),f.a.createElement("path",{d:"M66.9594595,69.9594595 L66.9594595,2 L20.1173893,2 C15.6971198,2 12.119299,5.58187077 12.119299,10.0056545 L12.119299,61.9538049 C12.119299,66.3789661 15.6984411,69.9594595 20.1173893,69.9594595 L66.9594595,69.9594595 Z",stroke:"#4A4A4A",strokeWidth:"4",transform:"translate(39.539379, 35.979730) scale(-1, 1) translate(-39.539379, -35.979730) "}),f.a.createElement("path",{d:"M38.9797297,47.7967434 L30.5882547,51.3369458 C28.5499361,52.1968733 27.0501361,51.1046117 27.2378924,48.9027651 L28.0117166,39.8280154 L22.0516757,32.9412311 C20.6039609,31.2684071 21.1792997,29.5044851 23.3314002,29.0026441 L32.2011248,26.9343427 L36.909092,19.1378735 C38.0526736,17.2440839 39.9080526,17.2461817 41.0503675,19.1378735 L45.7583346,26.9343427 L54.6280593,29.0026441 C56.7825464,29.5050417 57.3538949,31.2702602 55.9077838,32.9412311 L49.9477428,39.8280154 L50.721567,48.9027651 C50.9095316,51.1070535 49.4072654,52.1959207 47.3712048,51.3369458 L38.9797297,47.7967434 Z",stroke:"#4A4A4A",strokeWidth:"4"})))},"质保","我们确保上架书为正版，品相无明显硬伤。"],[function(){return f.a.createElement("svg",{width:"33px",viewBox:"0 0 66 81"},f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-32, -21)"},f.a.createElement("path",{d:"M89.7725965,51.3989764 C89.2747595,49.9065193 88.6342241,48.479266 87.8671742,47.1334063 C89.58625,46.0257958 96.7442419,40.6269386 91.9440952,30.1051509 C88.762008,39.1105457 83.3401789,39.6274855 80.6353906,39.2463639 C76.762967,36.5686558 72.0646911,35 67,35 C61.9536501,35 57.271751,36.556384 53.4079845,39.2151046 C50.7808656,39.6485552 45.159279,39.3435775 41.8948491,30.1051509 C36.9755537,40.8881093 44.6154119,46.2906592 46.0894631,47.2079661 C44.1224422,50.6890335 43,54.7103525 43,58.9938357 L43,87.0014504 C43,90.0291303 44.678333,92.6582261 47.1548516,94.0167213 L42.5857864,98.5857864 C41.8047379,99.366835 41.8047379,100.633165 42.5857864,101.414214 C43.366835,102.195262 44.633165,102.195262 45.4142136,101.414214 L51.8284271,95 L82.9929031,95 C87.4118288,95 91,91.4189274 91,87.0014504 L91,58.9938357 C91,57.9841198 90.9375981,56.9889552 90.8164392,56.0119879 L97.4469828,49.3814443 C98.2280314,48.6003957 98.2280314,47.3340658 97.4469828,46.5530172 C96.6659342,45.7719686 95.3996043,45.7719686 94.6185557,46.5530172 L89.7725965,51.3989764 Z",fill:"#DFDFDF"}),f.a.createElement("path",{d:"M86.2795426,46.8920303 L82.8403825,50.3311903 C81.5255344,39.4409042 72.2482384,31 61,31 C48.8477502,31 39,40.8460467 39,52.9938357 L39,82.9999617 C39,85.2036254 40.7965527,87 43.0063866,87 L46.1715729,87 L42.2106874,90.9608855 C38.1647668,90.5610127 35,87.1447084 35,82.9999617 L35,52.9938357 C35,38.6367528 46.6387661,27 61,27 C73.256699,27 83.5333473,35.4805836 86.2795426,46.8920303 Z M86.9754046,51.8530225 C86.9917454,52.2312553 87,52.6115825 87,52.9938357 L87,82.9999617 C87,87.420382 83.4189064,91 78.9936134,91 L47.8284271,91 L51.8284271,87 L78.9936134,87 C81.2101363,87 83,85.2108739 83,82.9999617 L83,55.8284271 L86.9754046,51.8530225 Z",fill:"#4A4A4A",fillRule:"nonzero"}),f.a.createElement("path",{d:"M33.2010003,38.471528 C33.2010003,38.471528 30.0094205,27.7175861 42.259811,23.1429459 L42.259811,23.1429459 C36.6115133,34.9641534 45.2369439,38.471528 45.2369439,38.471528",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(39.031707, 30.807237) rotate(-45.000000) translate(-39.031707, -30.807237)"}),f.a.createElement("path",{d:"M76.9765299,38.471528 C76.9765299,38.471528 73.7849501,27.7175861 86.0353406,23.1429459 L86.0353406,23.1429459 C80.3870429,34.9641534 89.0124735,38.471528 89.0124735,38.471528",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(82.807237, 30.807237) scale(-1, 1) rotate(-45.000000) translate(-82.807237, -30.807237)"}),f.a.createElement("path",{d:"M50.2541651,56.3145826 C53.844016,56.3145826 56.7541651,53.4044334 56.7541651,49.8145826 C52.2639307,49.8145826 48.8195948,49.8145826 43.7541651,49.8145826 C43.7541651,53.4044334 46.6643143,56.3145826 50.2541651,56.3145826 Z",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(50.254165, 53.064583) rotate(-330.000000) translate(-50.254165, -53.064583)"}),f.a.createElement("path",{d:"M72.2541651,56.3145826 C75.844016,56.3145826 78.7541651,53.4044334 78.7541651,49.8145826 C74.2639307,49.8145826 70.8195948,49.8145826 65.7541651,49.8145826 C65.7541651,53.4044334 68.6643143,56.3145826 72.2541651,56.3145826 Z",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(72.254165, 53.064583) scale(-1, 1) rotate(-330.000000) translate(-72.254165, -53.064583) "}),f.a.createElement("path",{d:"M95.5021008,35.4978992 L34,97",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})))},"消毒","我们会对图书进行专业消毒、翻新和包装。"],[function(){return f.a.createElement("svg",{width:"37.5px",viewBox:"0 0 75 85"},f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(40, -4)"},f.a.createElement("g",{transform:"rotate(-330.000000)"},f.a.createElement("path",{d:"M9.56217783,24.5670861 C9.56217783,22.3552364 10.8898629,19.3561282 12.5200692,17.8752729 L27.1370301,4.59744097 C29.5904102,2.36882667 33.5688759,2.37231873 36.014609,4.59744097 L50.5974647,17.8648888 C52.2348306,19.3545604 53.5621778,22.3619729 53.5621778,24.5670861 L53.5621778,70.5691969 C53.5621778,73.8790289 50.8760153,76.5621778 47.5594039,76.5621778 L15.5649517,76.5621778 C12.2497112,76.5621778 9.56217783,73.8800476 9.56217783,70.5691969 L9.56217783,24.5670861 Z",fill:"#DFDFDF"}),f.a.createElement("path",{d:"M-2,22.0049083 C-2,19.231112 -0.435723179,15.6938321 1.61311783,13.8326951 L16.2300788,0.55486315 C19.4451688,-2.36567727 24.5886424,-2.36428016 27.7983491,0.555903501 L42.3812048,13.8233514 C44.4334964,15.6905214 46,19.2343063 46,22.0049083 L46,68.007019 C46,72.4225542 42.4172737,76 37.9972261,76 L6.00277388,76 C1.58339425,76 -2,72.4228718 -2,68.007019 L-2,22.0049083 Z",stroke:"#4A4A4A",strokeWidth:"4"}),f.a.createElement("text",{fontSize:"40",fontWeight:"normal",fill:"#4A4A4A"},f.a.createElement("tspan",{x:"4.91298012",y:"62.5"},"%")),f.a.createElement("path",{d:"M36.1865335,20.8660254 L3.93782217,20.8660254",stroke:"#4A4A4A",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"1,8"})))))},"低价","分享一本好书的使用价值，不但交到了朋友，也享受了实惠。"]],uh=function(){return f.a.createElement("div",{className:"jsx-3590795762 root"},f.a.createElement(ue.a,null),f.a.createElement("div",{className:"jsx-3590795762"},sh.map(function(e){var t=lh(e,3),n=t[0],r=t[1],o=t[2];return f.a.createElement("div",{key:r,className:"jsx-3590795762 section"},f.a.createElement("div",{className:"jsx-3590795762 image"},f.a.createElement(n,{className:"jsx-3590795762"})),f.a.createElement("div",{className:"jsx-3590795762"},f.a.createElement(ih.a,{large:!0},r),f.a.createElement(ch,null,o)))})),f.a.createElement(P.a,{id:"3590795762"},[".root.jsx-3590795762{box-sizing:border-box;min-height:100vh;padding:25px 15px;background:#fff;}",".section.jsx-3590795762{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:20px;}",".section.jsx-3590795762:last-child{margin-bottom:0;}",".image.jsx-3590795762{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:40px;margin:0.2em 20px 0 5px;text-align:center;}"]))},fh=function(){return function(e){e(Object(_.j)()),e({type:Uo.Xb})}},ph=function(e){return function(t){var n;t(na(e,"lock")),t(fh()),t(Object(_.g)("lockin")),t((n=e,{type:Uo.kd,id:n}))}},dh=function(e,t){return e(Object(_.i)(function(){e(Object(qo.d)(t)).then(function(n){n.hasLocked&&e(ph(t))})}))},mh=function(e,t,n,r){return function(o){return Object(v.b)()&&"wx_mini_program"===t?(dh(o,e),o(Object(_.d)(n))):O.m||"wechat_qrcode"!==t?(O.f?Jr.g:Yo.f)(n).then(function(){return o(Object(qo.d)(e))},function(t){var n;throw o((n=e,{type:Uo.id,id:n})),t}).then(function(t){if(!t.hasLocked)throw new Error("payment result pending");o(ph(e))}).catch(function(){o(Object(We.d)("PAYMENT_FAILURE"))}):(dh(o,e),o(ea({id:e,type:"lock",pay:{way:t,param:n},price:r})))}},yh=Object(He.d)(function(e,t){return function(n,r){"wechat"===t.payWay&&(t.payWay=Object(k.a)());var o=r(),a=Object(F.i)(o,e),i=Object(Do.e)(a);return(Object(F.a)(a)?n(Object(qo.l)(a)):Promise.resolve()).then(function(){return n({id:e,fetch:{from:"post /user/cart/".concat(e,"/lock"),body:t,types:[Uo.gd,Uo.hd]}})}).then(function(r){if("dzy"===t.payWay)return n(Object(qo.d)(e)),n(fh()),n(Object(_.g)("lockin")),void n(Object(Te.m)(-i));var o=r.pay,a=r.status,c=r.price;if("paid"!==a){var l,s=o.way,u=o.param;n((l=e,{type:Uo.jd,id:l})),n(mh(e,s,u,c))}else n(ph(e))},function(t){var r=[];"LOCK_IN_BOOK_SOLD_OUT"===t.name&&(t.data[0].stock||(r=[e]),n(fh()));n({type:Uo.fd,error:t,outOfStockCartBookIds:r}),"LOCK_IN_BOOK_SOLD_OUT"===t.name&&n(Object(We.c)("LOCK_IN_BOOK_SOLD_OUT"))})}});function bh(e){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gh(e){return(gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xh(e,t){return(xh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wh={lockIn:yh},Oh=function(e){return f.a.createElement(u.Fragment,null,"余额支付 ",f.a.createElement(Mo.a,{n:e})," 锁定")},Eh=function(e){return f.a.createElement(u.Fragment,null,"微信支付 ",f.a.createElement(Mo.a,{n:e})," 锁定")},jh=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gh(t).call(this,e))||"object"!==bh(o)&&"function"!=typeof o?vh(r):o).handleBalancePay=n.handleBalancePay.bind(vh(n)),n.handleWechatPay=n.handleWechatPay.bind(vh(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xh(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleBalancePay",value:function(){var e=this.props,t=e.cartBookId;(0,e.lockIn)(t,{payWay:"dzy"})}},{key:"handleWechatPay",value:function(){var e=this.props,t=e.cartBookId;(0,e.lockIn)(t,{payWay:"wechat"})}},{key:"render",value:function(){var e=this.props,t=e.stock,n=e.price,r=e.balancePrice,o=e.isLoading,a=e.balanceAvailable,i=e.showBalanceDiscount,c=e.balanceDiscount;return t?f.a.createElement("div",{className:"root"},f.a.createElement(Ca,{balanceDisabled:o,balancePrice:r,balanceAvailable:a,onBalanceClick:this.handleBalancePay,showBalanceDiscount:i,balanceDiscount:c,wechatDisabled:o,wechatPrice:n,onWechatClick:this.handleWechatPay,balanceRenderer:Oh,wechatRenderer:Eh})):f.a.createElement("div",{className:"jsx-3211570242 hint"},"暂时无货",f.a.createElement(P.a,{id:"3211570242"},[".hint.jsx-3211570242{text-align:center;}"]))}}])&&hh(n.prototype,r),o&&hh(n,o),t}(),kh=Object(a.b)(function(e,t){var n=t.cartBookId,r=e.bookLockIn.requestStatus,o=e.account.balance,a=Object(F.i)(e,n),i=a.book,c=Object(Do.p)(i,a),l=(Object(Do.m)(i,a)||{}).price,s="loading"===r,u=Object(_e.i)(e),f=parseInt(l*u/100,10);return{stock:c,price:l,balancePrice:f,isLoading:s,showBalanceDiscount:Object(_e.j)(e),balanceAvailable:f<=o,balanceDiscount:u/10}},wh)(jh),_h=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book,a=o.title,i=Object(Do.p)(o,r),c=Object(Do.m)(o,r)||{};return{title:a,stock:i,condition:c.condition,flawFlag:c.flawFlag,flawReasons:c.flawReasons,traitDesc:c.traitDesc}})(function(e){var t=e.title,n=e.stock,r=e.condition,o=e.flawFlag,a=e.flawReasons,i=e.traitDesc;return f.a.createElement("div",{className:P.a.dynamic([["2513076802",[L.a.confusingGray]]])+" root"},f.a.createElement("h2",{className:P.a.dynamic([["2513076802",[L.a.confusingGray]]])+" title"},t),n&&f.a.createElement(Ka,{larger:!0,condition:r,flawFlag:o,flawReasons:a,traitDesc:i}),f.a.createElement(P.a,{id:"2513076802",dynamic:[L.a.confusingGray]},[".root.__jsx-style-dynamic-selector{width:100%;padding-bottom:14px;position:relative;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".title.__jsx-style-dynamic-selector{margin-right:30px;font-size:18px;font-weight:500;line-height:normal;}"]))}),Sh=function(e){var t=e.onClose;return f.a.createElement(ie.a,{onClose:t},f.a.createElement("div",{className:"jsx-2654361702 wrap"},f.a.createElement("h2",{className:"jsx-2654361702 title"},"支付锁定功能"),f.a.createElement("p",{className:"jsx-2654361702 hint"},ym[0]),f.a.createElement(mm.a,{items:ym[1]})),f.a.createElement(P.a,{id:"2654361702"},[".wrap.jsx-2654361702{padding:27px 23px;}",".title.jsx-2654361702{font-size:18px;font-weight:500;text-align:center;}",".hint.jsx-2654361702{margin:12px 0 16px;font-size:16px;font-weight:300;line-height:1.5;text-align:left;}"]))},Ch=function(e){var t=e.onClick;return f.a.createElement("div",{className:"jsx-2800351399 root"},f.a.createElement(ma.a,{withArrow:!0,colored:!0,to:"/support/lockin",onClick:t},"锁定功能说明"),f.a.createElement(P.a,{id:"2800351399"},[".root.jsx-2800351399{padding:17px 0 22px;font-size:13px;font-weight:normal;line-height:1.62;text-align:center;}"]))};function Ph(e){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e){return(Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lh={hideActionSheet:fh,hideGuide:Te.d,stopLockInPayCheck:_.j},Ah=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Th(t).call(this,e))||"object"!==Ph(o)&&"function"!=typeof o?Nh(r):o).shouldHideLockin=!0,n.keepLockinOpen=n.keepLockinOpen.bind(Nh(n)),n.closeIntroModal=n.closeIntroModal.bind(Nh(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rh(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.stopLockInPayCheck,n=e.hideActionSheet;this.shouldHideLockin&&n(),t()}},{key:"closeIntroModal",value:function(){(0,this.props.hideGuide)()}},{key:"keepLockinOpen",value:function(){this.shouldHideLockin=!1}},{key:"render",value:function(){var e=this.props,t=e.cartBookId,n=e.hideActionSheet,r=e.shouldShowLockInModal;return t?r?f.a.createElement(Sh,{onClose:this.closeIntroModal}):f.a.createElement(pa.a,{onClose:n},f.a.createElement(_h,{cartBookId:t}),f.a.createElement(Ch,{onClick:this.keepLockinOpen}),f.a.createElement(kh,{cartBookId:t})):null}}])&&Ih(n.prototype,r),o&&Ih(n,o),t}(),Fh=Object(a.b)(function(e){return{cartBookId:e.bookLockIn.currentCartBookId,shouldShowLockInModal:e.session.user.showTips.lockInBookGuide}},Lh)(Ah);function Bh(){return(Bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dh=function(e){return f.a.createElement("svg",Bh({width:"83.5",height:"95.5",viewBox:"0 0 167 191"},e),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(-288.000000, -420.000000)"},f.a.createElement("g",{transform:"translate(292.000000, 424.000000)"},f.a.createElement("g",{transform:"translate(14.037736, 7.259259)"},f.a.createElement("path",{d:"M1.36936505,50.4965818 C-0.900049458,34.0826294 10.6973928,20.7764918 27.2604547,20.7764918 L122.496965,20.7764918 C139.065633,20.7764918 150.657378,34.0832866 148.388055,50.4965818 L141.082635,103.334356 C138.81322,119.748309 123.535476,133.054446 106.970056,133.054446 L42.7873638,133.054446 C26.2169211,133.054446 10.9441084,119.747651 8.67478476,103.334356 L1.36936505,50.4965818 Z",fill:"#DFDFDF"}),f.a.createElement("ellipse",{fill:"#DFDFDF",cx:"24.3041402",cy:"163.89492",rx:"15.5236966",ry:"15.5941603"}),f.a.createElement("ellipse",{fill:"#DFDFDF",cx:"131.662758",cy:"163.89492",rx:"15.5236966",ry:"15.5941603"}),f.a.createElement("path",{d:"M5.56703272,49.1760478 C5.56703272,49.1760478 5.89052681,49.3987668 1.18642225,22.8018908 C-1.5044529,10.3752944 1.18642225,3.19744231e-14 16.0051854,3.19744231e-14 L63.9836433,3.19744231e-14",stroke:"#DFDFDF",strokeWidth:"8",strokeLinecap:"round"})),f.a.createElement("g",{transform:"translate(0.000000, 0.118908)",stroke:"#4A4A4A",strokeWidth:"8"},f.a.createElement("path",{d:"M5.33167223,49.948748 C3.39491923,35.9408304 13.1223503,24.7764918 27.2604547,24.7764918 L122.496965,24.7764918 C136.638354,24.7764918 146.362727,35.9391879 144.425747,49.948748 L137.120328,102.786522 C135.124732,117.220028 121.539862,129.054446 106.970056,129.054446 L42.7873638,129.054446 C28.2145966,129.054446 14.6328787,117.221412 12.6370919,102.786522 L5.33167223,49.948748 L5.33167223,49.948748 Z"}),f.a.createElement("ellipse",{cx:"24.3041402",cy:"163.89492",rx:"15.5236966",ry:"15.5941603"}),f.a.createElement("ellipse",{cx:"131.662758",cy:"163.89492",rx:"15.5236966",ry:"15.5941603"}),f.a.createElement("path",{d:"M5.04589844,48.0383182 C5.04589844,48.0383182 3.51757812,38.386951 1.18642225,22.8018908 C-0.997070313,9.76976349 1.18642225,-3.19744231e-14 16.0051854,-3.19744231e-14 L63.9836433,-3.19744231e-14",strokeLinecap:"round"})),f.a.createElement("path",{d:"M43.9748428,102.52109 C43.9748428,90.8745717 54.8848885,76.8421053 73.7318384,76.8421053 C91.1921924,76.8421053 104.804952,89.0477488 104.804952,102.52109",stroke:"#4A4A4A",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),f.a.createElement("ellipse",{fill:"#4A4A4A",cx:"57.8742138",cy:"55.5087719",rx:"7.48427673",ry:"7.49122807"}),f.a.createElement("ellipse",{fill:"#4A4A4A",cx:"89.9496855",cy:"55.5087719",rx:"7.48427673",ry:"7.49122807"})))))};function Mh(e){return(Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zh(e){return(zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wh={onCloseAlert:We.a,hideActionSheet:fh},Vh=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zh(t).call(this,e))||"object"!==Mh(o)&&"function"!=typeof o?Gh(r):o).handleClose=n.handleClose.bind(Gh(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hh(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClose",value:function(){var e=this.props,t=e.onCloseAlert,n=e.hideActionSheet;t(),n()}},{key:"renderSoldOutModal",value:function(){var e=this.props.outOfStockBook.title;return f.a.createElement(ie.a,{onClose:this.handleClose},f.a.createElement("p",{className:"jsx-1940712352 hint"},"手慢一步，《".concat(e,"》被人抢走了")),f.a.createElement(P.a,{id:"1940712352"},[".hint.jsx-1940712352{padding:57px 26px 45px;}"]))}},{key:"render",value:function(){var e=this.props.alertState;if(e)switch(e.type){case"LOCK_IN_BOOK_SOLD_OUT":return this.renderSoldOutModal();default:return null}return null}}])&&Uh(n.prototype,r),o&&Uh(n,o),t}(),Kh=Object(a.b)(function(e){return{alertState:Object(F.f)(e),outOfStockBook:e.bookLockIn.outOfStockBook}},Wh)(Vh),qh=function(){return{type:Uo.hf}},Yh=function(e){var t=e.couponId,n=e.id,r=e.type,o=e.amount;return{type:Uo.Re,payload:{couponId:t,id:n,type:r,amount:o}}},Qh=n("EXbF"),Zh=function(e){var t=e.coupon,n=e.scene,r=e.highlightId,o=e.onActivateCoupon,a=t.couponId,i=t.endTime,c=t.id,l=t.type,s=t.amount,u=t.conditionAmount,p=t.ifValid;return f.a.createElement("div",{key:a,onClick:function(){"select"===n&&p&&o({couponId:a,id:c,type:l,amount:s})},className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" "+(N()("coupon-row",{selected:"select"===n&&a===r},{invalid:"select"===n&&!p})||"")},f.a.createElement("div",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" left-section"},f.a.createElement("div",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" title"},Object(Qh.a)(l)),f.a.createElement("div",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" description"},f.a.createElement("span",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])},Object(me.d)(i)," 到期"),f.a.createElement("span",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" dot"}),u?f.a.createElement("span",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])},"满 ",f.a.createElement(Mo.a,{sign:!0,smaller:!0,n:u,digit:0})," 可用"):f.a.createElement("span",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])},"无门槛"))),f.a.createElement("div",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" right-section"},"purchase_freight_free"===l?f.a.createElement("span",{className:P.a.dynamic([["3548145775",[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]]])+" cn"},"免运费"):f.a.createElement(Mo.a,{sign:!0,large:!0,normal:!0,n:s})),f.a.createElement(P.a,{id:"3548145775",dynamic:[Object(mi.a)(L.a.golden,.2),Object(mi.a)(L.a.golden,.06),L.a.golden,L.a.gray,L.a.gray,L.a.lighterFont,L.a.confusingGray,L.a.lighterFont,Object(mi.a)(L.a.golden,.2),L.a.lighterFont,L.a.lighterFont,L.a.golden]},[".coupon-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;height:72px;margin-bottom:12px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:solid 1px ".concat(Object(mi.a)(L.a.golden,.2),";background-color:").concat(Object(mi.a)(L.a.golden,.06),";padding:1px;}"),".coupon-row.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".coupon-row.selected.__jsx-style-dynamic-selector{border-color:".concat(L.a.golden,";border-width:2px;padding:0;}"),".coupon-row.invalid.__jsx-style-dynamic-selector{border-color:".concat(L.a.gray,";background-color:").concat(L.a.gray,";color:").concat(L.a.lighterFont,";}"),".coupon-row.invalid.__jsx-style-dynamic-selector .left-section.__jsx-style-dynamic-selector{border-right-color:".concat(L.a.confusingGray,";}"),".coupon-row.invalid.__jsx-style-dynamic-selector .right-section.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}"),".left-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:67%;height:100%;padding:0 10px 0 17px;border-right:solid 1px ".concat(Object(mi.a)(L.a.golden,.2),";overflow:hidden;}"),".title.__jsx-style-dynamic-selector{font-size:15px;font-weight:normal;}",".description.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;color:".concat(L.a.lighterFont,";margin-top:3px;}"),".dot.__jsx-style-dynamic-selector{width:2px;height:2px;background-color:".concat(L.a.lighterFont,";margin:0 6px;}"),".right-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:33%;color:".concat(L.a.golden,";overflow:hidden;}"),".cn.__jsx-style-dynamic-selector{font-size:16px;font-weight:normal;}"]))},Xh=Xi(function(e){var t=e.coupons,n=e.scene,r=e.highlightId,o=e.onActivateCoupon;return f.a.createElement("section",{className:"jsx-4259492610 coupon-list"},t.map(function(e){return f.a.createElement(Zh,{key:e.couponId,coupon:e,scene:n,highlightId:r,onActivateCoupon:o})}),f.a.createElement(P.a,{id:"4259492610"},[".coupon-list.jsx-4259492610{max-height:276px;margin-top:16px;margin-bottom:12px;overflow:scroll;-webkit-overflow-scrolling:touch;}"]))});function Jh(e){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eg(e){return(eg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ng(e,t){return(ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rg={onSelectCoupon:Yh,closeCouponSelect:function(){return{type:Uo.Wb}}},og={background:"#fff"},ag=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=eg(t).call(this,e))||"object"!==Jh(o)&&"function"!=typeof o?tg(r):o).state={activatedCoupon:{}},n.activateCoupon=n.activateCoupon.bind(tg(n)),n.handleConfirm=n.handleConfirm.bind(tg(n)),n.handleClose=n.handleClose.bind(tg(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ng(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.handleClose()}},{key:"activateCoupon",value:function(e){this.setState({activatedCoupon:e})}},{key:"handleConfirm",value:function(){var e=this.props,t=e.selectedCoupon,n=e.onSelectCoupon,r=this.state.activatedCoupon,o=r.couponId;o&&o!==t.couponId&&n(r),this.handleClose()}},{key:"handleClose",value:function(){this.setState({activatedCoupon:{}}),this.props.closeCouponSelect()}},{key:"render",value:function(){var e=this.props,t=e.scene,n=e.couponCount,r=e.coupons,o=e.displayCoupon,a=e.selectedCoupon,i=e.bookTotalPrice,c=e.bookShippingCost,l=e.lockedPrice;if(!o)return null;var s=this.state.activatedCoupon.couponId,u=a.couponId,p=s||u,d=[],m=[],y=[];r.forEach(function(e){var t=e.couponId,n=e.type,r=e.conditionAmount,o=Object(Qh.b)(n,r,i,c,l);e.ifValid=o,t===u?d.push(e):o?m.push(e):y.push(e)});var b=d.concat(m,y),h="select"===t?b:r;return f.a.createElement(pa.a,{onClose:this.handleClose,paddingStyle:og},f.a.createElement("div",{className:P.a.dynamic([["1891775426",[L.a.font]]])+" root"},f.a.createElement("header",{className:P.a.dynamic([["1891775426",[L.a.font]]])},f.a.createElement("h2",{className:P.a.dynamic([["1891775426",[L.a.font]]])+" coupon-title"},n," 张优惠券")),f.a.createElement(Xh,{coupons:h,scene:t,highlightId:p,onActivateCoupon:this.activateCoupon}),"select"===t&&f.a.createElement(D.a,{large:!0,block:!0,normal:!0,emphasis:!0,className:"confirm-book",onClick:this.handleConfirm},"好的")),f.a.createElement(P.a,{id:"1891775426",dynamic:[L.a.font]},[".root.__jsx-style-dynamic-selector{box-sizing:border-box;width:100%;}",".coupon-title.__jsx-style-dynamic-selector{margin-right:30px;margin-bottom:20px;font-size:18px;font-weight:500;color:".concat(L.a.font,";}")]))}}])&&$h(n.prototype,r),o&&$h(n,o),t}(),ig=Object(a.b)(function(e){var t=e.couponSelect;return{displayCoupon:t.displayCoupon,selectedCoupon:t.selectedCoupon,bookTotalPrice:Object(F.g)(e),bookShippingCost:Object(F.h)(e),lockedPrice:Object(F.L)(e),couponCount:Object(_e.e)(e),coupons:Object(_e.b)(e)}},rg)(ag),cg=n("z6DF");function lg(e){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ug(e,t){return!t||"object"!==lg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fg(e){return(fg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pg(e,t){return(pg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dg={onCloseAlert:We.a,onReserve:qo.f},mg=function(e){return e.map(function(e){return"book"===e.itemType?"《 ".concat(e.title," 》"):"item"===e.itemType?e.item.title:""}).join("、")},yg=function(e){return e.stock},bg=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ug(this,fg(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pg(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderSoldOutModal",value:function(){var e=this.props,t=e.onCloseAlert,n=e.onReserve,r=e.selectedInStockItems,o=e.recentlyReceivedOutOfStockItems,a=o.filter(yg),i=o.filter(Object(cg.a)(yg)),c=mg(a),l=mg(i),s=[{label:"返回查看",onClick:t}];return f.a.createElement(ie.a,{onClose:t,actions:r.length?s.concat({primary:!0,label:"继续下单",onClick:function(){n(),t()}}):s},f.a.createElement("p",{className:"jsx-1940712352 hint"},"手慢一步，有商品被人先抢走了 ",f.a.createElement("br",{className:"jsx-1940712352"}),a.length>0&&"".concat(c,"已替换成其他品相"),a.length>0&&i.length>0&&f.a.createElement("br",{className:"jsx-1940712352"}),i.length>0&&"".concat(l,"没有货了")),f.a.createElement(P.a,{id:"1940712352"},[".hint.jsx-1940712352{padding:57px 26px 45px;}"]))}},{key:"renderForbiddenModal",value:function(){return f.a.createElement(ie.a,{onClose:this.props.onCloseAlert},f.a.createElement("p",{className:"jsx-1940712352 hint"},"你下单太频繁了"),f.a.createElement(P.a,{id:"1940712352"},[".hint.jsx-1940712352{padding:57px 26px 45px;}"]))}},{key:"renderMaxPurchaseModal",value:function(){return f.a.createElement(ie.a,{onClose:this.props.onCloseAlert},f.a.createElement("p",{className:"jsx-1940712352 hint"},"选择的书超过100本了，请删减后再下单。"),f.a.createElement(P.a,{id:"1940712352"},[".hint.jsx-1940712352{padding:57px 26px 45px;}"]))}},{key:"render",value:function(){var e=this.props.alertState;if(!e)return null;switch(e.type){case"ITEM_SOLD_OUT":case"BOOK_SOLD_OUT":return this.renderSoldOutModal();case"PURCHASE_ORDER_TOO_FREQUENT":return this.renderForbiddenModal();case"EXCEED_MAX_PURCHASE_NUM":return this.renderMaxPurchaseModal();default:return null}}}])&&sg(n.prototype,r),o&&sg(n,o),t}(),hg=Object(a.b)(function(e){return{alertState:Object(F.f)(e),selectedInStockItems:Object(F.I)(e),recentlyReceivedOutOfStockItems:Object(F.B)(e)}},dg)(bg),gg=n("dCOi");n("F2Lp");function vg(){return(vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xg=function(e){var t=e.children,n=N()("Bar",{mp:Object(v.b)()});return f.a.createElement("div",{className:n},f.a.createElement(Xe.a,null,f.a.createElement("div",{className:"Bar-content"},t)))},wg=function(e){return f.a.createElement("div",vg({className:"Bar-text"},e))},Og={marginRight:4},Eg=function(e){var t=e.color,n=e.iconHeight,r=void 0===n?12:n,o=e.iconWidth,a=void 0===o?35:o,i=e.style;return f.a.createElement("span",{style:i,className:"jsx-3120246759 free-fee-label"},f.a.createElement($i,{fill:t||L.a.font,height:r,width:a,style:Og}),f.a.createElement("span",{className:"jsx-3120246759"},"服务费"),f.a.createElement(P.a,{id:"3120246759"},[".free-fee-label.jsx-3120246759{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))};n("0+oS");function jg(e){return(jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kg(){return(kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cg(e,t){return!t||"object"!==jg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pg(e){return(Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ig(e,t){return(Ig=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tg={selected:de.a.bool.isRequired,onChange:de.a.func.isRequired,children:de.a.node.isRequired},Ng=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cg(this,Pg(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ig(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.children,r=e.checkBoxStyle,o=e.disabled,a=e.onChange,i=_g(e,["selected","children","checkBoxStyle","disabled","onChange"]);return f.a.createElement("div",kg({className:"SelItem"},i),f.a.createElement("div",{className:"SelItem-checkbox"},f.a.createElement(bb,{disabled:o,style:r,checked:t,onChange:a})),f.a.createElement("div",{className:"SelItem-content"},n))}}])&&Sg(n.prototype,r),o&&Sg(n,o),t}();Ng.propTypes=Tg;var Rg=Ng,Lg=function(e){var t=e.count,n=e.onClick;return f.a.createElement("div",{className:P.a.dynamic([["876275433",[L.a.primary,Object(mi.a)(L.a.primary,.1)]]])+" root"},f.a.createElement("div",{onClick:n,className:P.a.dynamic([["876275433",[L.a.primary,Object(mi.a)(L.a.primary,.1)]]])+" banner"},"查看 ",t," 张优惠券",f.a.createElement(qn.a,null)),f.a.createElement(P.a,{id:"876275433",dynamic:[L.a.primary,Object(mi.a)(L.a.primary,.1)]},[".root.__jsx-style-dynamic-selector{background-color:white;}",".banner.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";background-color:").concat(Object(mi.a)(L.a.primary,.1),";padding:8px 0;text-align:center;font-size:13px;cursor:pointer;}")]))};function Ag(e){return(Ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bg(e,t){return!t||"object"!==Ag(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dg(e){return(Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mg(e,t){return(Mg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ug;Ug=Object(Qr.a)("/invitation","invitation");var zg=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bg(this,Dg(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mg(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){return this.props.isInvitationDisabled?null:f.a.createElement("a",{href:Ug,className:P.a.dynamic([["3952640618",[L.a.lightGreen,L.a.primary]]])+" invitation-banner"},"邀请新用户，得 20 元买书券",f.a.createElement(qn.a,null),f.a.createElement(P.a,{id:"3952640618",dynamic:[L.a.lightGreen,L.a.primary]},[".invitation-banner.__jsx-style-dynamic-selector{display:block;padding:8px 0;background-color:".concat(L.a.lightGreen,";color:").concat(L.a.primary,";text-align:center;font-size:13px;}")]))}}])&&Fg(n.prototype,r),o&&Fg(n,o),t}(),Gg=Object(a.b)(function(e){return{isInvitationDisabled:Object(_e.h)(e)}})(zg);function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(e){return(Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qg(e,t){return(qg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yg={onReserve:qo.f,onSelectAll:qo.g,onViewCoupons:qh},Qg={borderRadius:999},Zg={flexShrink:0,marginLeft:6},Xg={lineHeight:1.2},Jg=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vg(t).call(this,e))||"object"!==Hg(o)&&"function"!=typeof o?Kg(r):o).handleViewCoupon=n.handleViewCoupon.bind(Kg(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qg(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleViewCoupon",value:function(){(0,this.props.onViewCoupons)()}},{key:"renderBanner",value:function(){var e=this.props.couponCount;return f.a.createElement(Xe.a,null,e?f.a.createElement(Lg,{count:e,onClick:this.handleViewCoupon}):f.a.createElement(Gg,null))}},{key:"renderShippingCost",value:function(){var e=this.props,t=e.itemCount,n=e.totalBookPrice,r=e.totalItemPrice,o=e.booksShippingCost,a=e.freeItemServiceFee,i=e.shippingCostForItemOrder,c=e.province,l=e.bookInCartCount>0,s=e.itemInCartCount>0;if(0===t||l&&s)return null;var p,d=Object(gg.d)(c),m=0;l&&!s&&(m=o,p=d-n),!l&&s&&(m=i,p=gg.h-r);var y=m>0,b=a>0,h=b,g=!b&&y;return f.a.createElement("div",{className:"jsx-950377932 shipping-cost-line"},y?f.a.createElement(u.Fragment,null,"运费",f.a.createElement(fe.a,{normal:!0,price:!0,digit:!1,style:{marginRight:10}},m)):f.a.createElement(fe.a,{padEnd:!0},"已包邮"),h&&f.a.createElement(u.Fragment,null,f.a.createElement(Eg,{color:L.a.lighterFont,iconHeight:10,iconWidth:28}),f.a.createElement(fe.a,{normal:!0,price:!0,digit:!1},a)),g&&f.a.createElement(u.Fragment,null,"再买",f.a.createElement(fe.a,{normal:!0,price:!0,padStart:!0,padEnd:!0,digit:1},p),"包邮"),f.a.createElement(P.a,{id:"950377932"},[".shipping-cost-line.jsx-950377932{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:12px;}"]))}},{key:"render",value:function(){var e=this.props,t=e.itemCount,n=e.inStockItemCount,r=e.totalPrice,o=e.lockedPrice,a=e.onReserve,i=e.reserveStatus,c=e.onSelectAll;return f.a.createElement(Ze.a,null,this.renderBanner(),f.a.createElement(xg,null,n>0&&f.a.createElement(Rg,{checkBoxStyle:Qg,selected:t===n,onChange:function(e){return c(e)}},0===t&&f.a.createElement("span",{style:Zg},"全选")),0!==t&&f.a.createElement(fe.a,{centerAlign:!0,style:Zg},"已选",f.a.createElement(fe.a,{normal:!0,autoPadding:!0},t)),f.a.createElement(wg,null,f.a.createElement(fe.a,{right:!0,large:!0,emphasis:!0,following:!0,price:!0,style:Xg},r-o),this.renderShippingCost()),f.a.createElement(D.a,{primary:!0,component:M.a,to:"/cart/checkout",disabled:!t||"loading"===i,onClick:function(e){e.preventDefault(),a()}},"结算")))}}])&&Wg(n.prototype,r),o&&Wg(n,o),t}(),$g=Object(a.b)(function(e){return{inStockItemCount:Object(F.r)(e).length,itemCount:Object(F.I)(e).length,province:e.address.values.province,totalPrice:Object(F.S)(e),totalBookPrice:Object(F.g)(e),totalItemPrice:Object(F.v)(e),lockedPrice:Object(F.L)(e),reserveStatus:e.cart.reserveStatus,booksShippingCost:Object(F.h)(e),freeItemServiceFee:Object(F.p)(e),shippingCostForItemOrder:Object(F.P)(e),couponCount:Object(_e.e)(e),bookInCartCount:Object(F.G)(e),itemInCartCount:Object(F.K)(e)}},Yg)(Jg);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tv(){return(tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rv(e){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ov(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function av(e,t){return(av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iv=function(){return f.a.createElement("span",{className:P.a.dynamic([["605819810",[L.a.lighterFont]]])+" hint"},"到货提醒发送规则",f.a.createElement(P.a,{id:"605819810",dynamic:[L.a.lighterFont]},[".hint.__jsx-style-dynamic-selector{font-size:13px;font-weight:300;line-height:normal;text-align:right;color:".concat(L.a.lighterFont,";}")]))},cv=["当一本书被太多人标记了「到货提醒」时，通知是无法做到同时发送给所有人的，如果在发送过程中这本书已经被买走了，就不会继续给余下的人发送了，这会导致有时候书到货了却有部分用户没收到通知的情况。","我们会用公平的轮换机制去安排每次书到货时的通知发送顺序。"],lv=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=rv(t).call(this))||"object"!==ev(r)&&"function"!=typeof r?ov(n):r).state={showRuleModal:!1},e.toggleRuleModal=e.toggleRuleModal.bind(ov(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&av(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleRuleModal",value:function(){this.setState({showRuleModal:!this.state.showRuleModal})}},{key:"renderRuleModal",value:function(){return f.a.createElement(ie.a,{onClose:this.toggleRuleModal},f.a.createElement("div",{className:"jsx-404546593 content"},f.a.createElement("h2",{className:"jsx-404546593 title"},"到货提醒发送规则"),f.a.createElement("div",{className:"jsx-404546593 desc"},"每次有书上架时都会给标记过这本书「到货提醒」的用户发通知。"),f.a.createElement(mm.a,{items:cv})),f.a.createElement(P.a,{id:"404546593"},[".content.jsx-404546593{padding:0 23px 17px;}",".title.jsx-404546593{padding:26px 0 16px;font-size:18px;font-weight:500;line-height:normal;text-align:center;}",".desc.jsx-404546593{margin-bottom:13px;font-size:16px;font-weight:300;font-style:normal;line-height:1.5;text-align:left;}"]))}},{key:"render",value:function(){var e=this.props,t=e.iconStyle,n=e.hintRenderer,r=void 0===n?iv:n,o=this.state.showRuleModal;return f.a.createElement("div",{className:"jsx-665962983 arrival-rule"},r(),f.a.createElement(oe,tv({width:13,height:13,stroke:L.a.lighterFont,onClick:this.toggleRuleModal},t)),o&&this.renderRuleModal(),f.a.createElement(P.a,{id:"665962983"},[".arrival-rule.jsx-665962983{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}}])&&nv(n.prototype,r),o&&nv(n,o),t}();function sv(e){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fv(e){return(fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dv(e,t){return(dv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mv={reLockIn:yh},yv=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=fv(t).call(this,e))||"object"!==sv(o)&&"function"!=typeof o?pv(r):o).handleClick=n.handleClick.bind(pv(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dv(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(e){var t=this.props,n=t.cartBookId,r=t.reLockIn,o=t.lockStatus;e.preventDefault(),e.stopPropagation(),"pending"!==o&&r(n,{payWay:"wechat"})}},{key:"render",value:function(){var e=this.props.lockStatus,t="";return"unpaid"===e?t=f.a.createElement(fe.a,null,"支付未完成，再次支付",f.a.createElement(qn.a,null)):"pending"===e&&(t="锁定支付中，请稍等…"),f.a.createElement("div",{onClick:this.handleClick,className:P.a.dynamic([["2110862027",[L.a.primary]]])+" root"},t,f.a.createElement(P.a,{id:"2110862027",dynamic:[L.a.primary]},[".root.__jsx-style-dynamic-selector{font-size:12px;font-weight:normal;line-height:1.5;text-align:right;color:".concat(L.a.primary,";}")]))}}])&&uv(n.prototype,r),o&&uv(n,o),t}(),bv=Object(a.b)(function(e,t){var n=t.cartBookId;return{lockStatus:Object(F.i)(e,n).lockStatus}},mv)(yv);function hv(e){return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vv(e){return(vv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(e,t){return(wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ov={onRemove:Wc,onAdd:Hc},Ev={fontSize:"12px",padding:"6px 12px",color:L.a.primary,backgroundColor:"#fff"},jv=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=vv(t).call(this,e))||"object"!==hv(o)&&"function"!=typeof o?xv(r):o).handleClick=n.handleClick.bind(xv(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wv(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClick",value:function(e){var t=this.props,n=t.cartBookId,r=t.itemId,o=t.isAdded,a=t.onAdd,i=t.onRemove;e.preventDefault(),e.stopPropagation(),o?i(n):a(r)}},{key:"render",value:function(){var e=this.props,t=e.inSearch,n=e.isAdded;return t?f.a.createElement(D.a,{medium:!0,round:!0,primary:!n,gray:n,onClick:this.handleClick},n?f.a.createElement(fe.a,{light:!0},"取消提醒"):f.a.createElement(fe.a,null,"到货提醒")):f.a.createElement(D.a,{slim:!0,round:!0,primary:!n,onClick:this.handleClick,style:Ev},n?f.a.createElement(fe.a,{light:!0},"取消到货提醒"):f.a.createElement(fe.a,null,"到货提醒"))}}])&&gv(n.prototype,r),o&&gv(n,o),t}(),kv=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n);return{isAdded:r&&r.inStockRemind}},Ov)(jv),_v=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book,a=r.hasPreLocked;return{inStock:Object(Do.p)(o,r),images:o.images,hasPreLocked:a}})(function(e){var t=e.images,n=e.inStock,r=e.hasPreLocked;return f.a.createElement(Ga.a,{mini:!0,fixHeight:!0,images:t,inStock:n||r,className:"CompItem-image"})}),Sv={lineHeight:1.13},Cv=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book,a=o.price,i=Object(Do.p)(o,r),c=Object(Do.m)(o,r);return{finalPrice:c?c.price:a,disable:!c,inStock:i,isFree:!!c&&"free"===c.condition}})(function(e){var t=e.inStock,n=e.finalPrice,r=e.disable,o=e.isFree;return t?o?f.a.createElement(rc,{withLink:!0}):f.a.createElement(Mo.a,{sign:!0,medium:!0,normal:!0,style:Sv,n:n,disable:r}):null}),Pv=function(e){var t=e.onClick,n=e.children,r=e.emphasis,o=e.autoHeight,a=e.large;return f.a.createElement(Ua.a,{autoHeight:o,large:a,emphasis:r,normal:!r,onClick:t},n,f.a.createElement(fl,{color:r?L.a.emphasis:L.a.lightFont}))};function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nv(e){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lv(e,t){return(Lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Av={onSelectGoods:Vo.b},Fv=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Nv(t).call(this,e))||"object"!==Iv(o)&&"function"!=typeof o?Rv(r):o).handleSelectClick=n.handleSelectClick.bind(Rv(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lv(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleSelectClick",value:function(e){var t=this.props,n=t.onSelectGoods,r=t.bookId;e.preventDefault(),n(r)}},{key:"render",value:function(){var e=this.props,t=e.wishlist,n=e.multiGoods,r=e.hasSelectedGoods,o=e.hasLocked,a=e.condition,i=e.flawFlag,c=e.flawReasons,l=e.traitDesc;return t||!r||"free"===a?null:n&&!o?f.a.createElement(Pv,{autoHeight:!0,onClick:this.handleSelectClick},f.a.createElement(Ka,{condition:a,flawFlag:i,flawReasons:c,traitDesc:l})):f.a.createElement(Ka,{condition:a,flawFlag:i,flawReasons:c,traitDesc:l})}}])&&Tv(n.prototype,r),o&&Tv(n,o),t}(),Bv=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book,a=Object(Do.m)(o,r),i=Object(Do.o)(o.goods,r),c=a||{},l=c.condition,s=c.flawFlag,u=c.flawReasons,f=c.traitDesc;return{bookId:o.id,hasSelectedGoods:!!a,multiGoods:i,condition:l,flawFlag:s,flawReasons:u,traitDesc:f,hasLocked:r.hasLocked}},Av)(Fv);function Dv(e){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uv(e){return(Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gv(e,t){return(Gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hv={openLockInActionSheet:function(e){return{type:Uo.if,payload:e}}},Wv={fontSize:"12px",padding:"6px 10px",backgroundColor:"#fff",color:L.a.primary},Vv=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=Uv(t).call(this))||"object"!==Dv(r)&&"function"!=typeof r?zv(n):r).handleLockIn=e.handleLockIn.bind(zv(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gv(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleLockIn",value:function(e){e.preventDefault(),this.props.openLockInActionSheet(this.props.cartBookId)}},{key:"render",value:function(){return this.props.isFree?null:f.a.createElement(D.a,{slim:!0,round:!0,primary:!0,style:Wv,onClick:this.handleLockIn},"锁定")}}])&&Mv(n.prototype,r),o&&Mv(n,o),t}(),Kv=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book;return{isFree:"free"===(Object(Do.m)(o,r)||{}).condition}},Hv)(Vv);function qv(e){return(qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qv(e,t){return!t||"object"!==qv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zv(e){return(Zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xv(e,t){return(Xv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jv=function(e){e.preventDefault(),Object(A.a)().push("/support/lockin")},$v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qv(this,Zv(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xv(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.lockExpiredTime;return f.a.createElement("div",{className:P.a.dynamic([["484637354",[L.a.lightFont]]])+" lockin-info"},f.a.createElement(be,{relative:!0,value:e}),f.a.createElement(fe.a,{padStart:!0},"到期"),f.a.createElement("button",{onClick:Jv,className:P.a.dynamic([["484637354",[L.a.lightFont]]])},f.a.createElement(oe,{width:12,height:12,stroke:L.a.lightFont})),f.a.createElement(P.a,{id:"484637354",dynamic:[L.a.lightFont]},[".lockin-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;font-size:12px;font-weight:normal;color:".concat(L.a.lightFont,";}"),".lockin-info.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{line-height:0;}"]))}}])&&Yv(n.prototype,r),o&&Yv(n,o),t}(),ex=Object(a.b)(function(e,t){var n=t.cartBookId;return{lockExpiredTime:1e3*Object(F.i)(e,n).lockExpiredTime}})($v);function tx(e){return(tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rx(e){return(rx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ox(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ax(e,t){return(ax=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ix={openBookReserve:ca},cx=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=rx(t).call(this,e))||"object"!==tx(o)&&"function"!=typeof o?ox(r):o).handleReserveClick=n.handleReserveClick.bind(ox(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ax(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleReserveClick",value:function(e){var t=this.props,n=t.bookId,r=t.cartBookId,o=t.openBookReserve;e.preventDefault(),o(n,r)}},{key:"render",value:function(){var e=this.props,t=e.inStock,n=e.prelockCouponNum,r=e.hasPreLocked,o=e.inStockRemind;if(r||!o||t)return null;var a=n>=1?L.a.primary:L.a.lighterFont;return f.a.createElement("span",{onClick:this.handleReserveClick,className:P.a.dynamic([["1567738029",[a]]])+" balance-reserve"},"预定",f.a.createElement(P.a,{id:"1567738029",dynamic:[a]},[".balance-reserve.__jsx-style-dynamic-selector{color:".concat(a,";font-size:12px;font-weight:normal;line-height:normal;}")]))}}])&&nx(n.prototype,r),o&&nx(n,o),t}(),lx=Object(a.b)(function(e,t){var n=t.cartBookId,r=e.settings.prelockCouponNum,o=Object(F.i)(e,n),a=o.book,i=o.hasPreLocked,c=o.inStockRemind;return{bookId:a.id,inStock:Object(Do.p)(a,o),prelockCouponNum:r,hasPreLocked:i,inStockRemind:c}},ix)(cx);function sx(e){return(sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fx(e){return(fx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function px(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dx(e,t){return(dx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mx={openBookReserve:ca},yx={fontSize:"12px",padding:"6px 10px",backgroundColor:"#fff",color:L.a.primary},bx={fontSize:12,lineHeight:1.5},hx=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=fx(t).call(this,e))||"object"!==sx(o)&&"function"!=typeof o?px(r):o).handleReserveClick=n.handleReserveClick.bind(px(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dx(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleReserveClick",value:function(e){var t=this.props,n=t.bookId,r=t.cartBookId,o=t.openBookReserve;e.preventDefault(),o(n,r)}},{key:"render",value:function(){var e=this.props,t=e.stock;return e.hasPreLocked?f.a.createElement("div",{className:"reserve-info"},t?f.a.createElement(D.a,{slim:!0,round:!0,primary:!0,style:yx,onClick:this.handleReserveClick},"支付尾款"):f.a.createElement(ma.a,{withArrow:!0,colored:!0,style:bx,onClick:this.handleReserveClick},"已预定，查看详情")):null}}])&&ux(n.prototype,r),o&&ux(n,o),t}(),gx=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book;return{bookId:o.id,cartBookId:n,stock:o.stock,hasPreLocked:r.hasPreLocked}},mx)(hx);function vx(e){return(vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wx(e){return(wx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ox(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ex(e,t){return(Ex=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jx=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=wx(t).call(this,e))||"object"!==vx(o)&&"function"!=typeof o?Ox(r):o).handleRemoveClick=n.handleRemoveClick.bind(Ox(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ex(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleRemoveClick",value:function(e){e.preventDefault(),this.props.onDelete(this.props.cartBookId)}},{key:"render",value:function(){var e,t,n=this.props,r=n.bookId,o=n.title,a=n.cartBookId,i=n.wishlist,c=n.hasLocked,l=n.hasPreLocked,s=n.isLockPending,u=n.expectedPutawayDays,p=n.latestPutawayTime,d=n.stock;return e=i&&!l?f.a.createElement(kv,{cartBookId:a,itemId:r}):c?f.a.createElement(ex,{cartBookId:a}):l?f.a.createElement(gx,{cartBookId:a}):s?f.a.createElement(bv,{cartBookId:a}):f.a.createElement(Kv,{cartBookId:a}),i||(t=f.a.createElement("div",{className:P.a.dynamic([["3252359244",[c?"8px":"0px"]]])+" locked-book-quality"},f.a.createElement(Bv,{wishlist:i,cartBookId:a}),f.a.createElement(P.a,{id:"3252359244",dynamic:[c?"8px":"0px"]},[".locked-book-quality.__jsx-style-dynamic-selector{margin-top:4px;margin-bottom:".concat(c?"8px":"0px",";}")]))),l&&!d&&(t=f.a.createElement("div",{className:"jsx-582615644 prelocked-book"},f.a.createElement(qa,{expectedPutawayDays:u,latestPutawayTime:p}),f.a.createElement(P.a,{id:"582615644"},[".prelocked-book.jsx-582615644{font-size:12px;margin-top:4px;}"]))),f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" root"},f.a.createElement(M.a,{to:"/books/".concat(r)},f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" inner"},f.a.createElement(_v,{cartBookId:a}),f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" book-content"},f.a.createElement("h2",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" book-title"},o),t,f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" holder"}),f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" book-detail"},i&&f.a.createElement(lx,{cartBookId:a}),f.a.createElement(Cv,{cartBookId:a}),f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" holder"}),e)),!(c||s||l)&&f.a.createElement("div",{className:P.a.dynamic([["1114076791",[L.a.font,c?"center":"flex-end"]]])+" remove-btn"},f.a.createElement(D.a,{flatIcon:!0,onClick:this.handleRemoveClick},f.a.createElement(Fb.a,{width:10,height:10,stroke:L.a.lighterFont}))))),f.a.createElement(P.a,{id:"1114076791",dynamic:[L.a.font,c?"center":"flex-end"]},[".root.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding-left:12px;position:relative;}",".inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding:18px 15px 18px 0;}",".book-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:70px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:12px;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".book-title.__jsx-style-dynamic-selector{margin-right:29px;font-size:14px;font-weight:normal;color:".concat(L.a.font,";}"),".book-detail.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:".concat(c?"center":"flex-end",";-webkit-box-align:").concat(c?"center":"flex-end",";-ms-flex-align:").concat(c?"center":"flex-end",";align-items:").concat(c?"center":"flex-end",";position:relative;}"),".quality-wrap.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".remove-btn.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;}"]))}}])&&xx(n.prototype,r),o&&xx(n,o),t}(),kx=Object(a.b)(function(e,t){var n=t.cartBookId,r=Object(F.i)(e,n),o=r.book,a=r.hasLocked,i=r.lockStatus,c=r.hasPreLocked,l=o.id,s=o.title,u=o.expectedPutawayDays,f=o.latestPutawayTime,p=o.stock;return{bookId:l,title:s,hasLocked:a,hasPreLocked:c,isLockPending:Object(Do.r)(i),expectedPutawayDays:u,latestPutawayTime:f,stock:p}})(jx);function _x(){return(_x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sx(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Cx=function(e){var t=e.children,n=e.className,r=Sx(e,["children","className"]);return f.a.createElement("div",_x({},r,{className:P.a.dynamic([["2929915145",[L.a.gray]]])+" "+(null!=r.className&&r.className||N()("cart-header",n)||"")}),f.a.createElement("div",{className:P.a.dynamic([["2929915145",[L.a.gray]]])+" holder"}),t,f.a.createElement(P.a,{id:"2929915145",dynamic:[L.a.gray]},[".cart-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:42px;padding:0 15px;border-bottom:0.5px solid ".concat(L.a.gray,";background:#fff;line-height:42px;font-size:14px;font-weight:300;}")]))},Px=function(e){var t=e.condition,n=void 0===t?"":t,r=e.flawReasons,o=void 0===r?[]:r,a=e.withButton;return f.a.createElement("span",{className:P.a.dynamic([["53898105",[L.a.emphasis]]])+" "+(N()("item-quality",{emphasis:"medium"===n})||"")},function(e,t){var n=t[0]||"";return"new"===e?"未使用":"fine"===e?"品相良好，".concat(n||"轻微使用痕迹。"):"medium"===e?["品相中等",n].filter(Boolean).join("，"):""}(n,o),a&&f.a.createElement(ae,{to:"/support/item-condition",style:{marginLeft:"3px"}}),f.a.createElement(P.a,{id:"53898105",dynamic:[L.a.emphasis]},[".emphasis.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}")]))};function Ix(e){return(Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nx(e){return(Nx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lx(e,t){return(Lx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fx(e,t,n[t])})}return e}function Fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bx=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Nx(t).call(this,e))||"object"!==Ix(o)&&"function"!=typeof o?Rx(r):o).handleRemoveClick=n.handleRemoveClick.bind(Rx(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lx(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleRemoveClick",value:function(e){e.preventDefault(),this.props.onDelete(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.selectable,r=t.id,o=t.title,a=t.images,i=t.price,c=t.goods;if(!t)return null;var l=(void 0===c?[]:c)[0],s=l.condition,u=l.flawReasons;return f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" root"},f.a.createElement(M.a,{to:"/items/".concat(r)},f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" inner"},f.a.createElement(Ga.a,{mini:!0,fixHeight:!0,images:{small:a&&a.length?a[0]:""}}),f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" item-content"},f.a.createElement("h2",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" item-title"},o),f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" item-info"},f.a.createElement(Px,{condition:s,flawReasons:u})),f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" item-detail"},f.a.createElement(Mo.a,{sign:!0,medium:!0,normal:!0,n:i,disable:!n}))),f.a.createElement("div",{className:P.a.dynamic([["3663763879",[L.a.font]]])+" remove-btn"},f.a.createElement(D.a,{flatIcon:!0,onClick:this.handleRemoveClick},f.a.createElement(Fb.a,{width:10,height:10,stroke:L.a.lighterFont}))))),f.a.createElement(P.a,{id:"3663763879",dynamic:[L.a.font]},[".root.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding-left:12px;position:relative;}",".inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding:18px 15px 18px 0;}",".item-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:70px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:12px;}",".item-title.__jsx-style-dynamic-selector{margin-right:29px;font-size:14px;font-weight:normal;color:".concat(L.a.font,";}"),".item-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:1;-ms-flex:1;flex:1;font-size:12px;margin-right:25px;}",".remove-btn.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;}"]))}}])&&Tx(n.prototype,r),o&&Tx(n,o),t}(),Dx=Object(a.b)(function(e,t){var n=t.id,r=Object(F.i)(e,n).item;return{item:Ax({},r.item,{id:r.id})}})(Bx);function Mx(e){return(Mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zx(e,t){return!t||"object"!==Mx(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gx(e){return(Gx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hx(e,t){return(Hx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wx={onDelete:qo.b,onRemind:Hc,onCancelRemind:Wc,onSelectGoods:Vo.b,onSelect:qo.h},Vx={paddingLeft:15},Kx=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zx(this,Gx(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hx(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderDivider",value:function(){var e=this.props.isFirstRow,t=f.a.createElement(Cx,null,f.a.createElement("span",{className:"jsx-2558325254 info"},"以下暂时无货"),f.a.createElement(lv,null),f.a.createElement(P.a,{id:"2558325254"},[".info.jsx-2558325254{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]));return e?t:f.a.createElement(u.Fragment,null,f.a.createElement("div",{className:P.a.dynamic([["2848126465",[L.a.lightGray]]])+" holder"}),t,f.a.createElement(P.a,{id:"2848126465",dynamic:[L.a.lightGray]},[".holder.__jsx-style-dynamic-selector{height:22px;background-color:".concat(L.a.lightGray,";}")]))}},{key:"renderItem",value:function(){var e=this.props,t=e.id,n=e.type,r=e.hasSelected,o=e.hasReserved,a=e.inStock,i=e.onSelect,c=e.onDelete;return"noStockCartItem"!==n&&(a||o)?f.a.createElement(Rg,{style:Vx,selected:r,onChange:function(e){return i(t,e)}},f.a.createElement(Dx,{id:t,onDelete:c,selectable:!0})):f.a.createElement(Dx,{id:t,onDelete:c,selectable:!1})}},{key:"renderBook",value:function(){var e=this.props,t=e.type,n=e.id,r=e.hasSelected,o=e.hasPreLocked,a=e.inStock,i=e.isLockPending,c=e.onSelect,l=e.onDelete,s=e.onSelectGoods,u=e.onRemind,p=e.onCancelRemind,d=f.a.createElement(kx,{wishlist:!0,cartBookId:n,onRemind:u,onCancelRemind:p,onDelete:l});return"noStockCartItem"!==t&&(a||o)&&(d=f.a.createElement(Rg,{style:Vx,selected:r,disabled:i||o,onChange:function(e){return c(n,e)}},f.a.createElement(kx,{cartBookId:n,onRemind:u,onCancelRemind:p,onDelete:l,onSelectGoods:s}))),d}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.id,r=e.book,o=e.hasLocked,a=e.hasPreLocked,i=e.isLockPending,c=e.displayDivider,l=r?this.renderBook():this.renderItem();return f.a.createElement("div",{key:n,className:P.a.dynamic([["1962165312",[L.a.gray,L.a.gray,L.a.lightGreen]]])+" "+(N()("cartbook-row",{locked:o&&"noStockCartItem"!==t,"lock-pending":i,reserved:a})||"")},c&&this.renderDivider(),l,f.a.createElement(P.a,{id:"1962165312",dynamic:[L.a.gray,L.a.gray,L.a.lightGreen]},[".cartbook-row.__jsx-style-dynamic-selector{border-top:0.5px solid ".concat(L.a.gray,";}"),".cartbook-row.__jsx-style-dynamic-selector:last-child{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".cartbook-row.locked.__jsx-style-dynamic-selector,.cartbook-row.reserved.__jsx-style-dynamic-selector,.cartbook-row.lock-pending.__jsx-style-dynamic-selector{background:".concat(L.a.lightGreen,";}")]))}}])&&Ux(n.prototype,r),o&&Ux(n,o),t}(),qx=Object(a.b)(function(e,t){var n,r=t.id,o=Object(F.i)(e,r),a=o.hasReserved,i=o.hasSelected,c=o.hasLocked,l=o.book,s=o.item,u=o.itemType,f=o.lockStatus,p=o.hasPreLocked;return"book"===u&&(n=Object(Do.p)(l,o)),"item"===u&&(n=s.item.stock),{itemType:u,item:s,book:l,hasReserved:a,hasSelected:i,hasLocked:c,hasPreLocked:p,inStock:n,isLockPending:Object(Do.r)(f)}},Wx)(Kx);function Yx(e){return(Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zx(e){return(Zx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(e,t){return(Jx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $x={hideGuide:Te.f},ew=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Zx(t).call(this,e))||"object"!==Yx(o)&&"function"!=typeof o?Xx(r):o).hasHideGuide=!1,n.handleClose=n.handleClose.bind(Xx(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jx(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.handleClose()}},{key:"handleClose",value:function(){this.hasHideGuide||(this.props.hideGuide(),this.hasHideGuide=!0)}},{key:"render",value:function(){return f.a.createElement(ie.a,{onClose:this.handleClose},f.a.createElement("p",{className:"jsx-1940712352 hint"},"标记过到货提醒的书已并入购物车"),f.a.createElement(P.a,{id:"1940712352"},[".hint.jsx-1940712352{padding:57px 26px 45px;}"]))}}])&&Qx(n.prototype,r),o&&Qx(n,o),t}(),tw=Object(a.b)(function(e){return{currentUser:e.session.user}},$x)(function(e){var t=e.hideGuide;return e.currentUser.showTips.mergeCartAndWishListGuide?f.a.createElement(ew,{hideGuide:t}):null});function nw(e){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ow(e){return(ow=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iw(e,t){return(iw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cw={onLoad:qo.k,onLoadSettings:Ko.b,stopPayCheckTimer:_.j,openBookReserve:ca},lw={marginBottom:12},sw=function(){return f.a.createElement("div",{className:"jsx-1820779602 cart-inner"},f.a.createElement(Dh,{style:lw}),f.a.createElement("div",{className:"jsx-1820779602"},"购物车是空的，"),f.a.createElement("div",{className:"jsx-1820779602"},"去首页添加喜欢的书籍吧"),f.a.createElement(P.a,{id:"1820779602"},[".cart-inner.jsx-1820779602{text-align:center;margin-bottom:90px;}"]))},uw=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ow(t).call(this,e))||"object"!==nw(o)&&"function"!=typeof o?aw(r):o).renderItem=n.renderItem.bind(aw(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iw(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;(0,e.onLoadSettings)(),("initial"===t||n)&&r(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.cartBooks,r=t.fromPreLock,o=t.reserveCartBook,a=t.openBookReserve,i=t.onLoad;if(e.cartBooks.length&&!n.length&&i(!0),r&&!e.reserveCartBook&&o){var c=o.item,l=c.id;a(c.book.id,l)}}},{key:"componentWillUnmount",value:function(){this.props.stopPayCheckTimer()}},{key:"renderItem",value:function(e,t){var n=e.type,r=e.item.id,o=this.props.dividerIndex;return f.a.createElement(qx,{key:r,id:r,type:n,isFirstRow:0===o,displayDivider:t===o})}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.onLoad,r=e.cartBooks;return f.a.createElement("div",{className:P.a.dynamic([["2229674118",[L.a.lightFont]]])+" "+(N()("root",{empty:0===r.length})||"")},f.a.createElement(Ut.a,{loadStatus:t,items:r,loader:n,renderItem:this.renderItem,renderEmptyContent:sw}),f.a.createElement(hg,null),f.a.createElement($g,null),f.a.createElement(tw,null),f.a.createElement(bc,null),f.a.createElement(ig,{scene:"view"}),f.a.createElement(Fh,null),f.a.createElement(Kh,null),f.a.createElement(Hi,null),f.a.createElement(G,{hasBottomBar:!0}),f.a.createElement(P.a,{id:"2229674118",dynamic:[L.a.lightFont]},[".root.__jsx-style-dynamic-selector{padding-bottom:64px;}",".empty.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(L.a.lightFont,";}")]))}}])&&rw(n.prototype,r),o&&rw(n,o),t}(),fw=Object(a.b)(function(e,t){var n=t.history,r=t.location.search,o=Object(Mt.a)(r),a=o.from,i=o.cartId,c=Object(F.V)(e),l=Object(F.s)(e,i);return{shouldLoad:"POP"!==n.action,fromPreLock:"prelock"===a,cartBooks:c,reserveCartBook:l,loadStatus:e.cart.cartBooks.loadStatus,dividerIndex:Object(F.A)(e)}},cw)(Object(Ne.a)(uw));function pw(e){return(pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mw(e){return(mw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bw(e,t){return(bw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hw={onLoad:Gc,onDelete:qo.b,onRemove:Wc},gw=function(){return f.a.createElement("div",{className:P.a.dynamic([["2383628836",[L.a.lighterFont]]])+" empty-wishlist"},"遇到想买的书无货可以标记到货提醒",f.a.createElement("br",{className:P.a.dynamic([["2383628836",[L.a.lighterFont]]])}),"有货了会通知你",f.a.createElement(P.a,{id:"2383628836",dynamic:[L.a.lighterFont]},[".empty-wishlist.__jsx-style-dynamic-selector{width:209px;margin-top:96px;line-height:1.38;font-size:13px;font-weight:300;text-align:center;color:".concat(L.a.lighterFont,";}")]))},vw=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=mw(t).call(this,e))||"object"!==pw(o)&&"function"!=typeof o?yw(r):o).renderItem=n.renderItem.bind(yw(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bw(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r(!0)}},{key:"renderItem",value:function(e){var t=e.id,n=this.props,r=n.onDelete,o=n.onRemove;return f.a.createElement("div",{key:t,className:P.a.dynamic([["1024972184",[L.a.gray]]])+" wishlist-row"},f.a.createElement(kx,{wishlist:!0,cartBookId:t,onDelete:r,onCancelRemind:o}),f.a.createElement(P.a,{id:"1024972184",dynamic:[L.a.gray]},[".wishlist-row.__jsx-style-dynamic-selector{border:0.5px solid ".concat(L.a.gray,";}")]))}},{key:"renderHeader",value:function(){var e=this.props.wishlistCount;return f.a.createElement(Cx,null,f.a.createElement("span",{className:"jsx-2558325254 info"},"到货提醒 ".concat(e)),f.a.createElement(lv,null),f.a.createElement(P.a,{id:"2558325254"},[".info.jsx-2558325254{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.wishlistItems,r=e.onLoad;return f.a.createElement("div",{className:"jsx-3845679986 "+(N()("root",{empty:0===n.length})||"")},f.a.createElement(ue.a,{title:"购物车"}),n.length>0&&this.renderHeader(),f.a.createElement(Ut.a,{loadStatus:t,items:n,loader:r,renderItem:this.renderItem,renderEmptyContent:gw}),f.a.createElement(Hi,null),f.a.createElement(G,null),f.a.createElement(P.a,{id:"3845679986"},[".root.jsx-3845679986{padding-bottom:64px;}"]))}}])&&dw(n.prototype,r),o&&dw(n,o),t}(),xw=Object(a.b)(function(e,t){var n=t.history;return{loadStatus:e.wishlist.loadStatus,shouldLoad:"POP"!==n.action,wishlistItems:Object(F.Z)(e),wishlistCount:e.wishlist.count}},hw)(Object(Ne.a)(vw));function ww(e){return(ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ew(e,t){return!t||"object"!==ww(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jw(e){return(jw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kw(e,t){return(kw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ew(this,jw(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kw(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-3561789574 root"},f.a.createElement(ue.a,{title:"购物车"}),f.a.createElement("div",{className:"jsx-3561789574 tab"},f.a.createElement(jd,{even:!0},f.a.createElement(kd,{exact:!0,replace:!0,to:O.f?"/cart/all":"/cart"},"全部"),f.a.createElement(kd,{exact:!0,replace:!0,to:"/cart/wishlist"},"到货提醒"))),f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:O.f?"/cart/all":"/cart",component:fw}),f.a.createElement(i.a,{exact:!0,path:"/cart/wishlist",component:xw}),O.f&&f.a.createElement(xd.a,{from:"/cart",to:"/cart/all"})),f.a.createElement(Wl,null),f.a.createElement(P.a,{id:"3561789574"},[".root.jsx-3561789574{min-height:100vh;background:#fff;}"]))}}])&&Ow(n.prototype,r),o&&Ow(n,o),t}(),Sw=Object(Ne.a)(_w),Cw=n("xQ31"),Pw=n("IiWD");function Iw(){return(Iw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tw=function(e){return f.a.createElement("svg",Iw({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e),f.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))};function Nw(){return(Nw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aw(e,t){return!t||"object"!==Rw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fw(e){return(Fw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bw(e,t){return(Bw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Aw(this,Fw(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bw(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,r=e.isSubscribed,o=e.parentCategory.themeColor,a=e.onUnsubscribe,i=e.onSubscribe,c=e.hasLoggedIn;return f.a.createElement("div",{style:{color:o},className:"jsx-1877094313 root"},f.a.createElement("div",{className:"jsx-1877094313 name"},O.f?f.a.createElement("span",{onClick:function(){return e="/categories/".concat(n),void Object(Jr.f)({backward:{path:e,callback:Jr.b}});var e},className:"jsx-1877094313"},t):f.a.createElement(ma.a,{to:"/categories/".concat(n),block:!0},t)),O.f&&!c?null:f.a.createElement("div",{style:{backgroundColor:r?Object(mi.a)(o,.2):"#fff"},className:"jsx-1877094313 "+(N()("actions",{isSubscribed:r})||"")},f.a.createElement("button",{onClick:r?function(){return a(n)}:function(){return i(n)},className:"jsx-1877094313 action"},r?f.a.createElement(lt,{width:"20",style:{marginTop:2}}):f.a.createElement(Tw,{width:"20",style:{marginTop:1}}))),f.a.createElement(P.a,{id:"1877094313"},[".root.jsx-1877094313{-webkit-flex:1 0 42%;-ms-flex:1 0 42%;flex:1 0 42%;max-width:42%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:20px;}",".root.jsx-1877094313:nth-child(2n){-webkit-flex:10 42%;-ms-flex:10 42%;flex:10 42%;margin-left:16%;}",".name.jsx-1877094313{-webkit-flex:1;-ms-flex:1;flex:1;font-size:16px;word-break:break-all;font-weight:400;}",".actions.jsx-1877094313{display:block;width:28px;height:28px;line-height:28px;text-align:center;cursor:pointer;}",".action.jsx-1877094313{cursor:pointer;}",".actions.isSubscribed.jsx-1877094313{background-color:rgba(0,128,0,0.3);border-radius:4px;}"]))}}])&&Lw(n.prototype,r),o&&Lw(n,o),t}(),Mw=Object(a.b)(function(e){var t=e.session.user.id;return{hasLoggedIn:Boolean(t)}})(function(e){var t=e.item,n=e.onSubscribe,r=e.onUnsubscribe,o=e.hasLoggedIn;return f.a.createElement("div",{className:P.a.dynamic([["122424330",[L.a.confusingGray]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["122424330",[L.a.confusingGray]]])+" hd"},f.a.createElement("h3",{className:P.a.dynamic([["122424330",[L.a.confusingGray]]])},t.name)),f.a.createElement("div",{className:P.a.dynamic([["122424330",[L.a.confusingGray]]])+" bd"},t.categories.map(function(e){return f.a.createElement(Dw,Nw({},e,{key:e.id,onSubscribe:n,onUnsubscribe:r,hasLoggedIn:o}))})),f.a.createElement(P.a,{id:"122424330",dynamic:[L.a.confusingGray]},[".root.__jsx-style-dynamic-selector{margin:4px 0 10px;}",".hd.__jsx-style-dynamic-selector{padding:10px 0 8px 2%;font-size:20px;font-weight:400;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".bd.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:20px 2% 0;}"]))});function Uw(e){return(Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gw(e,t){return!t||"object"!==Uw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hw(e){return(Hw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ww(e,t){return(Ww=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vw={onLoad:Cw.c,onSubscribe:Pw.n,onUnsubscribe:Pw.o},Kw=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Gw(this,Hw(t).call(this,e))).subscribedCount=e.subscribedCategories.length,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ww(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.allCategories,r=e.onLoad,o=e.onSubscribe,a=e.onUnsubscribe;return f.a.createElement("div",{className:P.a.dynamic([["2967009250",[L.c.navHeight,L.a.font]]])+" root"},f.a.createElement(ue.a,{title:"关注感兴趣的分类"}),f.a.createElement(Fc.a,null),f.a.createElement(Bc.a,{title:"多抓鱼的所有分类",desc:""}),f.a.createElement("div",{className:P.a.dynamic([["2967009250",[L.c.navHeight,L.a.font]]])+" wrap"},Boolean(!this.subscribedCount)&&f.a.createElement("div",{className:P.a.dynamic([["2967009250",[L.c.navHeight,L.a.font]]])+" tip"},f.a.createElement(Tw,{className:"Icon"}),"逛一逛，关注你感兴趣的分类"),f.a.createElement(Im.a,{id:"0",loader:r,loadStatus:t},f.a.createElement("div",{className:P.a.dynamic([["2967009250",[L.c.navHeight,L.a.font]]])+" item-wrap"},n.map(function(e,t){return f.a.createElement(Mw,{item:e,key:t,onSubscribe:o,onUnsubscribe:a})})))),f.a.createElement(P.a,{id:"2967009250",dynamic:[L.c.navHeight,L.a.font]},[".wrap.__jsx-style-dynamic-selector{padding:14px 14px ".concat(L.c.navHeight," 14px;background-color:#fff;text-align:center;}"),".tip.__jsx-style-dynamic-selector{padding:14px 15px;box-shadow:0 0 10px 0 rgba(0,0,0,0.1);margin:6px 0 20px 0;color:".concat(L.a.font,";text-align:left;}"),".item-wrap.__jsx-style-dynamic-selector{padding-bottom:50px;text-align:left;}"]))}}])&&zw(n.prototype,r),o&&zw(n,o),t}(),qw=Object(a.b)(function(e){return{loadStatus:Object(Cw.e)(e),allCategories:Object(Cw.d)(e),subscribedCategories:Object(R.i)(e)}},Vw)(Object(Ne.a)(Kw)),Yw=n("48fa"),Qw=n("qy67"),Zw=Object(Mc.j)({selector:function(e){return e.itemList.itemCategories},url:"/user/categories?itemType=item",types:[Uo.Oc,Uo.Pc,Uo.Nc],schema:Ve.a.itemCategories}),Xw=Object(Mc.j)({selector:function(e){return e.itemList.itemList},url:function(e){var t=e.id;return"/categories/".concat(t,"/items")},types:[Uo.Rc,Uo.Sc,Uo.Qc],schema:Ve.a.itemList,getQuery:function(e,t){var n=t.id,r=void 0===n?"":n,o=e.itemList.filterMap,a=(void 0===o?{}:o)[r];if(!a)return"";var i={subCategoryId:a};return Object(Mt.b)(i)}}),Jw=Object(Mc.j)({selector:function(e){return e.itemList.tagItemList},url:function(e){var t=e.id;return"/tags/".concat(t,"/items")},types:[Uo.ad,Uo.bd,Uo.Zc],schema:Ve.a.itemList});function $w(e){return($w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";if(!e.length)return"";var n=e[0];return"object"!==$w(n)?"":n[t]||""};function tO(){return(tO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nO(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rO=function(e){var t=e.price,n=e.referencePrice,r=nO(e,["price","referencePrice"]);return f.a.createElement(Ua.a,tO({emphasis:!0},r),"二手",n&&n>t?" ".concat(Object(Do.h)(t,n)):"价")};function oO(e){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aO(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function iO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cO(e,t){return!t||"object"!==oO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lO(e){return(lO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sO(e,t){return(sO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cO(this,lO(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sO(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.limit,n=void 0===t?2:t,r=e.tags,o=void 0===r?[]:r,a=e.categories,i=void 0===a?[]:a,c=e.style,l=[].concat(aO(o),aO(i)).slice(0,n);return l.length?f.a.createElement("ul",{style:c,className:P.a.dynamic([["3320511951",[Object(mi.a)(L.a.primary,.06),L.a.primary]]])+" item-tags"},l.map(function(e){var t=e.id,n=e.name,r=e.type;return f.a.createElement("span",{key:t,onClick:function(){var e;"itemCategory"===r?e="/categories/".concat(t):"itemTag"===r&&(e="/tags/".concat(t)),e&&Object(A.a)().push(e)},className:P.a.dynamic([["3320511951",[Object(mi.a)(L.a.primary,.06),L.a.primary]]])+" item-tag"},n)}),f.a.createElement(P.a,{id:"3320511951",dynamic:[Object(mi.a)(L.a.primary,.06),L.a.primary]},[".item-tags.__jsx-style-dynamic-selector{padding:0;margin:8px 0 0;line-height:1;}",".item-tag.__jsx-style-dynamic-selector{display:inline-block;margin-left:4px;padding:0 8px;border-radius:13px;background-color:".concat(Object(mi.a)(L.a.primary,.06),";color:").concat(L.a.primary,";font-size:12px;line-height:1.67;text-align:left;}"),".item-tag.__jsx-style-dynamic-selector:first-child{margin-left:0;}"])):null}}])&&iO(n.prototype,r),o&&iO(n,o),t}(),fO=Object(a.b)(function(e,t){var n=t.itemId,r=e.entities,o=Object(Pe.k)(r,n),a=o.tags,i=void 0===a?[]:a,c=o.categories,l=void 0===c?[]:c;return{tags:i.map(function(e){return Object(Pe.z)(r,e)}),categories:l.map(function(e){return Object(Pe.g)(r,e)})}})(uO);function pO(e){return(pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yO(e,t){return!t||"object"!==pO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bO(e){return(bO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hO(e,t){return(hO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gO={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},vO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yO(this,bO(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hO(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.itemId,n=e.title,r=e.price,o=e.stock,a=e.originalPrice,i=e.sellerBoughtPrice,c=e.images,l=e.latestSellers,s=void 0===l?[]:l,u=e.mode,p=void 0===u?"":u,d=dO(s,1)[0],m=Math.max(a,i)||null,y=Object(Mt.b)({mode:p}),b=y?"?".concat(y):"";return f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" item-card"},f.a.createElement(M.a,{to:"/items/".concat(t).concat(b)},f.a.createElement(gr.a,null,f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" item-img-wrap"},!o&&f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" sold-out-tips"},"已售出")))),f.a.createElement(fO,{itemId:t,style:gO}),f.a.createElement("h2",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" item-title"},n),f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" holder"}),f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" item-footer"},f.a.createElement(Mo.a,{sign:!0,normal:!0,digit:0,n:r}),f.a.createElement(rO,{price:r,referencePrice:m,following:!0}),f.a.createElement("div",{className:P.a.dynamic([["1264525155",[eO(c,"small"),L.a.lighterFont]]])+" holder"}),d&&f.a.createElement(rr,{withLink:!0,small:!0,userId:d})),f.a.createElement(P.a,{id:"1264525155",dynamic:[eO(c,"small"),L.a.lighterFont]},[".item-card.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:calc(((100% - 15px) / 2));margin-bottom:30px;}",".item-img-wrap.__jsx-style-dynamic-selector{width:100%;position:relative;background-image:url(".concat(eO(c,"small"),");background-position:center center;background-size:cover;background-repeat:no-repeat;border-radius:4px;overflow:hidden;}"),".sold-out-tips.__jsx-style-dynamic-selector{width:84px;height:32px;position:absolute;top:calc(((100% - 40px) / 2));left:calc(((100% - 84px) / 2));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,0.5);font-size:16px;font-weight:400;color:rgb(255,255,255);-webkit-transform:rotate(-12deg);-ms-transform:rotate(-12deg);transform:rotate(-12deg);border-radius:4px;}",".item-img.__jsx-style-dynamic-selector{display:block;width:100%;height:100%;border-radius:4px;}",".item-title.__jsx-style-dynamic-selector{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:9px 0 6px;font-size:16px;overflow:hidden;text-overflow:ellipsis;font-weight:normal;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".reference-price.__jsx-style-dynamic-selector{margin:0 6px;color:".concat(L.a.lighterFont,";}"),".item-footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}}])&&mO(n.prototype,r),o&&mO(n,o),t}(),xO=Object(a.b)(function(e,t){var n=t.itemId,r=Object(Pe.l)(e.entities,n),o=r.title,a=r.newImages,i=r.price,c=r.stock,l=r.latestSellers;return{title:o,images:a,price:i,originalPrice:r.originalPrice,sellerBoughtPrice:r.sellerBoughtPrice,stock:c,latestSellers:l}})(vO);function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EO(e,t){return!t||"object"!==wO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jO(e){return(jO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kO(e,t){return(kO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _O=function(e){var t=e.children;return f.a.createElement("div",{className:"jsx-346930631 item-list-container"},t,f.a.createElement(P.a,{id:"346930631"},[".item-list-container.jsx-346930631{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:15px 15px 0;}"]))},SO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EO(this,jO(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kO(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.items,n=e.loadStatus,r=e.loader,o=e.mode;return f.a.createElement(Ut.a,{loader:r,items:t,loadStatus:n,renderItem:function(e){return f.a.createElement(xO,{key:e,itemId:e,mode:o})},contentContainer:_O})}}])&&OO(n.prototype,r),o&&OO(n,o),t}();function CO(e){return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IO(e){return(IO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NO(e,t){return(NO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var RO={onLoadItems:Xw},LO=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=IO(t).call(this,e))||"object"!==CO(o)&&"function"!=typeof o?TO(r):o).handleLoadList=n.handleLoadList.bind(TO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NO(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleLoadList",value:function(e){var t=this.props,n=t.categoryId;(0,t.onLoadItems)(e,{id:n})}},{key:"render",value:function(){var e=this.props,t=e.itemIds,n=e.loadStatus,r=e.mode;return f.a.createElement(SO,{items:t,loader:this.handleLoadList,loadStatus:n,mode:r})}}])&&PO(n.prototype,r),o&&PO(n,o),t}(),AO=Object(a.b)(function(e,t){var n=t.categoryId;return{itemIds:Object(Qw.d)(e,n),loadStatus:Object(Qw.e)(e,n)}},RO)(LO),FO=n("1aN8"),BO=n("L3Qv"),DO=n("sBL/"),MO=n.n(DO);function UO(e){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GO(e){return(GO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(e,t){return(WO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var VO=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=GO(t).call(this,e))||"object"!==UO(o)&&"function"!=typeof o?HO(r):o).handleScroll=n.handleScroll.bind(HO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WO(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.props.onScroll;"function"==typeof e&&e()}},{key:"render",value:function(){return null}}])&&zO(n.prototype,r),o&&zO(n,o),t}();function KO(e){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YO(e){return(YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(e,t){return(ZO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XO={onLogDisplay:g.c,onGetLogPayload:g.a},JO=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=YO(t).call(this,e))||"object"!==KO(o)&&"function"!=typeof o?QO(r):o).node=null,n.scrollContainer=null,n.lastDisplayTime=null,n.displayData=null,n.basicLogPayload=null,n.active=!1,n.getRef=n.getRef.bind(QO(n)),n.handleScroll=n.handleScroll.bind(QO(n)),n.handleScrollStop=MO()(n.handleScrollStop.bind(QO(n)),500),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZO(e,t)}(t,u["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.useContainer,n=e.active,r=e.getScrollContainer,o=void 0===r?Fu.a:r;n&&(this.active=!0,this.tryStartLog()),t&&(this.scrollContainer=o(this.node),this.scrollContainer.addEventListener("scroll",this.handleScroll))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.active,r=t.location,o=t.shouldLogAfterLocationChange,a=void 0===o?BO.a:o;!this.active&&n&&(this.active=!0,this.tryStartLog()),this.active&&!n&&(this.active=!1,this.sendLogData()),r!==e.location&&a(r,e.location)&&this.sendLogData()}},{key:"componentWillUnmount",value:function(){this.props.useContainer&&this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.sendLogData(),this.active=!1}},{key:"getRef",value:function(e){this.node=Object(p.findDOMNode)(e)}},{key:"handleScroll",value:function(){this.active&&(this.sendLogData(),this.handleScrollStop())}},{key:"handleScrollStop",value:function(){this.active&&this.tryStartLog()}},{key:"tryStartLog",value:function(){var e=this.props.onCheckDisplay;if("function"==typeof e){try{this.displayData=e(this.node)}catch(e){r.b.captureException(e)}this.displayData&&this.startDisplay()}}},{key:"sendLogData",value:function(){var e=this.props.onLogDisplay;if(this.lastDisplayTime){var t=Date.now()-this.lastDisplayTime;e(this.formatLogData(t),this.basicLogPayload),this.lastDisplayTime=null}}},{key:"startDisplay",value:function(){var e=this.props,t=e.onGetLogPayload,n=e.onTrackStart;this.lastDisplayTime=Date.now(),this.basicLogPayload=t({refresh:!1}),"function"==typeof n&&n(this.basicLogPayload)}},{key:"formatLogData",value:function(e){var t=this.props,n=t.useContainer,r=t.direction,o=t.module,a=n?"list":"window",i=0,c=0,l=0;return n?(l="row"===r?this.scrollContainer.scrollLeft:this.scrollContainer.scrollTop,i=this.scrollContainer.clientWidth,c=this.scrollContainer.clientHeight):(l="row"===r?document.body.scrollLeft:document.body.scrollTop,i=Object(w.d)(),c=Object(w.c)()),{module:o,items:this.displayData,duration:e,direction:r,container:a,scrollOffset:l,device:{width:Object(w.d)(),height:Object(w.c)()},viewport:{width:i,height:c}}}},{key:"render",value:function(){var e=this.props.children,t=Object(u.cloneElement)(e,{ref:this.getRef});return f.a.createElement(u.Fragment,null,f.a.createElement(VO,{onScroll:this.handleScroll}),t)}}])&&qO(n.prototype,o),a&&qO(n,a),t}(),$O=Object(Bt.a)(Object(a.b)(null,XO)(JO));function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tE(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rE(e){return(rE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aE(e,t){return(aE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iE=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=rE(t).call(this,e))||"object"!==eE(o)&&"function"!=typeof o?oE(r):o).checkInViewPort=n.checkInViewPort.bind(oE(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aE(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"checkInViewPort",value:function(e){var t=this.props,n=t.getTrackDOMItems,r=t.getTrackItemData,o=t.checkDisplay,a=void 0===o?w.a:o,i=t.useContainer,c=tE(n(e)),l=i?e.getBoundingClientRect():null,s=r(c.map(function(e,t){var n=e.getBoundingClientRect();return{index:t,top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.width,height:n.height}}).filter(function(e){return a(e,l)}).map(function(e){var t=e.width,n=e.height,r=e.left,o=e.top;return{index:e.index,dimension:{width:t,height:n},position:{left:r,top:o}}}),c);return s.length?s:null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.module,r=e.active,o=e.useContainer,a=e.getScrollContainer,i=e.direction,c=e.shouldLogAfterLocationChange,l=e.onTrackStart;return f.a.createElement($O,{module:n,active:r,useContainer:o,getScrollContainer:a,direction:i,onCheckDisplay:this.checkInViewPort,onTrackStart:l,shouldLogAfterLocationChange:c},t)}}])&&nE(n.prototype,r),o&&nE(n,o),t}(),cE=n("cL47");function lE(e){return(lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uE(e,t){return!t||"object"!==lE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fE(e){return(fE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pE(e,t){return(pE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dE={display:"block",marginTop:4,fontSize:13,fontWeight:300,lineHeight:1.38,color:L.a.golden},mE=function(e){var t=e.id,n=e.images,r=e.title,o=e.rawAuthor;return f.a.createElement(M.a,{to:"/books/".concat(t)},f.a.createElement("div",{className:P.a.dynamic([["1679254685",[L.a.lighterFont]]])+" contrib-book"},f.a.createElement(Ga.a,{fixHeight:!0,little:!0,images:n}),f.a.createElement("div",{className:P.a.dynamic([["1679254685",[L.a.lighterFont]]])+" book-info"},f.a.createElement("div",{className:P.a.dynamic([["1679254685",[L.a.lighterFont]]])+" book-title"},r),f.a.createElement("div",{className:P.a.dynamic([["1679254685",[L.a.lighterFont]]])+" book-author"},o),f.a.createElement(cE.a,{style:dE,bookId:t})),f.a.createElement(P.a,{id:"1679254685",dynamic:[L.a.lighterFont]},[".contrib-book.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".book-info.__jsx-style-dynamic-selector{margin-left:10px;}",".book-title.__jsx-style-dynamic-selector{font-size:15px;font-weight:normal;line-height:normal;}",".book-author.__jsx-style-dynamic-selector{margin-top:4px;font-size:13px;font-weight:300;line-height:1.38;color:".concat(L.a.lighterFont,";}")])))},yE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uE(this,fE(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pE(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.contribId,n=e.reason,r=e.collectionId,o=e.collectionName,a=e.bookId,i=e.title,c=e.rawAuthor,l=e.images,s=e.goods,u=e.price,p=e.originalPrice,d=e.renderBook,m=void 0===d?mE:d,y=e.linesAfterFolded,b=e.toBookPage,h=m({id:a,title:i,rawAuthor:c,images:l,goods:s,price:u,originalPrice:p});return f.a.createElement("div",{className:"jsx-3554069223 contrib-activity"},h,n&&f.a.createElement("div",{className:"jsx-3554069223 reason-wrap"},f.a.createElement(eu,{id:t,reason:n,linesAfterFolded:y,bookId:a,toBookPage:b})),r&&f.a.createElement(Bs,{collectionId:r,collectionName:o}),f.a.createElement(P.a,{id:"3554069223"},[".reason-wrap.jsx-3554069223{margin-top:15px;}"]))}}])&&sE(n.prototype,r),o&&sE(n,o),t}(),bE=Object(a.b)(function(e,t){var n=t.contribId,r=Object(Is.f)(e.entities,n),o=r.collection,a=r.reason,i=r.book,c=i.id,l=i.title,s=i.rawAuthor,u=i.images,f=i.goods,p=i.price,d=i.originalPrice,m=o||{};return{reason:a,collectionId:m.id,collectionName:m.name,bookId:c,title:l,rawAuthor:s,images:u,goods:f,price:p,originalPrice:d}})(yE),hE={marginRight:40},gE={display:"block",marginTop:4,fontSize:12,fontWeight:300,lineHeight:1.5,color:L.a.golden},vE=function(e){var t=e.id,n=e.images,r=e.title,o=e.rawAuthor,a=e.goods,i=e.price,c=e.originalPrice,l=Object(Do.c)(a,i,kx),s=Object(Do.o)(a,kx),u=Boolean(l);return f.a.createElement(M.a,{to:"/books/".concat(t)},f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" contrib-book"},f.a.createElement(Ga.a,{fixHeight:!0,small:!0,images:n}),f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" book-info"},f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" book-title"},r),f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" book-author"},o),f.a.createElement(cE.a,{style:gE,bookId:t}),f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" holder"}),u&&f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" book-price-wrap"},f.a.createElement(Mo.a,{sign:!0,large:!0,normal:!0,suffix:s,n:l}),f.a.createElement("div",{className:P.a.dynamic([["4055888772",[L.a.lighterFont]]])+" label-wrap"},f.a.createElement(za,{goods:a,price:i,originalPrice:c,cartBook:kx})))),f.a.createElement(P.a,{id:"4055888772",dynamic:[L.a.lighterFont]},[".contrib-book.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".book-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-left:10px;}",".book-title.__jsx-style-dynamic-selector{font-size:16px;font-weight:normal;line-height:normal;}",".book-author.__jsx-style-dynamic-selector{margin-top:4px;font-size:12px;font-weight:300;line-height:1.5;color:".concat(L.a.lighterFont,";}"),".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".book-price-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;}",".label-wrap.__jsx-style-dynamic-selector{margin-left:6px;}"])))},xE=Object(a.b)(function(e,t){var n=t.contribId,r=Object(Is.a)(e.entities,n),o=r.created;return{contributorId:r.contributor,created:o,hasRated:r.hasRated,rating:r.rating}})(function(e){var t=e.contribId,n=e.contributorId,r=e.created,o=e.hasRated,a=e.rating;return f.a.createElement("div",{className:P.a.dynamic([["268500306",[L.a.confusingGray,L.a.lighterFont]]])+" home-contrib-card"},f.a.createElement(kn,{userId:n,activityBrief:o?"评论这本书":"推荐这本书"},Object(vs.b)(o,a)&&f.a.createElement("div",{style:{margin:"0 0 -2px 9px"},className:P.a.dynamic([["268500306",[L.a.confusingGray,L.a.lighterFont]]])},f.a.createElement(vs.a,{rating:a}))),f.a.createElement("div",{className:P.a.dynamic([["268500306",[L.a.confusingGray,L.a.lighterFont]]])+" home-contrib-content-wrap"},f.a.createElement(bE,{toBookPage:!0,contribId:t,renderBook:vE,linesAfterFolded:3})),f.a.createElement("div",{className:P.a.dynamic([["268500306",[L.a.confusingGray,L.a.lighterFont]]])+" home-contrib-card-footer"},f.a.createElement(Ks,{contribId:t,commentStyle:hE}),f.a.createElement("div",{className:P.a.dynamic([["268500306",[L.a.confusingGray,L.a.lighterFont]]])+" holder"}),f.a.createElement(be,{relative:!0,value:r})),f.a.createElement(P.a,{id:"268500306",dynamic:[L.a.confusingGray,L.a.lighterFont]},[".home-contrib-card.__jsx-style-dynamic-selector{margin-bottom:16px;padding:23px 15px;position:relative;background:#fff;}",".home-contrib-card.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".home-contrib-content-wrap.__jsx-style-dynamic-selector{margin-top:18px;}",".home-contrib-card-footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:18px;padding:21px 0 0 15px;border-top:0.5px solid ".concat(L.a.confusingGray,";font-size:13px;color:").concat(L.a.lighterFont,";}"),".home-contrib-actions.__jsx-style-dynamic-selector{width:108px;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))});function wE(e){return(wE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function jE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kE(e){return(kE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SE(e,t){return(SE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CE={onLoad:FO.c},PE=function(e){return f.a.createElement(xE,{key:e,contribId:e})},IE=function(e){var t=e.children;return f.a.createElement("div",{className:P.a.dynamic([["16986341",[L.a.gray]]])+" contrib-list"},t,f.a.createElement(P.a,{id:"16986341",dynamic:[L.a.gray]},[".contrib-list.__jsx-style-dynamic-selector{background-color:".concat(L.a.gray,";}")]))},TE=function(e){return e.querySelectorAll(".home-contrib-card")},NE=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=kE(t).call(this,e))||"object"!==wE(o)&&"function"!=typeof o?_E(r):o).getTrackItemData=n.getTrackItemData.bind(_E(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SE(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"getTrackItemData",value:function(e){var t=this.props.contribIds;return e.map(function(e){var n=e.index;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){OE(e,t,n[t])})}return e}({},EE(e,["index"]),{index:n,objectType:"contrib",objectId:t[n]})}).filter(function(e){return e.objectId})}},{key:"render",value:function(){var e=this.props,t=e.onLoad,n=e.contribIds,r=e.loadStatus,o=!["initial","failed","loading"].includes(r);return f.a.createElement(iE,{direction:"column",module:"home_contrib",active:o,getTrackDOMItems:TE,getTrackItemData:this.getTrackItemData},f.a.createElement(Ut.a,{loader:t,items:n,loadStatus:r,renderItem:PE,contentContainer:IE}))}}])&&jE(n.prototype,r),o&&jE(n,o),t}(),RE=Object(a.b)(function(e){var t=e.homeContribList;return{contribIds:Object(Mc.k)(t),loadStatus:Object(Mc.m)(t)}},CE)(NE),LE=n("HyQt");n("N8ZC");function AE(e){return(AE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FE(){return(FE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ME(e){return(ME=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zE(e,t){return(zE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var GE={onAddToCart:qo.i},HE=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ME(t).call(this,e))||"object"!==AE(o)&&"function"!=typeof o?UE(r):o).handleCartClick=n.handleCartClick.bind(UE(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zE(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleCartClick",value:function(e){var t=this.props.bookId;e.preventDefault(),e.stopPropagation(),this.props.onAddToCart(t)}},{key:"render",value:function(){var e=this.props,t=e.isAddedToCart,n=(e.cartBookId,e.bookId,e.onAddToCart,e.isIconStyle),r=BE(e,["isAddedToCart","cartBookId","bookId","onAddToCart","isIconStyle"]);return n?t?f.a.createElement("div",{style:{width:20,height:20,backgroundColor:L.a.gray,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},f.a.createElement(cb,{style:{width:12,height:12},stroke:L.a.lighterFont})):f.a.createElement("div",{onClick:this.handleCartClick,style:{width:28,height:28,backgroundColor:L.a.emphasis,border:"4px solid white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"}},f.a.createElement(Tw,{style:{width:16,height:16,color:"#fff"}})):t?f.a.createElement(D.a,FE({gray:!0,medium:!0,disabled:!0},r),"已加购物车"):f.a.createElement(D.a,FE({emphasis:!0,medium:!0,onClick:this.handleCartClick},r),"加入购物车")}}])&&DE(n.prototype,r),o&&DE(n,o),t}(),WE=Object(a.b)(null,GE)(HE);function VE(e){return(VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qE(e){return(qE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QE(e,t){return(QE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ZE=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=qE(t).call(this,e))||"object"!==VE(o)&&"function"!=typeof o?YE(r):o).state={showFeedbackMenu:!1},n.toggleFeedbackMenu=n.toggleFeedbackMenu.bind(YE(n)),n.hideFeedbackMenu=n.hideFeedbackMenu.bind(YE(n)),n.handleDislike=n.handleDislike.bind(YE(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QE(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleFeedbackMenu",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({showFeedbackMenu:!this.state.showFeedbackMenu})}},{key:"hideFeedbackMenu",value:function(){this.setState({showFeedbackMenu:!1})}},{key:"handleDislike",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDislike()}},{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-3543071230"},f.a.createElement(kp,{useMask:!0,align:Ep,show:this.state.showFeedbackMenu,onClose:this.hideFeedbackMenu,style:{alignSelf:"flex-end",fontSize:0},content:f.a.createElement("div",{className:"jsx-3543071230 popover-content"},f.a.createElement("span",{onClick:this.handleDislike,className:"jsx-3543071230"},"不喜欢这本书"))},f.a.createElement("button",{onClick:this.toggleFeedbackMenu,className:"jsx-3543071230 close-btn"},f.a.createElement(Fb.a,{width:11,height:11,stroke:L.a.lighterFont,strokeWidth:2}))),f.a.createElement(P.a,{id:"3543071230"},[".close-btn.jsx-3543071230{margin-left:7px;font-size:0;padding:10px 0 4px 10px;z-index:1;}",".popover-content.jsx-3543071230{padding:9px 20px;white-space:nowrap;font-size:14px;}"]))}}])&&KE(n.prototype,r),o&&KE(n,o),t}(),XE=function(e){var t=e.children;return O.e?f.a.createElement("span",{className:P.a.dynamic([["2966868108",[t]]])},f.a.createElement("span",{className:P.a.dynamic([["2966868108",[t]]])+" FontSizeShimContent"},t),f.a.createElement(P.a,{id:"2966868108",dynamic:[t]},[".FontSizeShimContent.__jsx-style-dynamic-selector::before{position:absolute;font-size:4em;-webkit-transform:scale(0.25);-ms-transform:scale(0.25);transform:scale(0.25);-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;content:'".concat(t,"';white-space:nowrap;visibility:visible;}"),".FontSizeShimContent.__jsx-style-dynamic-selector{position:relative;visibility:hidden;}"])):f.a.createElement("span",null,t)},JE=function(e){var t=e.className,n=e.style,r=e.name,o=e.color,a=e.onClick;return f.a.createElement("div",{style:n,className:"jsx-1529723233 "+(N()("tag",t)||"")},f.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a()},style:{color:o,background:Object(mi.a)(o,.2)},className:"jsx-1529723233 inner"},f.a.createElement(XE,null,r)),f.a.createElement(P.a,{id:"1529723233"},[".tag.jsx-1529723233{line-height:1;}",".inner.jsx-1529723233{display:inline-block;padding:2px 4px;font-size:10px;border-radius:2px;line-height:1.4;}"]))};n("nHcD");function $E(e){return($E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(){return(ej=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rj(e,t){return!t||"object"!==$E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oj(e){return(oj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aj(e,t){return(aj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ij=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rj(this,oj(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aj(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderMainContent",value:function(){var e=this.props,t=e.tag,n=e.book,r=n.id,o=n.title,a=n.rawAuthor,i=n.latestSellers,c=tj(void 0===i?[]:i,1)[0];return f.a.createElement("div",{className:"BookItem-contentTop"},f.a.createElement("div",{className:"BookItem-contentLeft"},t&&f.a.createElement(JE,ej({},t,{style:{marginBottom:"10px"},onClick:function(){Object(A.a)().push("/categories/".concat(t.id))}})),f.a.createElement("h3",{className:"BookItem-title"},o),f.a.createElement("div",{className:"BookItem-meta BookItem-meta--lighter"},a),f.a.createElement("div",{className:"BookItem-meta"},f.a.createElement(cE.a,{bookId:r}))),c&&f.a.createElement("div",{className:"BookItem-contentRight"},f.a.createElement("div",{className:"BookItem-avatarWrapper",onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(A.a)().push("/users/".concat(c))}},f.a.createElement(rr,{userId:c}))))}},{key:"renderPriceContent",value:function(){var e=this.props,t=e.book,n=e.showFreeLabel,r=t.stock,o=t.price,a=t.originalPrice,i=t.goods,c=void 0===i?[]:i,l=t.virtuals,s=(void 0===l?{}:l).cartBook;if(LE.b)return null;var p=Object(Do.n)(c,s),d=Object(Do.c)(c,o),m=!p&&Boolean(d),y=r&&f.a.createElement("div",{className:"jsx-1221142802 discount-wrap"},f.a.createElement(za,{hideUsed:!0,goods:c,price:o,originalPrice:a}),f.a.createElement(P.a,{id:"1221142802"},[".discount-wrap.jsx-1221142802{margin-left:6px;margin-right:6px;line-height:0;}"]));return f.a.createElement("div",{className:"jsx-3952218969 book-price"},m&&f.a.createElement(u.Fragment,null,f.a.createElement(Mo.a,{sign:!0,large:!0,normal:!0,disable:!r,suffix:c.length>1,n:d}),y),p&&n&&f.a.createElement("div",{className:"jsx-3952218969 free-wrap"},f.a.createElement(rc,{withLink:!0})),f.a.createElement(P.a,{id:"3952218969"},[".book-price.jsx-3952218969{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:2px 0;}",".free-wrap.jsx-3952218969{line-height:0;}"]))}},{key:"render",value:function(){var e=this.props,t=e.book,n=e.footer,r=e.children,o=e.bottomLabel,a=e.fixHeight,i=e.showCartButton,c=e.showWishlistButton,l=e.showFeedbackButton,s=e.onClick,u=e.onRemove,p=t.id,d=t.title,m=t.images,y=t.stock,b=t.virtuals,h=void 0===b?{}:b,g="/books/".concat(p),v=h.cartBook,x=i&&f.a.createElement(WE,{className:"BookItem-cartButton",cartBookId:v?v.id:0,bookId:p,isAddedToCart:v&&!v.inStockRemind}),w=c&&f.a.createElement(kv,{cartBookId:v?v.id:0,itemId:p}),O=l&&f.a.createElement(ZE,{itemId:p,onDislike:function(){u(p)}});return f.a.createElement("div",{className:"BookItem",onClick:s},f.a.createElement(M.a,{to:g,className:"BookItem-main"},f.a.createElement(Ga.a,{small:!0,alt:d,images:m,className:"BookItem-image",inStock:t.stock,bottomLabel:o,fixHeight:a}),f.a.createElement("div",{className:"BookItem-content"},this.renderMainContent(),f.a.createElement("div",{className:"BookItem-bottom"},this.renderPriceContent(),f.a.createElement("div",{className:"BookItem-btnWrapper"},y?x:w,O))),r),n)}}])&&nj(n.prototype,r),o&&nj(n,o),t}();function cj(e){return(cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sj(e,t){return!t||"object"!==cj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uj(e){return(uj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fj(e,t){return(fj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pj={onSubscribe:Pw.n,onUnsubscribe:Pw.o},dj=function(e){var t=e.category,n=e.onSubscribe,r=e.onUnsubscribe;return f.a.createElement("button",{onClick:t.isSubscribed?function(e){e.preventDefault(),e.stopPropagation(),r(t.id)}:function(e){e.preventDefault(),e.stopPropagation(),n(t.id)},className:"jsx-3728353544 action"},t.isSubscribed?f.a.createElement(lt,{width:"20",style:{marginTop:5}}):f.a.createElement(Tw,{width:"20",style:{marginTop:5}}),f.a.createElement(P.a,{id:"3728353544"},[".action.jsx-3728353544{width:40px;height:36px;line-height:36px;vertical-align:top;border-left:0.5px solid rgba(255,255,255,0.2);margin-left:14px;}"]))},mj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sj(this,uj(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fj(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.canSubscribe,n=e.category,r=e.onSubscribe,o=e.onUnsubscribe;return f.a.createElement("li",{key:n.id,style:{backgroundColor:n.parentCategory.themeColor},className:"jsx-4098687342 "+(N()("category",{"category-subscribe":t})||"")},f.a.createElement(ma.a,{to:"/categories/".concat(n.id),className:"link"},n.name,t&&f.a.createElement(dj,{onSubscribe:r,onUnsubscribe:o,category:n})),f.a.createElement(P.a,{id:"4098687342"},[".category.jsx-4098687342{display:inline-block;margin-right:8px;color:#fff;border-radius:5px;}",".category.jsx-4098687342 .link{display:block;height:36px;line-height:36px;margin:0 17px;}",".category-subscribe.jsx-4098687342 .link{margin-right:0;}"]))}}])&&lj(n.prototype,r),o&&lj(n,o),t}(),yj=function(e){var t=e.title,n=e.categoriesWithSubscription,r=e.onSubscribe,o=e.onUnsubscribe;return f.a.createElement("div",{className:P.a.dynamic([["1896292423",[L.a.gray,L.a.lighterFont]]])+" Horizontal-category-list"},f.a.createElement("div",{className:P.a.dynamic([["1896292423",[L.a.gray,L.a.lighterFont]]])+" hd"},f.a.createElement("h3",{className:P.a.dynamic([["1896292423",[L.a.gray,L.a.lighterFont]]])+" title"},t),f.a.createElement(ma.a,{to:"/categories",withArrow:!0,style:{color:L.a.primary,fontSize:"13px"}},"全部分类")),f.a.createElement("div",{className:P.a.dynamic([["1896292423",[L.a.gray,L.a.lighterFont]]])+" bd"},f.a.createElement(nd,{height:36},n.map(function(e){return f.a.createElement(mj,{key:e.id,canSubscribe:!0,category:e,onSubscribe:r,onUnsubscribe:o})}))),f.a.createElement(P.a,{id:"1896292423",dynamic:[L.a.gray,L.a.lighterFont]},[".Horizontal-category-list.__jsx-style-dynamic-selector{padding:23px 15px;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".hd.__jsx-style-dynamic-selector{margin-bottom:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".title.__jsx-style-dynamic-selector{font-size:13px;color:".concat(L.a.lighterFont,";font-weight:400;}")]))};yj.defaultProps={title:"相关分类",categories:[]};var bj=Object(a.b)(function(e,t){return{categoriesWithSubscription:t.categories.map(function(t){return Object(Pw.l)(e,t.id)})}},pj)(yj),hj={textAlign:"center",padding:"32px 0"},gj=function(e){var t=e.nextUrl;if(!t)return null;var n=Object(Mt.b)({nextUrl:t}),r="".concat(location.pathname,"?").concat(n);return f.a.createElement(ma.a,{block:!0,withArrow:!0,colored:!0,to:r,style:hj},"下一页")};function vj(e){return(vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Oj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ej(e){return(Ej=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kj(e,t){return(kj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _j=function(e,t){var n=t.id,r=Object(R.i)(e),o=n||r[0].id,a=e.bookFilter.sorters[o]||"",i=e.bookFilter.filters[o]||"";return{items:Object(Yw.e)(e,o,i,a),id:o,sorter:a,filter:i,isRecommendList:o===Pw.e,isDoubanWishList:o===Pw.c,nextUrl:Object(Yw.g)(e,o,i,a),loadStatus:Object(Yw.f)(e,o,i,a)}},Sj=function(e){return{loader:function(t,n,r){return e(Object(Yw.c)(t,n,r))},removeBook:function(t,n,r){return e(Object(Yw.d)(t,n,r))}}},Cj=function(e){return e?e.querySelectorAll(".BookItem, .Horizontal-category-list"):[]},Pj=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ej(t).call(this,e),(n=!o||"object"!==vj(o)&&"function"!=typeof o?jj(r):o).state={showRemoveToast:!1},n.renderItem=e.renderItem||n.renderItem.bind(jj(n)),n.onLoad=n.onLoad.bind(jj(n)),n.hideToast=n.hideToast.bind(jj(n)),n.getTrackItemData=n.getTrackItemData.bind(jj(n)),n.renderSSRFooter=n.renderSSRFooter.bind(jj(n)),n.removeBook=function(e,t,r){n.props.removeBook(e,t,r),n.showToast(),n.props.items.length<=5&&n.onLoad(!1)},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kj(e,t)}(t,u["PureComponent"]),n=t,(o=[{key:"onLoad",value:function(e){var t=this.props,n=t.id;(0,t.loader)(n,e,{sorter:t.sorter,filter:t.filter})}},{key:"renderBook",value:function(e,t){var n=this,r=this.props,o=r.location,a=r.sorter,i=r.filter,c=r.isRecommendList,l=r.isDoubanWishList;return f.a.createElement(Rl,{key:e.id,id:e.id,type:"book",list:o.pathname,position:t},f.a.createElement(ij,{bottomLabel:!0,fixHeight:!0,showFreeLabel:!0,showWishlistButton:!0,showCartButton:l,showFeedbackButton:c,book:e,onRemove:function(e){return n.removeBook(e,n.props.id,{sorter:a,filter:i})}}))}},{key:"renderSSRFooter",value:function(){var e=this.props.nextUrl;return f.a.createElement(gj,{nextUrl:e})}},{key:"renderSubscription",value:function(e,t){var n=this,r=e.book,o=e.category,a=this.props,i=a.location,c=a.sorter,l=a.filter;return f.a.createElement(Rl,{key:r.id,id:r.id,type:"book",list:i.pathname,position:t,sourceType:"category",sourceId:o.id},f.a.createElement(ij,{bottomLabel:!0,fixHeight:!0,showFreeLabel:!0,showWishlistButton:!0,showFeedbackButton:this.props.isRecommendList,key:r.id,tag:{name:o.name,id:o.id,color:o.parentCategory.themeColor},book:r,onRemove:function(e){return n.removeBook(e,n.props.id,{sorter:c,filter:l})}}))}},{key:"renderItem",value:function(e,t){switch(e.type){case"book":return this.renderBook(e.item,t);case"subscription":return this.renderSubscription(e.item,t);case"categories":return n=e.item,r=n.id,o=n.recommendedReason,a=n.categories,f.a.createElement(bj,{key:r,title:"去逛逛这些分类",recommendedReason:o,categories:a});default:return null}var n,r,o,a}},{key:"showToast",value:function(){this.setState({showRemoveToast:!0})}},{key:"hideToast",value:function(){this.setState({showRemoveToast:!1})}},{key:"getTrackItemData",value:function(e,t){var n=this.props,o=n.items,a=n.loadStatus;return e.map(function(n){var i=n.index,c=wj(n,["index"]),l="",s="";try{var u=o[i],f=u.type,p=u.item;"book"===f?(l="book",s=p.id):"subscription"===f&&(l="subscription",s=p.book.id)}catch(n){throw r.b.withScope(function(c){c.setExtra("index",i),c.setExtra("item_count",o.length),c.setExtra("items",JSON.stringify(o.map(function(e){return e.item.id||""}).join(","))),c.setExtra("all_items",JSON.stringify(t.map(function(e){var t=e.querySelector(".BookItem-main");return t?t.href:""}).join(","))),c.setExtra("load_status",a),c.setExtra("track_items",JSON.stringify(e)),r.b.captureException(n)}),n}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xj(e,t,n[t])})}return e}({},c,{index:i,objectType:l,objectId:s})}).filter(function(e){return e.objectId})}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.items,r=this.state.showRemoveToast,o=!["initial","failed","loading"].includes(t);return f.a.createElement("div",{className:"root"},f.a.createElement(iE,{direction:"column",module:"category_book",active:o,getTrackDOMItems:Cj,getTrackItemData:this.getTrackItemData,shouldLogAfterLocationChange:ya.a},f.a.createElement(Ut.a,{loadStatus:t,loader:this.onLoad,items:n,renderItem:this.renderItem,renderSSRFooter:this.renderSSRFooter})),r&&f.a.createElement(df.a,{duration:1e3,value:"好的，以后不会推荐这种书给你了",onHide:this.hideToast}),f.a.createElement(bc,null))}}])&&Oj(n.prototype,o),a&&Oj(n,a),t}(),Ij=(Object(a.b)(_j,Sj)(Pj),Object(Bt.a)(Object(a.b)(function(e,t){var n=t.match.params;return{id:(void 0===n?{}:n).id}})(Object(a.b)(_j,Sj)(Pj))));function Tj(e){return(Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rj(e){return(Rj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aj(e,t){return(Aj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fj={passive:!1},Bj=function(e){return e.preventDefault()},Dj=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Rj(t).call(this,e))||"object"!==Tj(o)&&"function"!=typeof o?Lj(r):o).state={maxHeight:"auto"},n.clientY=0,n.container=null,n.getRef=n.getRef.bind(Lj(n)),n.handleTouchStart=n.handleTouchStart.bind(Lj(n)),n.handleTouchMove=n.handleTouchMove.bind(Lj(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aj(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.dynamicSize&&this.calcMaxHeight(),document.addEventListener("touchmove",Bj,Fj),this.container.addEventListener("touchstart",this.handleTouchStart,Fj),this.container.addEventListener("touchmove",this.handleTouchMove,Fj)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchmove",Bj),this.container.removeEventListener("touchstart",this.handleTouchStart),this.container.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getRef",value:function(e){this.container=e}},{key:"calcMaxHeight",value:function(){var e=window.innerHeight,t=e-this.container.getBoundingClientRect().top;if(t/e<.3){var n=Object(w.b)(),r=e/2;Object(w.f)(n+r-t),t=r}this.setState({maxHeight:t})}},{key:"handleTouchStart",value:function(e){this.clientY=e.touches[0].clientY}},{key:"handleTouchMove",value:function(e){var t,n=e.touches[0].clientY-this.clientY;n>0&&0===this.container.scrollTop?e.preventDefault():n<0&&(t=this.container).scrollHeight-t.scrollTop<=t.clientHeight&&e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.children,t=this.state.maxHeight;if("function"!=typeof e)throw new Error("bad param");return e({getRef:this.getRef,maxHeight:t})}}])&&Nj(n.prototype,r),o&&Nj(n,o),t}();function Mj(e){return(Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zj(e,t){return!t||"object"!==Mj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gj(e){return(Gj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hj(e,t){return(Hj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zj(this,Gj(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hj(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.props.onClose)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.props.onClose)}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.selectedValue,r=e.onSelect;return f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["831866970",[Object(mi.a)(L.a.black,.3),L.a.primary]]])+" options"},f.a.createElement(Dj,null,function(e){var o=e.getRef;return f.a.createElement("div",{ref:o,className:P.a.dynamic([["831866970",[Object(mi.a)(L.a.black,.3),L.a.primary]]])+" container"},t.map(function(e){var t=e.title,o=e.value,a=n===o;return f.a.createElement("div",{key:o,onClick:function(){return r(o)},className:P.a.dynamic([["831866970",[Object(mi.a)(L.a.black,.3),L.a.primary]]])+" "+(N()("option",{isSelected:a})||"")},f.a.createElement("span",{className:P.a.dynamic([["831866970",[Object(mi.a)(L.a.black,.3),L.a.primary]]])},t||o),a&&f.a.createElement(cb,{stroke:L.a.primary}))}))})),f.a.createElement(P.a,{id:"831866970",dynamic:[Object(mi.a)(L.a.black,.3),L.a.primary]},[".options.__jsx-style-dynamic-selector{left:0;right:0;position:absolute;margin-top:1px;z-index:1;width:100%;background-color:".concat(Object(mi.a)(L.a.black,.3),";height:100vh;}"),".container.__jsx-style-dynamic-selector{max-height:300px;overflow:scroll;-webkit-overflow-scrolling:touch;}",".option.__jsx-style-dynamic-selector{padding:12px 24px 12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;}",".option.isSelected.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}")]))}}])&&Uj(n.prototype,r),o&&Uj(n,o),t}();function Vj(e){return(Vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kj(){return(Kj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qj(e){return(Qj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xj(e,t){return(Xj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jj=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Qj(t).call(this,e))||"object"!==Vj(o)&&"function"!=typeof o?Zj(r):o).state={activated:!1},n.toggleActive=n.toggleActive.bind(Zj(n)),n.close=n.close.bind(Zj(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xj(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:"toggleActive",value:function(){var e=!this.state.activated;this.handleActiveChange(e),this.setState({activated:e})}},{key:"close",value:function(){this.handleActiveChange(!1),this.setState({activated:!1})}},{key:"handleActiveChange",value:function(e){var t=this.props.onActiveChange;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.selectedValue,r=e.onSelect,o=(e.onActiveChange,qj(e,["options","selectedValue","onSelect","onActiveChange"])),a=(t.find(function(e){return e.value===n})||{}).title,i=n?L.a.primary:L.a.font;return f.a.createElement("div",Kj({},o,{className:P.a.dynamic([["4059060641",[L.a.lightGray,L.a.lightGray]]])+" "+(null!=o.className&&o.className||"root")}),f.a.createElement("div",{style:{color:i},onClick:this.toggleActive,className:P.a.dynamic([["4059060641",[L.a.lightGray,L.a.lightGray]]])+" label"},a,f.a.createElement(fl,{style:{transform:"rotate(".concat(this.state.activated?180:0,"deg)"),display:"block",transformOrigin:"center 2px"},color:i})),this.state.activated&&f.a.createElement(Wj,{options:t,onClose:this.close,onSelect:r,selectedValue:n}),f.a.createElement(P.a,{id:"4059060641",dynamic:[L.a.lightGray,L.a.lightGray]},[".root.__jsx-style-dynamic-selector{border-bottom:1px solid ".concat(L.a.lightGray,";border-top:1px solid ").concat(L.a.lightGray,";background-color:white;}"),".label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}}])&&Yj(n.prototype,r),o&&Yj(n,o),t}();function $j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ek={selectSorter:function(e,t){return{type:Uo.Jf,categoryId:e,sorter:t}},selectFilter:function(e,t){return{type:Uo.If,categoryId:e,filter:t}}},tk=Object(a.b)(function(e,t){var n=e.bookFilter,r=n.sorters,o=n.filters,a=n.sorterOptions,i=t.category.id;return{sorter:r[i]||"",filter:o[i]||"",sorterOptions:a}},ek)(function(e){var t,n=e.category,r=e.sorter,o=e.filter,a=e.sorterOptions,i=e.selectSorter,c=e.selectFilter,l=e.forceSticky,s=e.resetSticky,u=e.onChange,p=n.type,d=function(){"function"==typeof s&&s(),u&&u()},m=function(e){e&&"function"==typeof l&&l()},y="free"===p?a.filter(function(e){var t=e.value;return!["purchasePrice","purchaseRate"].includes(t)}):a;return f.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},!!n.subCategories&&f.a.createElement(f.a.Fragment,null,f.a.createElement(Jj,{style:{flexGrow:1},options:(t=n.subCategories,[{value:"",title:"全部"}].concat($j(t.map(function(e){return{value:e.id,title:e.name}})))),selectedValue:o,onSelect:function(e){e!==o&&(c(n.id,e),d())},onActiveChange:m}),f.a.createElement("div",{style:{width:1,height:40,backgroundColor:L.a.lightGray}})),!!y.length&&f.a.createElement(Jj,{style:{flexGrow:1},options:y,selectedValue:r,onSelect:function(e){e!==r&&(i(n.id,e),d())},onActiveChange:m}))});function nk(e){return(nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ok(e,t){return!t||"object"!==nk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ak(e){return(ak=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ik(e,t){return(ik=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ck={marginTop:12,fontSize:14,fontWeight:"normal",lineHeight:1.43,textAlign:"center"},lk={width:"32%",backgroundImage:"url(https://asset.duozhuayu.com/free_logo.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat"},sk={fontSize:15,borderRadius:5,height:36,lineHeight:"36px",border:"1px solid #fff"},uk=function(e){var t=e.onSubscribe,n=e.onUnsubscribe,r=e.isSubscribed?{action:n,text:"已关注",icon:cb}:{action:t,text:"关注",icon:Tw};return f.a.createElement(D.a,{normal:!0,onClick:r.action,style:sk},r.text," ",f.a.createElement(r.icon,{width:"20",style:{marginLeft:8}}))},fk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ok(this,ak(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ik(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.onLoad;e.category&&"initial"!==t||n()}},{key:"renderWechatShare",value:function(){var e=this.props.category,t=e.name,n=e.description,r=this.isItemCategory?{title:"多抓鱼二手商店 - ".concat(t),desc:"真正的好东西值得被买上两次"}:{title:"多抓鱼分类 - ".concat(t),desc:n};return f.a.createElement(Bc.a,r)}},{key:"renderCategoryHeader",value:function(){var e=this.props,t=e.category,n=t.parentCategory,r=t.type,o=t.name,a=t.description,i=t.isSubscribed,c=e.onSubscribe,l=e.onUnsubscribe,s="free"===r,p=s?L.a.lightGreen:n.themeColor;return f.a.createElement("div",{style:{backgroundColor:p},className:P.a.dynamic([["1580195329",[L.a.lightGreen]]])+" category-header"},f.a.createElement(Bu,{appHeight:0,calcFn:function(e){return"calc(".concat(e," - 35px)")}}),s?f.a.createElement("div",{className:P.a.dynamic([["1580195329",[L.a.lightGreen]]])+" free-header"},f.a.createElement(gr.a,{style:lk,ratio:.9}),f.a.createElement(ma.a,{colored:!0,withArrow:!0,to:"/support/free",style:ck},"多抓鱼 free 计划")):f.a.createElement(u.Fragment,null,f.a.createElement("h1",{className:P.a.dynamic([["1580195329",[L.a.lightGreen]]])+" category-title"},o),a&&f.a.createElement("div",{className:P.a.dynamic([["1580195329",[L.a.lightGreen]]])+" category-description"},a),!this.isItemCategory&&f.a.createElement("div",{className:P.a.dynamic([["1580195329",[L.a.lightGreen]]])+" action"},f.a.createElement(uk,{isSubscribed:i,onSubscribe:c,onUnsubscribe:l}))),f.a.createElement(P.a,{id:"1580195329",dynamic:[L.a.lightGreen]},[".category-header.__jsx-style-dynamic-selector{padding-top:35px;padding-bottom:35px;color:#fff;}",".category-title.__jsx-style-dynamic-selector{margin:0;padding-top:0;font-size:24px;font-weight:inherit;text-align:center;}",".category-description.__jsx-style-dynamic-selector{margin:10px 35px 0;font-size:14px;text-align:center;}",".free-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:32px 0 28px;background-color:".concat(L.a.lightGreen,";}"),".action.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:20px 0 0;}"]))}},{key:"renderListContent",value:function(){var e=this.props.category,t=e.id;switch(e.type){case"oc_contribution":return f.a.createElement(RE,null);case"itemCategory":return f.a.createElement(AO,{categoryId:t,mode:"309646687402594759"===t?"preview":""});case"category":case"free":return f.a.createElement(Ij,null);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.loadStatus;return t?f.a.createElement("div",{className:"jsx-873623172 category-page"},f.a.createElement(ue.a,{title:this.pageTitle,withSuffix:!0}),f.a.createElement(Fc.a,null),this.renderWechatShare(),this.renderCategoryHeader(),f.a.createElement("div",{className:"jsx-873623172 sticky-wrapper"},Object(Pw.h)(t)&&f.a.createElement(Ld,null,function(e){var n=e.resetSticky,r=e.forceSticky;return f.a.createElement(tk,{category:t,resetSticky:n,forceSticky:r})}),this.renderListContent()),this.isItemCategory&&f.a.createElement(G,{to:"/item/list"}),f.a.createElement(P.a,{id:"873623172"},[".category-page.jsx-873623172{box-sizing:border-box;min-height:100vh;padding-bottom:51px;background:#fff;}",".sticky-wrapper.jsx-873623172{min-height:100vh;}"])):"loading"===n?f.a.createElement("div",{className:"jsx-3467039619 category-page-empty"},f.a.createElement(ue.a,null),f.a.createElement(q.a,null),f.a.createElement(P.a,{id:"3467039619"},[".category-page-empty.jsx-3467039619{box-sizing:border-box;min-height:100vh;padding-bottom:51px;background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"])):"notFound"===n?f.a.createElement(gc.a,null):null}},{key:"pageTitle",get:function(){var e=this.props.category;return O.f?e.name:"分类"}},{key:"isItemCategory",get:function(){var e=this.props.category;return!(!e||"itemCategory"!==e.type)}}])&&rk(n.prototype,r),o&&rk(n,o),t}(),pk=Object(a.b)(function(e,t){var n=t.match.params.id;return{category:Object(Pw.l)(e,n),loadStatus:Object(Pw.k)(e,n),loadBooksStatus:Object(Yw.f)(e,n)}},function(e,t){var n=t.match.params.id;return{onLoad:function(){return e(Object(Pw.i)(n))},onSubscribe:function(){return e(Object(Pw.n)(n))},onUnsubscribe:function(){return e(Object(Pw.o)(n))}}})(Object(Ne.a)(fk)),dk=n("kRXY"),mk=n("jNpE"),yk=function(e,t){return{type:Uo.tf,isExpanded:t,key:e}},bk=n("z16u");function hk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vk=Object(A.a)().replace,xk=n("wO6Y");n("0FDP");function wk(e){return(wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ek(e){return(Ek=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(e,t){return(kk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _k={onCodeChange:Ad.b,onVerify:Ad.k},Sk=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=Ek(t).call(this))||"object"!==wk(r)&&"function"!=typeof r?jk(n):r).state={isCodeInputShown:!1},e.handleInputBlur=e.handleInputBlur.bind(jk(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kk(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=["loaded","verifying"];t.includes(this.props.status)||!t.includes(e.status)?t.includes(this.props.status)&&!t.includes(e.status)&&this.setState({isCodeInputShown:!1}):this.setState({isCodeInputShown:!0})}},{key:"handleInputBlur",value:function(){this.props.code&&this.props.onVerify(this.props.value,this.props.code)}},{key:"render",value:function(){var e=this.props,t=e.warn,n=e.status,r=e.value,o=e.remainingSeconds,a=e.code,i=e.onChange,c=e.onCodeChange;e.onRequestCode;return"loading"===n?"发送中...":"verifying"===n?"正在验证...":"verified"===n?"已验证":"loaded"===n?"已发送（".concat(o,"s）"):!1,f.a.createElement("div",{className:"Phone"},f.a.createElement("div",{className:"Phone-line"},f.a.createElement(it,{warn:t,type:"tel",value:r,onChange:i}),!1),this.state.isCodeInputShown&&f.a.createElement("div",{className:"Phone-line"},f.a.createElement(it,{type:"tel",value:a,placeholder:"请输入验证码",className:"Phone-codeInput",onBlur:this.handleInputBlur,onChange:c})))}}])&&Ok(n.prototype,r),o&&Ok(n,o),t}(),Ck=Object(a.b)(function(e){return{remainingSeconds:e.address.phone.remainingSeconds,status:e.address.phone.status,code:e.address.phone.code}},_k)(Sk),Pk=n("2+D2"),Ik=n.n(Pk),Tk=(n("/j8O"),n("CpTu")),Nk=function(e){return f.a.createElement("div",null,f.a.createElement(it,{type:"disabled",warn:e.warn,onClick:e.onClick},e.extra))},Rk=function(e){return e.provinces.map(function(e){return{label:e.name,value:e.name,children:e.cities.map(function(e){return{label:e.name,value:e.name,children:e.districts.map(function(e){return{label:e,value:e,children:[]}})}})}})},Lk=function(e,t){if(!t)return[];var n=Object(Tk.a)(e.provinces,function(e){return e.name===t}),r=n&&n.cities;return r?r.map(function(e){return e.name}):[]},Ak=function(e,t,n){if(!t||!n)return[];var r=Object(Tk.a)(e.provinces,function(e){return e.name===t}),o=r&&r.cities,a=Object(Tk.a)(o,function(e){return e.name===n});return a&&a.districts||[]},Fk=function(e){var t=e.regions,n=e.province,r=e.city,o=e.district,a=e.errors,i=e.onChange;return f.a.createElement("div",{className:P.a.dynamic([["1185320128",[L.a.primary,L.a.font]]])+" root"},O.l&&t.provinces?function(e){var t=e.regions,n=e.province,r=e.city,o=e.district,a=e.errors,i=e.onChange,c=function(e){return e.provinces.map(function(e){return e.name})}(t),l=Lk(t,n),s=Ak(t,n,r),u={width:"100%"};return f.a.createElement("div",{className:"jsx-1940657831 address-inputs"},f.a.createElement("div",{className:"jsx-1940657831 input-wrap"},f.a.createElement(it,{type:"select",initial:!n,value:n,style:u,warn:"province"in a,onChange:function(e){var n=Lk(t,e)[0],r=Ak(t,e,n)[0];i({deliveryTime:"",province:e,city:n,district:r})}},!n&&f.a.createElement("option",{value:"",className:"jsx-1940657831"},"省/直辖市"),c.map(function(e){return f.a.createElement("option",{key:e,value:e,className:"jsx-1940657831"},e)}))),f.a.createElement("div",{className:"jsx-1940657831 input-wrap"},f.a.createElement(it,{type:"select",initial:!r,value:r,style:u,warn:"city"in a,onChange:function(e){return i({city:e,district:Ak(t,n,e)[0]})}},!r&&f.a.createElement("option",{value:"",className:"jsx-1940657831"},"城市"),l.map(function(e){return f.a.createElement("option",{key:e,value:e,className:"jsx-1940657831"},e)}))),f.a.createElement("div",{className:"jsx-1940657831 input-wrap"},f.a.createElement(it,{type:"select",initial:!o,value:o,style:u,warn:"district"in a,onChange:function(e){return i({district:e})}},!o&&f.a.createElement("option",{value:"",className:"jsx-1940657831"},"区/县"),s.map(function(e){return f.a.createElement("option",{key:e,value:e,className:"jsx-1940657831"},e)}))),f.a.createElement(P.a,{id:"1940657831"},[".input-wrap.jsx-1940657831{display:inline-block;box-sizing:border-box;width:50%;padding-right:4px;margin-top:10px;}",".input-wrap.jsx-1940657831:first-child{width:100%;margin-top:0;}"]))}({regions:t,province:n,city:r,district:o,onChange:i,errors:a}):f.a.createElement(Ik.a,{data:t.provinces&&Rk(t),value:n||r||o?[n,r,o]:null,title:"选择城市",extra:"请选择所在地区",format:function(e){return e.join("")},onOk:function(e){var t={province:e[0],city:e[1],district:e[2]};n!==e[0]&&(t.deliveryTime=null),i(t)}},f.a.createElement(Nk,{warn:"district"in a||"province"in a||"city"in a})),f.a.createElement(P.a,{id:"1185320128",dynamic:[L.a.primary,L.a.font]},[".root.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}",".am-picker-popup-wrap{max-width:600px;margin:auto;}",".am-picker-col{-webkit-flex:1;-ms-flex:1;flex:1;}",".am-picker-popup-item{color:".concat(L.a.primary,";}"),".am-picker-col-item-selected{font-size:15px;}",".am-picker-col-item{font-size:14px;}",".am-picker-popup-title{color:".concat(L.a.font,";}")]))};function Bk(){return(Bk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dk=function(e){return f.a.createElement("svg",Bk({xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 34 34"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#1AAD19"}),f.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M27.598 17.596c-.532-1.237-1.538-2.22-2.705-2.824-2.06-1.068-4.62-1.062-6.675.027-1.427.75-2.619 2.094-2.957 3.73-.278 1.204-.029 2.5.595 3.55.929 1.578 2.607 2.586 4.35 2.91 1.262.262 2.569.106 3.795-.256.737.293 1.393.766 2.107 1.117a47.843 47.843 0 0 0-.591-1.884c.801-.582 1.528-1.309 1.963-2.221.651-1.268.69-2.842.118-4.15zm-8.683-8.483c-2.183-1.258-4.901-1.448-7.25-.578-1.543.569-2.94 1.626-3.802 3.065-.784 1.299-1.077 2.92-.7 4.406.38 1.649 1.497 3.032 2.855 3.955a72.656 72.656 0 0 0-.749 2.29c.854-.458 1.707-.935 2.56-1.4 1.024.336 2.114.501 3.203.465a5.646 5.646 0 0 1-.223-2.645c.197-1.229.853-2.352 1.745-3.185 1.51-1.447 3.65-2.057 5.683-1.91-.381-1.913-1.693-3.53-3.345-4.462h.023v-.001zm1.517 8.951c-.183.585-1.012.76-1.414.316-.442-.412-.27-1.271.311-1.455.642-.277 1.384.482 1.103 1.14zm4.195.083c-.224.525-.998.648-1.379.242-.183-.171-.236-.43-.3-.654.09-.41.367-.837.813-.856.617-.088 1.169.692.853 1.269h.013v-.001zm-6.26-5.784c.007.861-1.116 1.399-1.746.815-.654-.48-.468-1.647.3-1.888.686-.282 1.498.309 1.444 1.062l.002.011zm-5.302.219c-.15.748-1.13 1.11-1.703.607-.664-.48-.477-1.667.302-1.91.764-.3 1.632.493 1.401 1.303z"})))};function Mk(e){return(Mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zk(e){return(zk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hk(e,t){return(Hk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wk=["北京市","天津市","重庆市","上海市"],Vk=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zk(t).call(this,e))||"object"!==Mk(o)&&"function"!=typeof o?Gk(r):o).openAddress=n.openAddress.bind(Gk(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hk(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"openAddress",value:function(){var e=this.props.onSelectAddress;Object(Yo.e)().then(function(t){var n=t.detailInfo,r=t.cityName,o=t.provinceName,a=t.countryName,i=t.userName,c=t.telNumber,l=Wk.includes(o)?o.replace("市",""):o;e({name:i,phone:c,province:l,city:r,district:a,street:n})})}},{key:"render",value:function(){return f.a.createElement("div",{onClick:this.openAddress,className:P.a.dynamic([["4110740961",[L.a.gray]]])+" wechat-address"},f.a.createElement(Dk,null),f.a.createElement("div",{className:P.a.dynamic([["4110740961",[L.a.gray]]])+" hint"},"一键获取微信地址簿"),f.a.createElement(qn.a,null),f.a.createElement(P.a,{id:"4110740961",dynamic:[L.a.gray]},[".wechat-address.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px 0;border-top:0.5px solid ".concat(L.a.gray,";}"),".hint.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:18px;font-size:15px;font-weight:300;line-height:1.33;}"]))}}])&&Uk(n.prototype,r),o&&Uk(n,o),t}();function Kk(e){return(Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qk(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zk(e,t){return!t||"object"!==Kk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xk(e){return(Xk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jk(e,t){return(Jk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $k={onShowBanner:We.d,onRequestVeriCode:bk.d,onLoadRegions:xk.a,onEditPhone:bk.b,onEdit:bk.a},e_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zk(this,Xk(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jk(e,t)}(t,f.a.Component),n=t,o=[{key:"defaultProps",get:function(){return{type:"purchase"}}}],(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.regions,r=e.onLoadRegions;n[t].provinces||r(t)}},{key:"render",value:function(){var e=this.props,t=e.regions,n=e.type,r=e.values,o=e.errors,a=e.isUpdate,i=e.onShowBanner,c=e.onRequestVeriCode,l=e.onEditPhone,s=e.onEdit,u=t[n].provinces&&a?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yk(e,t,n[t])})}return e}({},t[n],{provinces:t[n].provinces.filter(function(e){return e.name===r.province})}):t[n];return f.a.createElement(f.a.Fragment,null,f.a.createElement(Zm,null,f.a.createElement(Xm,null,"姓名："),f.a.createElement(it,{warn:"name"in o,value:r.name||"",onChange:function(e){return s({name:e})}})),f.a.createElement(Zm,null,f.a.createElement(Xm,null,"电话："),f.a.createElement(Ck,{warn:"phone"in o,value:r.phone||"",onChange:l,onRequestCode:c})),f.a.createElement(Zm,null,f.a.createElement(Xm,null,"地址："),f.a.createElement(Fk,{regions:u,province:r.province,city:r.city,district:r.district,errors:o,onChange:function(e){s(e)}})),f.a.createElement(Zm,null,f.a.createElement(Xm,null),f.a.createElement(it,{type:"textarea",warn:"street"in o,placeholder:"详细地址，街道、小区、单元、门牌号",value:r.street||"",onChange:function(e){return s({street:e})}})),O.c&&!Object(v.b)()&&f.a.createElement(Vk,{onSelectAddress:function(e){var t=e.phone,n=qk(e,["phone"]);a&&r.province&&n.province!==r.province?i("INVALID_ORDER_ADDRESS"):(s(n),l(t))}}))}}])&&Qk(n.prototype,r),o&&Qk(n,o),t}(),t_=Object(a.b)(function(e){return{regions:e.address.regions,values:e.address.values,errors:e.address.errors}},$k)(e_),n_=function(e){var t=e.isChecked,n=e.orderType,r=e.style,o=e.onChange,a="sell"===n?"卖":"买";return f.a.createElement("div",{style:r,className:P.a.dynamic([["3520588710",[L.a.lighterFont]]])+" Anonym"},f.a.createElement("div",{className:P.a.dynamic([["3520588710",[L.a.lighterFont]]])+" wrap"},f.a.createElement("div",{className:P.a.dynamic([["3520588710",[L.a.lighterFont]]])+" desc"},f.a.createElement("h3",{className:P.a.dynamic([["3520588710",[L.a.lighterFont]]])+" title"},"匿名",a,"书"),f.a.createElement("p",{className:P.a.dynamic([["3520588710",[L.a.lighterFont]]])+" tip"},"开启后其他人不会知道你",a,"了这些")),f.a.createElement(bb,{checked:t,onChange:o})),f.a.createElement(P.a,{id:"3520588710",dynamic:[L.a.lighterFont]},[".Anonym.__jsx-style-dynamic-selector{height:64px;margin:15px 0;padding:0 15px;background:#fff;}",".wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".tip.__jsx-style-dynamic-selector{font-size:12px;line-height:1.8;color:".concat(L.a.lighterFont,";}")]))},r_=function(e){var t=e.price;return f.a.createElement("div",{className:P.a.dynamic([["1463035411",[L.a.primary]]])+" lockin-book-price"},f.a.createElement("span",{className:P.a.dynamic([["1463035411",[L.a.primary]]])+" lockin-prefix"},"已支付"),f.a.createElement(Mo.a,{medium:!0,n:t}),f.a.createElement(P.a,{id:"1463035411",dynamic:[L.a.primary]},[".lockin-book-price.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(L.a.primary,";}"),".lockin-prefix.__jsx-style-dynamic-selector{margin-right:5px;line-height:1.62;font-size:13px;}"]))},o_=function(e){var t=e.oldPrice,n=e.newPrice;return f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{price:!0,invalid:!0,lighter:!0},t),f.a.createElement(fe.a,{price:!0,padStart:!0},n))},a_=function(e){var t,n=e.items,r=void 0===n?[]:n,o=e.total,a=e.totalPrefix,i=e.final,c=e.finalPrefix,l=e.children,s=e.isRetrieval;return t=0===i&&s?null:"number"==typeof i?f.a.createElement(Mo.a,{n:i}):i,f.a.createElement("div",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])},!!r.length&&f.a.createElement("div",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])+" section"},r.map(function(e){var t=e.isFree,n=Object(Do.d)(e),r=n?n.title:"";if(s||e.acquirePrice||0===e.acquirePrice&&t){var o,a=e.acquirePrice,i=e.oldPrice;return t?o=f.a.createElement(rc,{small:!0}):i?o=f.a.createElement(o_,{oldPrice:i,newPrice:a}):s||(o=a),f.a.createElement(ri,{key:e.id,name:r,value:o})}return e.hasLocked?f.a.createElement(ri,{key:e.id,name:r,value:f.a.createElement(r_,{price:e.price})}):f.a.createElement(ri,{key:e.id,name:r,value:t?f.a.createElement(rc,{small:!0}):e.price})})),!s&&f.a.createElement("div",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])+" section"},f.a.createElement(ri,{name:a?"".concat(a):"总价",value:o}),l),f.a.createElement("div",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])+" section footer"},f.a.createElement("div",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])},c?"".concat(c):"下单支付：",f.a.createElement("span",{className:P.a.dynamic([["3757601156",[L.a.gray,L.a.emphasis]]])+" final"},t))),f.a.createElement(P.a,{id:"3757601156",dynamic:[L.a.gray,L.a.emphasis]},[".section.__jsx-style-dynamic-selector{padding:14px 0;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".section.__jsx-style-dynamic-selector:last-child{border-bottom:none;}",".footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".final.__jsx-style-dynamic-selector{font-size:1.33em;font-weight:400;color:".concat(L.a.emphasis,";}")]))},i_=function(e){var t=e.onClose,n=[{primary:!1,label:"暂不下单",onClick:e.onGoBack},{primary:!0,label:"继续下单",onClick:t}];return f.a.createElement(ie.a,{onClose:t,actions:n},f.a.createElement("div",{style:{padding:32}},"现在不下单，可能会被别人买走~"))};function c_(e){return(c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s_(e){return(s_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(e,t){return(f_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p_={onCheckout:function(e){return function(t,n){var r=n(),o=Object(F.I)(r).map(function(e){return e.id}),a=r.address.values,i=r.couponSelect,c=Object(dk.b)(r.checkout),l=i.selectedCoupon.couponId;"wechat"===e&&(e=Object(k.a)());var s={payWay:e,isAnonymous:c,cartIds:o,address:a};l&&(s.userPromotionId=l),t({cartBookIds:o,paymentMethod:e,fetch:{types:[Uo.ib,Uo.jb],from:"post /purchase",body:s,beforeSuccess:function(e){var n=e.orders;t({type:Uo.fb});var r=n.length>1?"/orders":"/orders/purchase/".concat(n[0].id);vk(r)}}}).then(function(n){var r=n.orders,o=n.pay,a=(o||{}).status,i=r.reduce(function(e,t){return{totalPrice:e.totalPrice+t.price,totalBalanceDeduction:e.totalBalanceDeduction+(t.balancePayDiscountAmount-t.price)}},{totalPrice:0,totalBalanceDeduction:0}),c=i.totalPrice,l=i.totalBalanceDeduction;Object(_l.a)("buy","deal",c),"dzy"===e?(t(Object(_.g)("logistics")),t(Object(Te.m)(l)),t(Object(We.d)("ORDER_SUCCESS")),r&&r.length>1&&t(Object(Qo.c)(!0))):"paid"===a?(t(Object(_.g)("logistics")),t(Object(We.d)("ORDER_SUCCESS"))):t(ia(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hk(e,t,n[t])})}return e}({},o,{orders:r}))),t(Object(Ge.c)()),1===r.length&&t(yk("order-".concat(r[0].id,"-status"),!0))},function(n){t({type:Uo.hb,paymentMethod:e,cartBookIds:o,error:n})})}},onCheckAnonymous:function(){return{type:Uo.gb}},onLoadSettings:Ko.b,onValidateOrderForm:function(){return function(e,t){var n=t().address,r=n.values,o=n.regions,a=gk(Object(mk.b)(r,["name","phone","province","city","district","street"]),2),i=a[0],c=a[1];return c||(c=Object(mk.c)(r,o.purchase))&&(i.district=!0),!Object.keys(i).length||(e(Object(bk.c)(i)),e(Object(We.d)(c)),!1)}},onLoadPurchaseInfo:function(){return{fetch:{from:"/purchase",types:[Uo.Pd,Uo.Qd]}}},onValidateUserProtocol:Ge.d,onViewCoupons:qh,onAutoSelectCoupon:Yh,onLoadCart:qo.e},d_={padding:15},m_={marginLeft:15},y_={marginLeft:6},b_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=s_(t).call(this,e))||"object"!==c_(o)&&"function"!=typeof o?u_(r):o).state={showDetainmentModal:!1},n.handleViewCoupon=n.handleViewCoupon.bind(u_(n)),n.handleBalancePay=n.handleBalancePay.bind(u_(n)),n.handleWechatPay=n.handleWechatPay.bind(u_(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f_(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){"PUSH"===this.props.history.action&&window.scrollTo(0,0),O.f&&this.props.onLoadCart(!0),this.props.onLoadSettings(),this.props.onLoadPurchaseInfo(),this.setupRouteBlock(),this.autoSelectCoupon()}},{key:"componentWillUnmount",value:function(){this.unblock()}},{key:"setupRouteBlock",value:function(){var e=this,t=this.props.history;this.unblock=t.block(function(t){var n=e.props.hasUnlockedBookOrItem;return"/cart"!==t.pathname||!n||(e.setState({showDetainmentModal:!0}),!1)})}},{key:"handleCheckout",value:function(e){var t=this.props,n=t.onCheckout,r=t.onValidateOrderForm,o=t.onValidateUserProtocol;r()&&o()&&n(e)}},{key:"handleBalancePay",value:function(){this.handleCheckout("dzy")}},{key:"handleWechatPay",value:function(){this.handleCheckout("wechat")}},{key:"autoSelectCoupon",value:function(){var e=this.props;(0,e.onAutoSelectCoupon)(e.autoSelectedCoupon)}},{key:"handleViewCoupon",value:function(e){var t=this.props.onViewCoupons;e.preventDefault(),t()}},{key:"calculateBookPrice",value:function(){var e=this.props,t=e.hasBooksInCart,n=e.totalBookPrice,r=e.lockedPrice,o=e.bookShippingCost,a=e.freeBookServiceFee,i=e.balancePayDiscountRate,c=e.selectedCoupon,l=c.type,s=t&&"purchase_freight_free"!==l?o:0,u="purchase_freight_free"===l?o:s,f=s+a,p=c.amount||0,d=n-r,m=Math.max(0,d-p);return{total:n,locked:r,rebated:m,shipping:s,shippingDisplay:u,free:a,balance:parseInt(m*i/100,10)+f,final:m+f}}},{key:"calculateItemPrice",value:function(){var e=this.props,t=e.totalItemPrice,n=e.shippingCostForItemOrder,r=e.balancePayDiscountRate,o=n;return{final:t+o,balance:parseInt(t*r/100,10)+o,total:t,shipping:n}}},{key:"calcTotalPrice",value:function(){var e=this.calculateBookPrice(),t=e.final,n=e.balance,r=e.shipping,o=e.free,a=this.calculateItemPrice(),i=a.final;return{balancePayFinalPrice:n+a.balance,wechatPayFinalPrice:t+i,finalExtraPrice:r+a.shipping+o}}},{key:"renderDetainmentModal",value:function(){var e=this;return this.state.showDetainmentModal?f.a.createElement(i_,{onClose:function(){return e.setState({showDetainmentModal:!1})},onGoBack:function(){e.unblock(),e.props.history.goBack()}}):null}},{key:"renderAddressSection",value:function(){var e=this.props.expectedDeliveryTime,t=Object(me.c)(e);return f.a.createElement("div",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])+" checkout-section"},f.a.createElement("div",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])+" checkout-header"},"填写收货人信息"),f.a.createElement("div",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])+" checkout-content"},f.a.createElement(ma.a,{to:"/support?section=buy&item=2"},f.a.createElement("div",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])+" checkout-info"},f.a.createElement("p",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])},"使用中通 / EMS 等快递发货，了解具体发货规则？"),t&&f.a.createElement("p",{className:P.a.dynamic([["1090336307",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]]])},"预计发货时间 ".concat(t)))),f.a.createElement(t_,{type:"purchase"})),f.a.createElement(P.a,{id:"1090336307",dynamic:[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1)]},[".checkout-section.__jsx-style-dynamic-selector{padding:15px 15px 0;background:#fff;}",".checkout-header.__jsx-style-dynamic-selector{font-size:15px;}",".checkout-header.__jsx-style-dynamic-selector+.checkout-content.__jsx-style-dynamic-selector{margin-top:15px;border-top:0.5px solid ".concat(L.a.gray,";padding-top:15px;overflow:auto;}"),".checkout-info.__jsx-style-dynamic-selector{margin-bottom:15px;padding:0.4em;color:".concat(L.a.emphasis,";font-size:13px;text-align:center;background:").concat(Object(mi.a)(L.a.emphasis,.1),";border-radius:5px;}")]))}},{key:"renderReceiptContent",value:function(){var e=this.props,t=e.hasItemsInCart,n=e.hasBooksInCart,r=n&&t;return f.a.createElement("div",{className:"jsx-487688390 receipt-section"},n&&this.renderBookReceipt(r),t&&this.renderItemReceipt(r),f.a.createElement(P.a,{id:"487688390"},[".receipt-section.jsx-487688390{padding:0;background:none;margin-top:15px;}"]))}},{key:"renderBookReceipt",value:function(e){var t,n=this.props,r=n.normalBooks,o=n.isDiscountVisible,a=n.couponCount,i=n.selectedCoupon,c=n.freeBooks,l=this.calculateBookPrice(),s=l.shippingDisplay,p=l.total,d=l.final,m=l.locked,y=l.rebated,b=l.free,h=i.type,g=i.amount,v=h?Object(Qh.a)(h):"优惠券";return t=h?"purchase_freight_free"===h?s:g:"无可用的券",f.a.createElement("div",{className:"Receipt"},e&&f.a.createElement("div",{className:"Receipt-header"},"订单 1"),f.a.createElement("div",{className:"Receipt-content"},f.a.createElement(a_,{items:r,total:p,final:d},m>0&&f.a.createElement(ri,{primary:!0,negative:!0,name:"锁定已支付",value:m}),f.a.createElement(ri,{name:o&&0!==y?"运费（不参与优惠）":"运费",value:s,icon:f.a.createElement(ae,{to:"/support/shipping-cost",style:y_})}),Boolean(a)&&f.a.createElement("div",{className:"receipt-section clickable",onClick:this.handleViewCoupon},f.a.createElement(ri,{primary:!0,negative:!0,name:v,value:t,disabled:!h,navIcon:f.a.createElement(qn.a,null)})),Boolean(c.length)&&f.a.createElement(u.Fragment,null,f.a.createElement("div",{className:"receipt-section"},c.map(function(e){var t=e.id,n=e.book;return f.a.createElement(ri,{key:t,name:n.title,value:f.a.createElement(rc,{small:!0})})})),f.a.createElement("div",{className:"receipt-section"},f.a.createElement(ri,{name:f.a.createElement("div",{className:"jsx-1256896921 free-service-fee"},f.a.createElement(Eg,null),"（不参与优惠）",f.a.createElement(P.a,{id:"1256896921"},[".free-service-fee.jsx-1256896921{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"])),icon:f.a.createElement(ae,{to:"/support/free",style:y_}),value:b}))))))}},{key:"renderItemReceipt",value:function(e){var t=this.props.items,n=this.calculateItemPrice(),r=n.final,o=n.total,a=n.shipping;return f.a.createElement("div",{className:"Receipt"},e&&f.a.createElement("div",{className:"Receipt-header"},"订单 2"),f.a.createElement("div",{className:"Receipt-content"},f.a.createElement(a_,{items:t,total:o,final:r},f.a.createElement(ri,{name:"运费",value:a}))))}},{key:"renderCheckoutBar",value:function(){var e=this.props,t=e.isLoading,n=e.isDiscountVisible,r=e.balancePayDiscountRate,o=e.balance,a=this.calcTotalPrice(),i=a.balancePayFinalPrice,c=a.wechatPayFinalPrice,l=a.finalExtraPrice,s=o>=i;return f.a.createElement(Ze.a,null,f.a.createElement("div",{className:P.a.dynamic([["1779255364",[L.a.lightGray]]])+" checkout-bar"},f.a.createElement(Xe.a,null,f.a.createElement(Ca,{style:d_,balanceDisabled:t,balancePrice:i,balanceAvailable:s,onBalanceClick:this.handleBalancePay,showBalanceDiscount:n&&i>l,balanceDiscount:r/10,wechatDisabled:t,wechatPrice:c,onWechatClick:this.handleWechatPay}))),f.a.createElement(P.a,{id:"1779255364",dynamic:[L.a.lightGray]},[".checkout-bar.__jsx-style-dynamic-selector{background:".concat(L.a.lightGray,";}")]))}},{key:"render",value:function(){var e=this.props,t=e.hasItemsInCart,n=e.hasBooksInCart;if(!t&&!n)return O.f?null:f.a.createElement(xd.a,{to:"/cart"});var r=this.props,o=r.isAnonymous,a=r.onCheckAnonymous;return f.a.createElement("div",{className:"jsx-3883454630 "+P.a.dynamic([["880359982",[L.a.gray,L.a.primary,L.a.gray]]])+" checkout"},f.a.createElement(ue.a,{title:"下单"}),this.renderAddressSection(),f.a.createElement(n_,{isChecked:o,onChange:a,orderType:"purchase"}),this.renderReceiptContent(),f.a.createElement(ht,{style:m_}),f.a.createElement(ig,{scene:"select"}),this.renderCheckoutBar(),this.renderDetainmentModal(),f.a.createElement(P.a,{id:"3883454630"},[".checkout.jsx-3883454630{padding-bottom:145px;}"]),f.a.createElement(P.a,{id:"880359982",dynamic:[L.a.gray,L.a.primary,L.a.gray]},[".receipt-section{margin-top:14px;border-top:0.5px solid ".concat(L.a.gray,";padding-top:14px;}"),".Receipt{background:#fff;}",".Receipt+.Receipt{margin-top:15px;}",".Receipt-header{font-size:15px;border-left:5px solid ".concat(L.a.primary,";border-bottom:0.5px solid ").concat(L.a.gray,";padding-left:10px;height:38px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"),".Receipt-content{margin:0 15px;}",".clickable{cursor:pointer;}"]))}}])&&l_(n.prototype,r),o&&l_(n,o),t}(),h_=Object(a.b)(function(e){var t=e.cart.isCheckoutLoading,n=e.account.balance,r=e.couponSelect.selectedCoupon,o=Object(F.O)(e).length>0,a=Object(F.M)(e),i=Object(F.H)(e),c=i.length+a.length>0,l=Object(F.J)(e);return{balance:n,selectedCoupon:r,hasBooksInCart:c,hasItemsInCart:l.length>0,normalBooks:a,freeBooks:i,items:l,hasUnlockedBookOrItem:o,isLoading:t,expectedDeliveryTime:Object(dk.c)(e),isAnonymous:Object(dk.b)(e.checkout),bookShippingCost:Object(F.h)(e),freeBookServiceFee:Object(F.o)(e),shippingCostForItemOrder:Object(F.P)(e),totalBookPrice:Object(F.g)(e),totalItemPrice:Object(F.v)(e),lockedPrice:Object(F.L)(e),balancePayDiscountRate:Object(_e.i)(e),isDiscountVisible:Object(_e.j)(e),couponCount:Object(_e.e)(e),autoSelectedCoupon:Object(F.n)(e)}},p_)(b_);function g_(e){return(g_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x_(e){return(x_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(e,t){return(O_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E_={logClickEvent:g.b},j_=[1,3],k_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=x_(t).call(this,e))||"object"!==g_(o)&&"function"!=typeof o?w_(r):o).handleClick=n.handleClick.bind(w_(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O_(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){var t=this.props.logClickEvent,n=document.body.clientHeight,r=e.clientX,o=e.clientY,a=e.pageX,i=e.pageY,c=e.path;t({clientX:r,clientY:o,pageX:a,pageY:i,scrollTop:Object(w.b)(),clientHeight:n,path:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return j_.includes(e.nodeType)}).map(function(e){var t=e.id,n=e.className,r=e.nodeName.toLowerCase();if(!n&&!t)return r;var o=[r];return t&&o.push("#".concat(t)),n&&o.push(".".concat(n)),o.join("")}).slice(0,10)}(c)})}},{key:"render",value:function(){return null}}])&&v_(n.prototype,r),o&&v_(n,o),t}(),__=Object(a.b)(null,E_)(k_);function S_(e){return(S_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P_(e,t){return!t||"object"!==S_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I_(e){return(I_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T_(e,t){return(T_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N_={showMPCloseGuide:_.f},R_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P_(this,I_(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T_(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.showMPCloseGuide(),Object(A.a)().replace("/")}},{key:"render",value:function(){return null}}])&&C_(n.prototype,r),o&&C_(n,o),t}(),L_=Object(a.b)(null,N_)(R_);function A_(e){return(A_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B_(e,t){return!t||"object"!==A_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D_(e){return(D_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M_(e,t){return(M_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B_(this,D_(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M_(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.history,r=e.onLoad;"initial"!==t&&"PUSH"!==n.action||r(!0)}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.items,r=e.onLoad,o=e.buyout;return f.a.createElement(ne,{isLoading:"loading"===t,isDrained:"drained"===t,isErrored:"failed"===t,onLoad:r,items:n,renderItem:function(e){return f.a.createElement(ij,{fixHeight:!0,buyout:o,key:e.id,book:e})}})}}])&&F_(n.prototype,r),o&&F_(n,o),t}(),z_=Object(a.b)(function(e,t){var n=t.id;return{loadStatus:Object(F.l)(e,n),items:Object(F.k)(e,n)}},function(e,t){var n=t.id;return{onLoad:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e(Ad.e.apply(void 0,[n].concat(r)))}}})(U_);n("RPnu");function G_(e){return(G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W_(e,t){return!t||"object"!==G_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V_(e){return(V_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K_(e,t){return(K_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q_,Y_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W_(this,V_(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K_(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.history,r=e.onLoad;"initial"===t||"PUSH"===n.action?(window.scrollTo(0,0),r()):window.scrollTo(0,q_)}},{key:"componentWillUnmount",value:function(){q_=window.scrollY}},{key:"render",value:function(){var e=this.props,t=e.collection,n=e.loadStatus;if(!t)return"loading"===n?f.a.createElement("div",{className:"Collection Collection--empty"},f.a.createElement(ue.a,null),f.a.createElement(q.a,null)):"notFound"===n?f.a.createElement(gc.a,null):null;var r=this.props.history,o=t.id,a=t.name,i=t.image,c=t.description,l=t.bookCount,s=t.updated,u="buyout"===t.type,p=u?"本在收，":"本在售，";return f.a.createElement("div",{className:"Collection"},f.a.createElement(ue.a,{title:this.pageTitle,withSuffix:!0}),f.a.createElement(Fc.a,null),f.a.createElement(Bc.a,{title:"书单 — ".concat(a),desc:c}),f.a.createElement("div",{className:"Collection-headerWrapper"},f.a.createElement("div",{className:"Collection-bg",style:{backgroundImage:"url('".concat(i,"')")}}),f.a.createElement("div",{className:"Collection-header"},f.a.createElement("h1",{className:"Collection-title"},a),f.a.createElement("div",{className:"Collection-description"},c),f.a.createElement("div",{className:"Collection-meta"},f.a.createElement(fe.a,{padEnd:!0},l),p,f.a.createElement(be,{relative:!0,noStartPadding:!0,value:s}),"更新"))),f.a.createElement(z_,{buyout:u,history:r,id:o}),O.f&&f.a.createElement("style",{jsx:!0},"\n            .Collection-header {\n              padding-top: 40px;\n              padding-top: constant(safe-area-inset-top);\n              padding-top: env(safe-area-inset-top);\n            }\n          "))}},{key:"pageTitle",get:function(){this.props.collection;return"书单"}}])&&H_(n.prototype,r),o&&H_(n,o),t}(),Q_=Object(a.b)(function(e,t){var n=e.entities,r=t.match.params.id;return{collection:Object(Pe.h)(n,r),loadStatus:Object(Pe.i)(n,r)}},function(e,t){var n=t.match.params.id;return{onLoad:function(){return e(Object(Ad.f)(n))}}})(Y_),Z_=n("qzae");n("HzBx");function X_(e){return(X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $_(e,t){return!t||"object"!==X_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eS(e){return(eS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tS(e,t){return(tS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$_(this,eS(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tS(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.collection,t=e.id,n=e.image,r=e.name,o=e.bookCount;return f.a.createElement(M.a,{to:"/collections/".concat(t),className:"CollectionItem"},f.a.createElement("div",{className:"CollectionItem-bg",style:{backgroundImage:"url('".concat(n,"')")}}),f.a.createElement("h2",{className:"CollectionItem-title"},r),f.a.createElement("div",{className:"CollectionItem-meta"},f.a.createElement("span",{className:"CollectionItem-number"},o),"在售"))}}])&&J_(n.prototype,r),o&&J_(n,o),t}();function rS(e){return(rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aS(e,t){return!t||"object"!==rS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iS(e){return(iS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cS(e,t){return(cS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lS={onLoad:Ad.g},sS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aS(this,iS(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cS(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r(!0)}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.items,r=e.onLoad;return f.a.createElement("div",{className:P.a.dynamic([["606308078",[L.c.navHeight]]])+" root"},f.a.createElement(ue.a,{title:"书单"}),f.a.createElement(Fc.a,null),f.a.createElement(Bc.a,{title:"多抓鱼所有的书单",desc:"".concat(n.slice(0,2).map(function(e){return e.name}).join("、"),"等 ").concat(n.length," 个书单")}),f.a.createElement("div",{className:P.a.dynamic([["606308078",[L.c.navHeight]]])+" wrap"},f.a.createElement(ne,{isLoading:"loading"===t,isDrained:"drained"===t,isErrored:"failed"===t,onLoad:r,items:n,renderItem:function(e){return f.a.createElement(nS,{key:e.id,collection:e})}})),f.a.createElement(P.a,{id:"606308078",dynamic:[L.c.navHeight]},[".wrap.__jsx-style-dynamic-selector{padding:14px 14px ".concat(L.c.navHeight," 14px;}")]))}}])&&oS(n.prototype,r),o&&oS(n,o),t}(),uS=Object(a.b)(function(e,t){return{loadStatus:Object(Z_.c)(e.collectionLists,"collections"),items:Object(F.m)(e,"collections"),shouldLoad:"POP"!==t.history.action}},lS)(sS),fS=[[{id:"reject_huaxian",name:"划线或标注过多拒收"},{id:"reject_posun1",name:"严重破损拒收"}],[{id:"reject_posun2",name:"严重破损拒收"},{id:"reject_posun3",name:"严重破损拒收"}],[{id:"reject_library_stamp1",name:"含馆藏类印章拒收"},{id:"reject_library_stamp2",name:"含馆藏类印章拒收"}],[{id:"reject_library_label",name:"含馆藏类标签拒收"},{id:"reject_ownership",name:"书籍权属不明拒收"}],[{id:"reject_wuzi1",name:"严重污渍拒收"},{id:"reject_wuzi2",name:"严重污渍拒收"}],[{id:"reject_wuzi3",name:"严重污渍拒收"},{id:"reject_cuoyin",name:"漏印或错印拒收"}]];function pS(e){return(pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yS(e){return(yS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hS(e,t){return(hS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gS=[["new","全新","在多抓鱼收到时是全新且未拆封的。"],["fine","品相良好","有不明显的使用痕迹或瑕疵（扉页/衬页存在少量文字或盖章也接受）。",f.a.createElement("div",{className:"jsx-4231059720 fine-content"},f.a.createElement(Em,{className:"jsx-4231059720"}),f.a.createElement(P.a,{id:"4231059720"},[".fine-content.jsx-4231059720{padding-top:12px;}"]))],["medium","品相中等","有较明显的使用痕迹和轻度瑕疵，但不影响正常阅读。收购价比全新和品相良好要低 20%。",f.a.createElement("div",{className:"jsx-190617647 medium-content"},f.a.createElement(_m,{className:"jsx-190617647"}),f.a.createElement(P.a,{id:"190617647"},[".medium-content.jsx-190617647{padding-top:18px;}"]))],["reject","品相不合格","书籍品相已经影响书的下一位主人的使用和阅读体验，并且无法修复时，书将被拒收（首次免费取回），不会将其上架售卖。",f.a.createElement("div",{className:"jsx-1597814942 reject-content"},f.a.createElement("section",{className:"jsx-1597814942 reject-reasons"},f.a.createElement("p",{className:"jsx-1597814942"},"品相不合格主要包括以下几种情况："),["严重污渍：无法被清洁掉的大面积或让人产生明显不适的霉斑、油渍、水渍等；","含馆藏类印章或标签：书籍权属不明，不适宜循环售卖；如果你有能够证明权属关系的批量处理馆藏书籍的需求，请邮件联系多抓鱼 b2b 小组：b2b@duozhuayu.net","严重破损：影响正常阅读的封面破损、书脊破损、内页破损或开胶脱页；","划线或标注过多：导致正文辨识不清的划线或标注，和正文无关的大面积乱涂乱画；","习题册已做：做题后失去使用价值；","附件缺失：附件缺失后影响书籍使用和阅读，如解密卡；","漏印或错印：导致书籍无法完整阅读的漏印或错印；","严重变形：影响正常阅读的书籍变形；","严重异味：影响正常阅读的浓重霉味或其他让人产生明显不适的气味；","音像制品：磁带、光盘或以其为主体的商品。"].map(function(e,t){return f.a.createElement("p",{key:t,className:"jsx-1597814942 reject-item"},e)})),f.a.createElement(function(){return f.a.createElement(jm,{condition:"reject",imgFormat:"png",images:fS})},{className:"jsx-1597814942"}),f.a.createElement(P.a,{id:"1597814942"},[".reject-reasons.jsx-1597814942{margin-bottom:20px;}",".reject-item.jsx-1597814942{margin-top:15px;font-size:15px;font-weight:300;line-height:1.67;}"]))],["other","其他不合格原因","非卖品、盗版书、套装书缺册和非法出版物是会被拒收的。"]],vS={transform:"rotate(180deg)"},xS=function(e){var t=e.id,n=e.isShow,r=e.title,o=e.desc,a=e.content,i=e.onToggle;return f.a.createElement("div",{className:P.a.dynamic([["96095787",[L.a.primary]]])+" condition-section"},f.a.createElement("h2",{className:P.a.dynamic([["96095787",[L.a.primary]]])+" condition-title"},r),f.a.createElement("p",{className:P.a.dynamic([["96095787",[L.a.primary]]])+" condition-desc"},o),n&&a,a&&f.a.createElement("div",{onClick:function(){return i(t)},className:P.a.dynamic([["96095787",[L.a.primary]]])+" "+(N()("toggle",{show:n})||"")},n?"收起":"".concat(r,"图片实例"),f.a.createElement(bs,{style:n?vS:null})),f.a.createElement(P.a,{id:"96095787",dynamic:[L.a.primary]},[".condition-section.__jsx-style-dynamic-selector{margin-bottom:28px;}",".condition-title.__jsx-style-dynamic-selector{font-size:15px;font-weight:500;line-height:1.67;}",".condition-desc.__jsx-style-dynamic-selector{font-size:15px;font-weight:300;line-height:1.67;}",".toggle.__jsx-style-dynamic-selector{margin-top:5px;font-size:15px;font-weight:300;line-height:1.27;color:".concat(L.a.primary,";text-align:center;}"),".toggle.show.__jsx-style-dynamic-selector{margin-top:12px;}"]))},wS=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yS(t).call(this,e))||"object"!==pS(o)&&"function"!=typeof o?bS(r):o).state={showFineDetail:!1,showMediumDetail:!1,showRejectDetail:!1},n.toggleConditionDetail=n.toggleConditionDetail.bind(bS(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hS(e,t)}(t,u["Component"]),n=t,(r=[{key:"toggleConditionDetail",value:function(e){var t="show".concat(e,"Detail");this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!this.state[t]))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"jsx-2141687848 condition-rules"},f.a.createElement("h1",{className:"jsx-2141687848 title"},"书籍品相审核分级细则"),f.a.createElement("div",{className:"jsx-2141687848 desc"},"多抓鱼在收到书时会进行品相审核，这一步会把书籍的品相分为全新、品相良好、品相中等、品相不合格，其中品相中等的收购价比全新和品相良好的要低 20%，品相不合格的书会被拒收。"),gS.map(function(t){var n=dS(t,4),r=n[0],o=n[1],a=n[2],i=n[3],c=e.state["show".concat(r,"Detail")];return f.a.createElement(xS,{key:r,id:r,isShow:c,title:o,desc:a,content:i,onToggle:e.toggleConditionDetail})}),f.a.createElement(P.a,{id:"2141687848"},[".condition-rules.jsx-2141687848{padding:15px;background-color:#fff;}",".title.jsx-2141687848{font-size:20px;font-weight:normal;line-height:normal;}",".desc.jsx-2141687848{margin:8px 0 20px;font-size:15px;font-weight:300;line-height:1.8;}"]))}}])&&mS(n.prototype,r),o&&mS(n,o),t}(),OS=Object(Ne.a)(wS),ES=function(e){var t=e.title,n=e.desc,r=e.value,o=e.couponColor;return f.a.createElement("div",{className:P.a.dynamic([["3588513834",[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]]])+" coupon-row"},f.a.createElement("div",{className:P.a.dynamic([["3588513834",[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]]])+" left-section"},f.a.createElement("div",{className:P.a.dynamic([["3588513834",[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]]])+" title"},t),f.a.createElement("div",{className:P.a.dynamic([["3588513834",[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]]])+" description"},n)),f.a.createElement("div",{className:P.a.dynamic([["3588513834",[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]]])+" right-section"},r),f.a.createElement(P.a,{id:"3588513834",dynamic:[Object(mi.a)(o,.2),Object(mi.a)(o,.06),Object(mi.a)(o,.2),L.a.lighterFont,o]},[".coupon-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;height:72px;padding:1px;border-radius:4px;border:solid 1px ".concat(Object(mi.a)(o,.2),";background-color:").concat(Object(mi.a)(o,.06),";margin-bottom:12px;width:100%;}"),"@media (min-width:450px){.coupon-row.__jsx-style-dynamic-selector{width:70%;}}",".left-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:67%;height:100%;padding:0 10px 0 17px;border-right:solid 1px ".concat(Object(mi.a)(o,.2),";overflow:hidden;}"),".title.__jsx-style-dynamic-selector{font-size:15px;font-weight:normal;}",".description.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;color:".concat(L.a.lighterFont,";margin-top:3px;}"),".right-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:33%;color:".concat(o,";font-size:16px;font-weight:normal;}")]))},jS=function(e){var t=e.children,n=e.style;return f.a.createElement("h1",{style:n,className:"jsx-4072986468"},t,f.a.createElement(P.a,{id:"4072986468"},["h1.jsx-4072986468{font-size:20px;font-weight:400;margin-bottom:8px;}"]))};function kS(e){return(kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SS(e,t){return!t||"object"!==kS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CS(e){return(CS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PS(e,t){return(PS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var IS={onLoadSettings:Ko.b},TS={fontSize:13,fontWeight:400},NS={borderTop:"1px solid ".concat(L.a.lightGray),padding:"18px 0"},RS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SS(this,CS(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PS(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldLoad,n=e.onLoadSettings;t&&n()}},{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.prelockCouponNum,r=n>=1;if(!t.id)return f.a.createElement(Dm,{type:"login"});return f.a.createElement("div",{className:"jsx-454641749 coupon-page"},f.a.createElement(ue.a,{title:"预定券"}),f.a.createElement(jS,null,"可用的预定券"),r?f.a.createElement(function(){return f.a.createElement("section",{className:"jsx-854066457 coupon-section"},f.a.createElement(ES,{title:"预定券",desc:"可用来预定暂时无货的书",value:"".concat(n," 张"),couponColor:L.a.primary}),f.a.createElement(ma.a,{withArrow:!0,colored:!0,to:"/cart/wishlist",style:TS},"去使用预定券"),f.a.createElement(P.a,{id:"854066457"},[".coupon-section.jsx-854066457{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))},{className:"jsx-454641749"}):f.a.createElement(fe.a,{lighter:!0},"目前没有预定券"),f.a.createElement(jS,{style:{marginTop:"45px"}},"获得下一张预定券的进度"),f.a.createElement(Si,null),f.a.createElement(Ny,{to:"/support/reserve",text:"预定功能 & 得券方式说明",style:NS}),f.a.createElement(G,null),f.a.createElement(P.a,{id:"454641749"},[".coupon-page.jsx-454641749{box-sizing:border-box;padding:25px 20px;min-height:100vh;background:#fff;}"]))}}])&&_S(n.prototype,r),o&&_S(n,o),t}(),LS=Object(a.b)(function(e,t){var n=t.history,r=e.session,o=e.settings.prelockCouponNum;return{currentUser:Object(R.d)(r),prelockCouponNum:o,shouldLoad:"POP"!==n.action}},IS)(RS);function AS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var FS=[["什么是多抓鱼 free 计划？","暂时不在多抓鱼付费收购范围里的书，多抓鱼会以 0 元收 0 元卖的方式让这部分书也能流通起来。购买 free 书只需支付每本 3 元的服务费，运费跟其他书的规则一样。"],["free 和付费的书有何不同？","free 书籍为卖家免费提供给多抓鱼，多抓鱼仅提供盗版鉴定和消毒，不提供翻新，所以品相无法保证，但不影响阅读。free 书籍因为仅收取服务费，所以售出不予退换，也不参与书的各种优惠。"],["为什么有些书有 free 和付费书同时在卖？","一本书是否是 free 收购取决于动态的供需关系，当暂时没有需求或库房出现积压了会调整为 free 收，当库房不够了会重新付费收购。多抓鱼会保证 free 收购的书以 free 的方式销售。"],["哪里可以看到 free 计划里的书籍？",f.a.createElement(ma.a,{colored:!0,withArrow:!0,to:"/categories/".concat("266177513393362452")},"点击查看")]],BS=Object(Ne.a)(function(){return f.a.createElement("div",{className:"jsx-2249566596 free-page"},FS.map(function(e){var t=AS(e,2),n=t[0],r=t[1];return f.a.createElement("div",{key:n,className:"jsx-2249566596 rule-section"},f.a.createElement("h2",{className:"jsx-2249566596 title"},n),f.a.createElement("div",{className:"jsx-2249566596 desc"},r))}),f.a.createElement(P.a,{id:"2249566596"},[".free-page.jsx-2249566596{box-sizing:border-box;min-height:100vh;padding:23px 15px;background-color:#fff;}",".rule-section.jsx-2249566596{margin-top:24px;}",".rule-section.jsx-2249566596:first-child{margin-top:0px;}",".title.jsx-2249566596{font-size:20px;font-weight:normal;line-height:normal;}",".desc.jsx-2249566596{margin-top:10px;font-size:15px;font-weight:300;line-height:1.8;}"]))});function DS(){return(DS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var MS=function(e){return f.a.createElement("svg",DS({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",transform:"translate(1 1)"},f.a.createElement("path",{d:"M10 0L0 10M0 0L10 10"})))};function US(){return(US=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var zS=function(e){return f.a.createElement("svg",US({xmlns:"http://www.w3.org/2000/svg",width:"38",height:"25",viewBox:"0 0 38 25"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(-33 27.334 11.769)"},f.a.createElement("path",{d:"M21.7590293,5.57064497 C22.9227422,3.65177433 21.7585979,1.43868877 19.510967,1.86192967 C17.5471474,2.23159576 16.9463127,4.70943011 17.4483742,6.43677085 C17.6674869,7.19083611 18.015997,7.85828879 18.460261,8.44359344 C19.7434508,7.691314 21.0309538,6.77116687 21.7590293,5.57064497 Z"}),f.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M38.9847778,5.58738451 C38.1983516,4.81542258 36.4126551,4.91688044 35.391881,4.76645814 C34.1626512,4.58559849 32.550302,4.20094089 31.4430736,4.87497393 C31.2065314,5.01922053 31.1547466,5.39152674 31.3140506,5.60547048 C31.9490722,6.45683421 33.2182376,6.59755184 34.193371,6.83002266 C34.74896,6.96235899 35.3093764,7.0691103 35.869354,7.18115506 C36.0115426,7.20982793 36.2046384,7.23056062 36.4117774,7.25482228 C36.1563644,7.48420525 35.8996349,7.71447047 35.6293009,7.93414878 C34.7423772,8.6536173 33.7834814,9.30956438 32.7890385,9.86978818 C31.0647816,10.8411368 29.1750767,11.4891437 27.1997954,11.6514763 C24.9770004,11.8341004 22.3315891,11.3272523 20.3317319,10.0246217 C21.9853334,8.96284319 23.5300991,7.61565934 24.1475665,5.77574322 C24.890985,3.56087417 24.1177245,1.09191935 21.8229575,0.261729437 C19.6703791,-0.517290431 17.4028211,0.509198376 16.2938373,2.45939477 C14.8868717,4.93320192 15.4279786,7.37348386 16.8792684,9.34750079 C14.9891247,10.3157616 12.9519649,11.0219965 10.8230847,11.1684487 C6.36081831,11.475469 2.30141981,8.74757609 1.32672532,4.31872022 C1.15688886,3.54675829 0.0882796338,3.81054871 0.026840089,4.50752005 C-0.441417013,9.83185176 5.31020209,13.4741887 10.0160324,13.4803644 C12.9532815,13.4838934 15.8027598,12.5447465 18.3740047,11.1618319 C18.421401,11.1362469 18.4701137,11.1097796 18.5179488,11.0837535 C19.8191506,12.1843506 21.382787,13.0110116 22.8928833,13.4274299 C25.7322679,14.2104198 28.7858133,13.9153098 31.5207508,12.8791163 C32.973796,12.3285972 34.3939272,11.5650166 35.6306175,10.6205763 C35.9843337,10.3506102 36.3525321,10.0709394 36.7159031,9.77803499 C36.5544049,11.0793422 36.5070087,12.3665336 37.0911232,13.522712 C37.3632126,14.0613209 38.0175438,13.8372314 38.2957772,13.4618373 C39.170413,12.2818384 39.1805066,10.7515893 39.2915366,9.30294756 C39.3727246,8.24513916 39.8528308,6.43963048 38.9847778,5.58738451 Z M17.5467652,6.45815757 C17.0359392,4.75146002 17.6472627,2.3032379 19.6453645,1.93798963 C21.9322321,1.52024794 23.1166987,3.70644413 21.9326709,5.60238263 C21.1918856,6.78855727 19.8819067,7.69770787 18.5763164,8.4405558 C18.123858,7.86268716 17.7697029,7.20321111 17.5467652,6.45815757 Z"})))};function GS(e){return(GS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WS(e){return(WS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KS(e,t){return(KS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qS={hideCloseMiniProgramGuide:Te.b,hideMPCloseGuide:_.a},YS={position:"absolute",right:20,top:5},QS={position:"absolute",left:15,top:"50%",transform:"translateY(-50%)"},ZS=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=WS(t).call(this,e))||"object"!==GS(o)&&"function"!=typeof o?VS(r):o).handleClose=n.handleClose.bind(VS(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KS(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.hideMPCloseGuide()}},{key:"handleClose",value:function(){this.props.hideCloseMiniProgramGuide()}},{key:"render",value:function(){return this.props.showGuide&&Object(v.b)()?f.a.createElement("div",{onClick:this.handleClose,className:P.a.dynamic([["2527992188",[L.a.primary]]])+" root"},f.a.createElement(MS,{style:QS,width:10,height:10,stroke:"#fff"}),f.a.createElement("img",{src:"https://asset.duozhuayu.com/close_mp_guide.png",alt:"",className:P.a.dynamic([["2527992188",[L.a.primary]]])+" hint"}),f.a.createElement(zS,{width:40,style:YS}),f.a.createElement(P.a,{id:"2527992188",dynamic:[L.a.primary]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:50px;padding:0 15px;position:fixed;top:0;left:0;right:0;z-index:100;background-color:".concat(L.a.primary,";}"),".hint.__jsx-style-dynamic-selector{width:202px;height:24px;}"])):null}}])&&HS(n.prototype,r),o&&HS(n,o),t}(),XS=Object(a.b)(function(e){var t=e.session.user,n=e.miniProgram.showCloseGuide,r=t.showTips,o=(void 0===r?{}:r).closeMiniProgramGuide;return{showGuide:(void 0===o||o)&&n}},qS)(ZS),JS=n("78eS");function $S(){return($S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tC(e,t,n[t])})}return e}function tC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rC=function(e){var t=e.style,n=nC(e,["style"]);return f.a.createElement("svg",$S({width:"48.5",viewBox:"0 0 97 83",style:eC({fill:"rgb(214, 186, 140)",fillRule:"evenodd"},t)},n),f.a.createElement("path",{d:"M95.9184,51.7857C96.9388,51.3776 97.3469,50.1531 96.9388,49.1327C96.5306,48.1122 95.3061,47.7041 94.2857,48.1122C94.2857,48.1122 93.8776,48.3163 93.8776,48.3163C92.449,47.0918 91.6327,45.2551 91.6327,43.4184C91.6327,42.398 91.8367,41.3776 92.2449,40.5612C92.2449,40.5612 95.9184,38.9286 95.9184,38.9286C96.9388,38.5204 97.3469,37.2959 96.9388,36.2755C96.5306,35.2551 95.3061,34.8469 94.2857,35.2551C94.2857,35.2551 93.8776,35.4592 93.8776,35.4592C92.449,34.2347 91.6327,32.398 91.6327,30.5612C91.6327,29.5408 91.8367,28.5204 92.2449,27.7041C92.2449,27.7041 95.9184,26.0714 95.9184,26.0714C96.5306,25.6633 97.1429,25.051 97.1429,24.2347C97.1429,23.4184 96.7347,22.8061 95.9184,22.398C95.9184,22.398 45.7143,0.153061 45.7143,0.153061C45.102,-0.0510204 44.6939,-0.0510204 44.0816,0.153061C44.0816,0.153061 5.5102,17.7041 5.5102,17.7041C5.5102,17.7041 5.5102,17.7041 5.30612,17.7041C2.04082,19.1327 0,22.398 0,26.0714C0,28.5204 1.02041,30.7653 2.65306,32.602C1.02041,34.2347 0,36.4796 0,39.1327C0,41.5816 1.02041,44.0306 2.65306,45.6633C1.02041,47.2959 0,49.5408 0,52.1939C0,55.8673 2.04082,58.9286 5.30612,60.5612L55.3061,82.8061L55.3061,82.8061C55.3061,82.8061 55.3061,82.8061 55.3061,82.8061C55.3061,82.8061 55.3061,82.8061 55.3061,82.8061C55.5102,82.8061 55.7143,83.0102 56.1224,83.0102C56.1224,83.0102 56.3265,83.0102 56.3265,83.0102C56.5306,83.0102 56.7347,83.0102 56.7347,82.8061C56.7347,82.8061 56.9388,82.8061 56.9388,82.8061C56.9388,82.8061 95.7143,65.2551 95.7143,65.2551C96.7347,64.8469 97.1429,63.6224 96.7347,62.602C96.3265,61.5816 95.102,61.1735 94.0816,61.5816C94.0816,61.5816 93.6735,61.7857 93.6735,61.7857C92.2449,60.5612 91.4286,58.7245 91.4286,56.8878C91.4286,55.8673 91.6327,54.8469 92.0408,54.0306C92.0408,54.0306 95.9184,51.7857 95.9184,51.7857ZM3.87755,38.9286C3.87755,37.0918 4.69388,35.6633 6.12245,34.6429C6.12245,34.6429 52.2449,55.2551 52.2449,55.2551C50.8163,56.8878 50,58.9286 50,61.1735C50,61.7857 50,62.1939 50.2041,62.8061C50.2041,62.8061 6.93878,43.6224 6.93878,43.6224C6.93878,43.6224 6.93878,43.6224 6.93878,43.6224C5.10204,42.602 3.87755,40.9694 3.87755,38.9286ZM92.449,49.1327C92.449,49.1327 56.3265,65.4592 56.3265,65.4592C54.898,64.4388 53.8776,63.0102 53.8776,61.1735C53.8776,59.1327 54.898,57.5 56.7347,56.6837C56.7347,56.6837 56.7347,56.6837 56.9388,56.6837C56.9388,56.6837 57.1429,56.6837 57.1429,56.6837C57.1429,56.6837 90.6122,41.5816 90.6122,41.5816C90.4082,42.1939 90.4082,43.0102 90.4082,43.6224C90.2041,45.6633 91.0204,47.7041 92.449,49.1327ZM92.449,36.2755C92.449,36.2755 56.3265,52.602 56.3265,52.602C54.898,51.5816 53.8776,50.1531 53.8776,48.3163C53.8776,46.2755 54.898,44.6429 56.7347,43.6224C56.7347,43.6224 56.7347,43.6224 56.9388,43.6224C56.9388,43.6224 90.4082,28.3163 90.4082,28.3163C90.2041,28.9286 90.2041,29.7449 90.2041,30.5612C90.2041,32.8061 91.0204,34.8469 92.449,36.2755ZM44.898,4.03061L90.2041,24.2347L56.3265,39.7449L11.0204,19.5408L44.898,4.03061ZM6.12245,21.7857C6.12245,21.7857 52.2449,42.398 52.2449,42.398C50.8163,44.0306 50,46.0714 50,48.5204C50,49.1327 50,49.5408 50.2041,50.1531C50.2041,50.1531 6.93878,30.9694 6.93878,30.9694C6.93878,30.9694 6.73469,30.9694 6.73469,30.9694C4.89796,30.1531 3.87755,28.3163 3.87755,26.4796C3.87755,24.2347 4.69388,22.602 6.12245,21.7857ZM6.93878,56.4796C5.10204,55.6633 3.87755,53.8265 3.87755,51.7857C3.87755,49.949 4.69388,48.5204 6.12245,47.5C6.12245,47.5 52.2449,68.1122 52.2449,68.1122C50.8163,69.7449 50,71.7857 50,74.2347C50,74.8469 50,75.2551 50.2041,75.8673C50.2041,75.8673 6.93878,56.4796 6.93878,56.4796ZM92.449,61.9898C92.449,61.9898 56.3265,78.3163 56.3265,78.3163C54.898,77.5 54.0816,75.8673 54.0816,74.2347C54.0816,72.1939 55.102,70.5612 56.9388,69.5408C56.9388,69.5408 56.9388,69.5408 57.1429,69.5408C57.1429,69.5408 90.6122,54.2347 90.6122,54.2347C90.4082,54.8469 90.4082,55.6633 90.4082,56.4796C90.2041,58.7245 91.0204,60.5612 92.449,61.9898Z"}))};function oC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){aC(e,t,n[t])})}return e}function aC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iC=function(e){var t=e.style;return f.a.createElement(At.a,{alignCenter:!0,even:!0,style:oC({borderRadius:"50%",width:"99px",height:"99px",background:"rgb(250, 244, 217)"},t)},f.a.createElement(rC,null))},cC=function(e){var t=e.number,n=e.style;return t?f.a.createElement(At.a,{column:!0,alignCenter:!0,component:ma.a,to:"/open-collections",style:oC({display:"block",width:L.d.ocEnlistedForHome.width,minWidth:L.d.ocEnlistedForHome.width,height:L.d.ocEnlistedForHome.height,marginRight:"15px",background:L.a.lightBeige,border:"1px solid ".concat(L.a.beige),borderRadius:"5px",color:"#333"},n)},f.a.createElement(iC,{style:{marginTop:"24px"}}),f.a.createElement(fe.a,{style:{fontSize:"18px",fontWeight:"500",marginTop:"16px"}},"看全部书单",f.a.createElement(so,{width:"7",style:{marginLeft:"7px"}})),f.a.createElement(fe.a,null,f.a.createElement(fe.a,{stylizedNumber:!0},t)," 个")):null};function lC(){return(lC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uC(e,t,n[t])})}return e}function uC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pC=function(e){var t=e.contributorsCount,n=e.itemsCount,r=e.style,o=fC(e,["contributorsCount","itemsCount","style"]);return f.a.createElement(fe.a,lC({style:sC({verticalAlign:"middle",fontSize:"12px"},r)},o),f.a.createElement(fe.a,{padEnd:!0},t),"人推荐了",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},n),"本书")};function dC(e){return(dC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yC(e,t){return!t||"object"!==dC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bC(e){return(bC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hC(e,t){return(hC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yC(this,bC(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hC(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.style,n=e.maskColor,r=e.image,o=e.id,a=e.name,i=e.contributors,c=e.itemsCount,l=e.contributorsCount,s=e.type,p="item"===s?"/item/list":"/open-collections/".concat(o),d=[n?"linear-gradient( to top, ".concat(Object(mi.a)(n,.3)," 35%, ").concat(n," 69%)"):"url()","url(".concat(r,")")].join(",");return f.a.createElement("div",{style:t,className:P.a.dynamic([["1869693703",[L.d.gap,d]]])+" open-collection-card"},f.a.createElement(ma.a,{className:"inner",to:p,style:{display:"block",boxSizing:"border-box",width:"100%",height:"100%",padding:L.d.gap,position:"relative"}},f.a.createElement(ih.a,{style:{fontSize:"18px",fontWeight:"600"}},a),"item"!==s&&f.a.createElement(u.Fragment,null,f.a.createElement(pC,{itemsCount:c,contributorsCount:l}),f.a.createElement(sr,{limit:3,userIds:i,style:{position:"absolute",bottom:"16px",right:"16px"}}))),f.a.createElement(P.a,{id:"1869693703",dynamic:[L.d.gap,d]},[".open-collection-card.__jsx-style-dynamic-selector{width:165px;width:calc((100% - (15px * 2)));height:229px;margin-left:15px;margin-top:".concat(L.d.gap,";border-radius:5px;background:").concat(d,";background-position:top,center;background-repeat:no-repeat,no-repeat;background-size:auto,cover;color:#eee;}"),"@media (min-width:360px){.open-collection-card.__jsx-style-dynamic-selector{width:calc((100% - (15px * 3)) / 2);}}","@media (min-width:480px){.open-collection-card.__jsx-style-dynamic-selector{width:calc((100% - (15px * 4)) / 3);}}"]))}}])&&mC(n.prototype,r),o&&mC(n,o),t}(),vC=Object(a.b)(function(e,t){var n=t.collectionId,r=Object(JS.g)(e.entities,n);return{maskColor:r.maskColor,image:r.image,id:r.id,name:r.name,contributors:r.contributors,itemsCount:r.itemsCount,contributorsCount:r.contributorsCount,type:r.type}})(gC);function xC(e){return(xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function EC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jC(e){return(jC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _C(e,t){return(_C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var SC={loader:FO.d},CC={width:L.d.ocEnlistedForHome.width,minWidth:L.d.ocEnlistedForHome.width,marginLeft:0,marginTop:0,marginRight:"10.5px",fontSize:"13px",height:L.d.ocEnlistedForHome.height},PC=function(){return null},IC=function(e){return e.querySelector(".HorizontalScroll-content")},TC=function(e){return e?e.querySelectorAll(".open-collection-card"):[]},NC=function(e){return f.a.createElement(vC,{key:e,collectionId:e,style:CC})},RC=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=jC(t).call(this,e))||"object"!==xC(o)&&"function"!=typeof o?kC(r):o).renderContainer=n.renderContainer.bind(kC(n)),n.getTrackItemData=n.getTrackItemData.bind(kC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_C(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"getTrackItemData",value:function(e){var t=this.props.homeCollectionIds;return e.map(function(e){var n=e.index;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wC(e,t,n[t])})}return e}({},OC(e,["index"]),{index:n,objectType:"open_collection",objectId:t[n]})})}},{key:"renderContainer",value:function(e){var t=e.children,n=this.props.totalOCCount;return f.a.createElement("div",{className:"HorizontalScroll",style:{maxHeight:"calc(100% - 35px)"}},f.a.createElement(At.a,{className:"HorizontalScroll-content",style:{marginBottom:"-35px",height:"100%"}},f.a.createElement(At.a,{style:{margin:"0 15px",whiteSpace:"initial",flexWrap:"nowrap"}},t,f.a.createElement(cC,{number:n}))))}},{key:"render",value:function(){var e=this.props,t=e.homeCollectionIds,n=e.loadStatus,r=e.loader,o=!["initial","failed","loading"].includes(n);return f.a.createElement(iE,{useContainer:!0,module:"home_open_collection",direction:"row",active:o,getScrollContainer:IC,getTrackDOMItems:TC,getTrackItemData:this.getTrackItemData},f.a.createElement(Ut.a,{loader:r,loadStatus:n,infiniteScrolling:!1,items:t,renderItem:NC,renderDrainedList:PC,contentContainer:this.renderContainer}))}}])&&EC(n.prototype,r),o&&EC(n,o),t}(),LC=Object(a.b)(function(e){return{totalOCCount:Object(JS.b)(e.homeOpenCollections),homeCollectionIds:Object(JS.d)(e),loadStatus:Object(JS.e)(e.homeOpenCollections)}},SC)(RC),AC=n("8tvR");function FC(){return(FC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var BC=function(e){return f.a.createElement("svg",FC({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#AAA",strokeLinecap:"round",strokeWidth:"1.5",transform:"translate(1 1)"},f.a.createElement("path",{d:"M13.0909091 9.40909091L4.90909091 9.40909091M0 6.54545455L0 3.27272727C0 1.46524991 1.46892776 0 3.27272727 0L6.54545455 0"}),f.a.createElement("path",{d:"M0,18 L0,14.7272727 C0,12.9197954 1.46892776,11.4545455 3.27272727,11.4545455 L6.54545455,11.4545455",transform:"matrix(1 0 0 -1 0 29.455)"}),f.a.createElement("path",{d:"M11.4545455,6.54545455 L11.4545455,3.27272727 C11.4545455,1.46524991 12.9234732,0 14.7272727,0 L18,0",transform:"matrix(-1 0 0 1 29.455 0)"}),f.a.createElement("path",{d:"M11.4545455,18 L11.4545455,14.7272727 C11.4545455,12.9197954 12.9234732,11.4545455 14.7272727,11.4545455 L18,11.4545455",transform:"rotate(180 14.727 14.727)"})))};function DC(e){return(DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){UC(e,t,n[t])})}return e}function UC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GC(e){return(GC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WC(e,t){return(WC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var VC={onScan:AC.k},KC={width:24,height:24,borderRadius:0},qC=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=GC(t).call(this,e))||"object"!==DC(o)&&"function"!=typeof o?HC(r):o).handleScanClick=n.handleScanClick.bind(HC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WC(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleScanClick",value:function(e){e.stopPropagation(),e.preventDefault(),(0,this.props.onScan)(),Object(_l.a)("search","scan")}},{key:"render",value:function(){var e=this.props.style;return O.m||Object(v.b)()?f.a.createElement(D.a,{icon:!0,style:MC({},KC,e),onClick:this.handleScanClick},f.a.createElement(BC,null)):null}}])&&zC(n.prototype,r),o&&zC(n,o),t}(),YC=Object(a.b)(null,VC)(qC);n("vF1L");function QC(){return(QC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ZC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var XC=function(e){var t=e.showIcon,n=e.className,r=ZC(e,["showIcon","className"]),o=t?{paddingLeft:36}:null,a=f.a.createElement(it,QC({type:"search",placeholder:"搜索多抓鱼",className:N()("SearchInput",n),style:o},r));return t?f.a.createElement("span",{className:"SearchInput-wrapper"},f.a.createElement("div",{className:"SearchInput-button"},f.a.createElement(Ym,null)),a):a};function JC(e){return(JC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(e,t){return(nP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rP={closeWechatFollowMPBanner:Te.a,showWechatFollowMPGuide:_.h},oP=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=eP(t).call(this,e))||"object"!==JC(o)&&"function"!=typeof o?tP(r):o).handleBannerClick=n.handleBannerClick.bind(tP(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nP(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleBannerClick",value:function(){this.props.closeWechatFollowMPBanner(),this.props.showWechatFollowMPGuide("home")}},{key:"render",value:function(){var e=this.props,t=e.showWechatFollowBanner,n=e.showCloseGuideBanner;return t&&Object(v.b)()&&!n?f.a.createElement("div",{onClick:this.handleBannerClick,className:P.a.dynamic([["4168263084",[L.a.primary]]])+" banner"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/miniprogram/follow_guide_banner.png",alt:"关注公众号",className:P.a.dynamic([["4168263084",[L.a.primary]]])+" content"}),f.a.createElement(P.a,{id:"4168263084",dynamic:[L.a.primary]},[".banner.__jsx-style-dynamic-selector{box-sizing:border-box;width:100%;max-width:600px;height:50px;padding:0 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:".concat(L.a.primary,";overflow:hidden;}"),".content.__jsx-style-dynamic-selector{width:100%;}"])):null}}])&&$C(n.prototype,r),o&&$C(n,o),t}(),aP=Object(a.b)(function(e){var t=e.session.user,n=void 0===t?{}:t,r=e.miniProgram.showCloseGuide,o=n.showTips,a=void 0===o?{}:o,i=n.isWechatSubscribed,c=a.wechatFollowMPBanner,l=void 0===c||c,s=a.closeMiniProgramGuide;return{showWechatFollowBanner:!i&&l,showCloseGuideBanner:(void 0===s||s)&&r}},rP)(oP);function iP(e){return(iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lP(e){return(lP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uP(e,t){return(uP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fP=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=lP(t).call(this,e))||"object"!==iP(o)&&"function"!=typeof o?sP(r):o).navDom=null,n.refNavDom=n.refNavDom.bind(sP(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uP(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.alignActiveNavItem()}},{key:"componentDidUpdate",value:function(e){e.activeId!==this.props.activeId&&this.alignActiveNavItem()}},{key:"refNavDom",value:function(e){this.navDom=e}},{key:"alignActiveNavItem",value:function(){var e=(0,this.props.getActiveItemDom)();this.navDom.scrollLeft=e?e.offsetLeft-this.navDom.offsetWidth/2+e.offsetWidth/2:0}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderContent,r=t.renderSubPanel,o=t.listStyle,a=t.scrollStyle;return f.a.createElement(Ld,null,function(t){var i={sticky:t.sticky,resetSticky:t.resetSticky,forceSticky:t.forceSticky};return f.a.createElement("div",{className:"jsx-579419527 scroll-navigation"},f.a.createElement(nd,{style:a,listStyle:o,domRef:e.refNavDom},n(i)),r(i),f.a.createElement(P.a,{id:"579419527"},[".scroll-navigation.jsx-579419527{padding:0;background-color:#fff;}"]))})}}])&&cP(n.prototype,r),o&&cP(n,o),t}();function pP(){return(pP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dP=function(e){return f.a.createElement("svg",pP({width:"20px",height:"8px",viewBox:"0 0 40 16",version:"1.1"},e),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},f.a.createElement("path",{d:"M20,0 C20,12.2462435 36.2572674,16.0350903 40,15.9997556 L0,15.9997556 C3.73342115,15.9997556 20,12.2404655 20,0 Z",id:"Triangle-Copy",transform:"translate(20.000000, 8.000000) scale(1, -1) translate(-20.000000, -8.000000) "})))};function mP(e){return(mP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bP(e){return(bP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gP(e,t){return(gP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xP={paddingTop:16},wP={height:66,paddingLeft:15,overflow:"hidden"},OP={width:34,height:14,position:"absolute",right:0,top:-7,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundImage:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAAAqCAMAAAB2m95HAAABiVBMVEUAAAD////yg4PygoLygYHygYH1hYXzgoLyhITygoL3uLj98vL2rq786Oj////61tb5yMjyhYXzjY3yiIj3tLT1np7zkJD4xMT1o6PyiYnyg4P0mZn2ra31n5/yh4f86en74OD5zs772dn3tbX1pKT99PT+/f386+v3srL1p6f2qqr3s7P72trzkZH0mJj74eH73t70nZ32r6/zi4v4w8P++Pj3urr3trb++/v1paX98fH2qKj+/v75y8v84uL85+f60dH++fn+9fX4vLz0lpb5zc3+/Pz609P2rKz+9/f73d32qan5x8f1oaH97u7zkpL2sbH5ycn5ysr97e3619f4vr70lJT1oqL2sLD++vr61dX1oKD0l5f4u7v85ub0lZXzjo7+9vb97Ozyhob4wcH0m5v98/P61NT5xsb60tL4wsLzk5P729v3t7f86urzjIz4wMDzj4/85eX85OT97+/4vb398PD84+P739/4v7/0mpr2q6vzlJT0nJz60NDyior3ubn5zMzziooS5QYJAAAACHRSTlMAAWXI8/8ZvZRXj2sAAAMuSURBVHgBvM1HAcAwDASwO9vZkz/aFkB+GSIgABQ1d42pED8f3GXBAwzuukCIe0Cg7gGFuZNicisGd1Qu1a2mw03rfcyvHbvwjd0IgwBeGulOuUyYmZmZmZmZmZk5f3k9sjfl1i6cqD/BTpL3duRvfRjhpSbSB4mKjomN+5pIPH4pAYmAD0YSLckpLmtS09IzMrOyISkkcyDIzc3Ji47OTy5ISoBaC4sCxSWlQFl5WkWgsgpANcmagiiXNVW01NZBsknWN9g1/NJY7EeqQnYTfM0KLbqGVv3jWrisiaSlrT1KuUm5JlGxgz/pBBBCsrUL3ZSeABDRqxTjtiaW0tev3E/xKw7wJ5kAyhUGMUThMDCidRRua8YoA+nK44o1+HXNBIBJhSnUUjgNzGiNc10zS1sFgCx7L1PTkZ7W2EEWzwGYp2VBbdIGLGpdcl2zTFsGgBWFVpizWVVIXUtZ/7roqEUKN4BNkr0+1zVJtHVsAdvOQIAI+yiUIiHQPcDuctoiIppJtsJ1zQ4dWcCE1h4AWFfaCB3d7eAiBHu0ZLfRtqb/xn33NTF0pAEHWg8B4IiGfg9zOPlTJHUdBQFahtzXLNGIx7GWE2eUxikEZ9q9OoekBld7TsuF+5o5Gq241NLvPO0Yl7BdkdyrJ69vSB60a6hwX9NAuaUuZ5SWEedpx2iGTQ8U3V7HKbS67kjee6gpoFQ2axq7issAUKh0/FDUFHMUBdsjbS2+ej2ESGZ4qBmidO/ROVyeAUClUgF+YZeULgzS9uCh5onyPJtrZuQHgGhqw5cL/WC8klKEWtqiPdQEKGPOJuZczU65t+mvdd0QXaE8oZQmua+Zp6yjpJeUTUgXDbmFXJCSDeTYqcFDTT7lDWgh5Q7yTvnVPT1KeQEySInxUJNF2QLWeynFkBMaUgtIn32MQAUp3a5rzIY66g+G1DD31Sm34mZI8y+mU0t5BLDZnDmavnfhtsaMp1epZNzX3Z+wDtkpfIs+A3zdT+dhoYFPQEZ4cH8/v6ZJByBeakKLRu9b8Ge2/M5aARdUEwR/q+b/mh8QBD8E6WNUkD4UBukjbrA+sAfn64cfAYDqw/WBCFJXAAAAAElFTkSuQmCC")'},EP=function(e){var t=e.children,n=e.isActive,r=(e.id,e.themeColor),o=(e.style,e.domRef),a=e.sticky,i=e.onClick,c=vP(e,["children","isActive","id","themeColor","style","domRef","sticky","onClick"]);return f.a.createElement("div",{ref:n?o:Dt.a,onClick:i,className:P.a.dynamic([["3692490114",[L.a.gray,L.a.lighterFont,r]]])+" "+(N()("root",{isActive:n})||"")},f.a.createElement(wd.a,c,t),n&&!a&&f.a.createElement("span",{className:P.a.dynamic([["3692490114",[L.a.gray,L.a.lighterFont,r]]])+" icon"},f.a.createElement(dP,{fill:r,style:{verticalAlign:"top"}})),f.a.createElement(P.a,{id:"3692490114",dynamic:[L.a.gray,L.a.lighterFont,r]},[".root.__jsx-style-dynamic-selector{position:relative;display:inline-block;padding:0 15px;margin-right:10px;height:36px;border-radius:5px;background-color:".concat(L.a.gray,";color:").concat(L.a.lighterFont,";vertical-align:middle;line-height:36px;font-weight:400;}"),".root.isActive.__jsx-style-dynamic-selector{color:#fff;background-color:".concat(r,";}"),".icon.__jsx-style-dynamic-selector{position:absolute;height:0;bottom:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}"]))},jP=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=bP(t).call(this,e))||"object"!==mP(o)&&"function"!=typeof o?hP(r):o).saveActiveItemDom=n.saveActiveItemDom.bind(hP(n)),n.getActiveItemDom=n.getActiveItemDom.bind(hP(n)),n.renderNavContent=n.renderNavContent.bind(hP(n)),n.renderSubPanel=n.renderSubPanel.bind(hP(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gP(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.hideContribFeedHint()}},{key:"componentDidUpdate",value:function(e){e.activeId!==this.props.activeId&&this.hideContribFeedHint()}},{key:"saveActiveItemDom",value:function(e){this.activeItemDom=e}},{key:"getActiveItemDom",value:function(){return this.activeItemDom}},{key:"hideContribFeedHint",value:function(){var e=this.props,t=e.categories,n=e.showHint,r=e.hideHint,o=e.activeId;if(n){var a=t.findIndex(function(e){return"oc_contribution"===e.type}),i=(t[a]||{}).id;(0===a||o&&o===i)&&r()}}},{key:"renderSubPanel",value:function(e){var t=e.resetSticky,n=e.forceSticky,r=this.props,o=r.categories,a=r.activeId,i=a?o.find(function(e){return e.id===a}):o[0];return Object(Pw.h)(i)?f.a.createElement(tk,{category:i,resetSticky:t,forceSticky:n}):null}},{key:"renderNavContent",value:function(e){var t=this,n=e.sticky,r=e.resetSticky,o=this.props,a=o.activeId,i=o.categories,c=o.showHint;return f.a.createElement(u.Fragment,null,f.a.createElement(EP,{exact:!0,key:"all",to:"/categories",sticky:n},"全部分类"),i.map(function(e,o){var i=e.id,l=e.name,s=e.type,u=e.parentCategory.themeColor,p="/categories/subscribed/".concat(i),d=a?e.id===a:0===o,m="free"===s;return f.a.createElement(EP,{replace:!0,exact:!0,key:i,id:i,to:p,isActive:d,domRef:t.saveActiveItemDom,sticky:n,onClick:r,themeColor:m?L.a.primary:u},m?f.a.createElement($i,{fill:d?"#fff":L.a.lighterFont}):l,c&&"oc_contribution"===s&&0!==o&&!d&&f.a.createElement("span",{style:OP}))}))}},{key:"render",value:function(){var e=this.props.activeId;return f.a.createElement("div",{className:"jsx-2315873705 Home-nav"},f.a.createElement(fP,{listStyle:xP,scrollStyle:wP,activeId:e,getActiveItemDom:this.getActiveItemDom,renderSubPanel:this.renderSubPanel,renderContent:this.renderNavContent}),f.a.createElement(P.a,{id:"2315873705"},[".Home-nav.jsx-2315873705{padding:0;background-color:#fff;}"]))}}])&&yP(n.prototype,r),o&&yP(n,o),t}();n("UqP4");function kP(e){return(kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SP(e,t){return!t||"object"!==kP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CP(e){return(CP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PP(e,t){return(PP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var IP={onHideHint:Te.c},TP={position:"absolute",top:6,right:26},NP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SP(this,CP(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PP(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activeId,n=e.categories,r=e.activeCategoryType,o=e.showHint,a=e.onHideHint;return f.a.createElement("div",{className:"Home"},f.a.createElement(ue.a,null),f.a.createElement(Fc.a,null),f.a.createElement(aP,null),f.a.createElement(XS,null),f.a.createElement("section",{className:"Home-section",style:{background:"#fff"}},f.a.createElement(M.a,{className:"Home-sectionContent",to:"/search"},f.a.createElement(XC,{showIcon:!0,readOnly:!0}),f.a.createElement(YC,{style:TP}))),f.a.createElement(LC,null),f.a.createElement("div",{style:{minHeight:"100vh"}},f.a.createElement(jP,{categories:n,activeId:t,showHint:o,hideHint:a}),"oc_contribution"===r?f.a.createElement(RE,null):f.a.createElement(Ij,null)))}}])&&_P(n.prototype,r),o&&_P(n,o),t}(),RP=Object(a.b)(function(e,t){var n=t.match.params.id,r=Object(R.i)(e),o=n||r[0].id,a=r.find(function(e){return e.id===o}),i=a?a.type:"category";return{activeId:o,activeCategoryType:i,categories:r,showHint:e.session.user.showTips.contributionsGuide}},IP)(Object(Ne.a)(NP));function LP(e){return(LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function FP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BP(e,t){return!t||"object"!==LP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DP(e){return(DP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MP(e,t){return(MP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var UP=[["new","未使用","在多抓鱼收到时从未被使用过，可能有轻微的存放痕迹。"],["fine","品相良好","物品整体状态良好、成色较新，可能会有几处不明显的瑕疵或轻微使用痕迹。"],["medium","品相中等","有明显的使用痕迹或瑕疵（划痕、磕碰、磨损、污渍、附件缺失等），但不影响正常使用，具体的瑕疵会在品相描述中说明。"]],zP=function(e){var t=e.title,n=e.desc;return f.a.createElement("div",{className:"jsx-1505289455 condition-section"},f.a.createElement("h2",{className:"jsx-1505289455 condition-title"},t),f.a.createElement("p",{className:"jsx-1505289455"},n),f.a.createElement(P.a,{id:"1505289455"},[".condition-section.jsx-1505289455{margin-bottom:28px;font-size:15px;line-height:1.67;}",".condition-title.jsx-1505289455{font-weight:500;}"]))},GP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BP(this,DP(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MP(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:P.a.dynamic([["1937834316",[L.a.lighterFont]]])+" condition-rules"},f.a.createElement("h1",{className:P.a.dynamic([["1937834316",[L.a.lighterFont]]])+" title"},"多抓鱼百货品相分级细则"),UP.map(function(e){var t=AP(e,3),n=t[0],r=t[1],o=t[2];return f.a.createElement(zP,{key:n,title:r,desc:o})}),f.a.createElement("div",{className:P.a.dynamic([["1937834316",[L.a.lighterFont]]])+" hint"},"* 品相分级是针对物品主体的状态进行的，配件的状态不作为考量因素。"),f.a.createElement(P.a,{id:"1937834316",dynamic:[L.a.lighterFont]},[".condition-rules.__jsx-style-dynamic-selector{box-sizing:border-box;padding:15px;background-color:#fff;min-height:100vh;}",".title.__jsx-style-dynamic-selector{font-size:20px;font-weight:normal;margin-bottom:25px;}",".hint.__jsx-style-dynamic-selector{font-size:13px;color:".concat(L.a.lighterFont,";}")]))}}])&&FP(n.prototype,r),o&&FP(n,o),t}(),HP=Object(Ne.a)(GP);function WP(e){return(WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KP(e,t){return!t||"object"!==WP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qP(e){return(qP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YP(e,t){return(YP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KP(this,qP(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YP(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.loadData()}},{key:"loadData",value:function(){var e=this.props,t=e.loadStatus,n=e.loader,r=e.forceReload,o=e.pushReload,a=e.history.action;("initial"===t||r||o&&"push"===a)&&n()}},{key:"render",value:function(){return null}}])&&VP(n.prototype,r),o&&VP(n,o),t}(),ZP=Object(Bt.a)(QP);function XP(e){return(XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $P(e,t){return!t||"object"!==XP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tI(e,t){return(tI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nI={position:"relative",display:"inline-block",padding:"0 15px",marginRight:10,height:36,borderRadius:5,backgroundColor:L.a.gray,color:L.a.lighterFont,verticalAlign:"middle",lineHeight:"36px",fontWeight:400},rI={color:"#fff",backgroundColor:L.a.primary},oI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$P(this,eI(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tI(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.category,n=e.isActive,r=e.getRef,o=e.onClick,a=t.id,i=t.name;return f.a.createElement(wd.a,{to:"/item-categories/".concat(a,"/list"),isActive:function(){return n},style:nI,innerRef:r,activeStyle:rI,onClick:o},i)}}])&&JP(n.prototype,r),o&&JP(n,o),t}(),aI=Object(a.b)(function(e,t){var n=t.categoryId;return{category:Object(Pe.m)(e.entities,n)}})(oI);function iI(e){return(iI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lI(e,t){return!t||"object"!==iI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sI(e){return(sI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uI(e,t){return(uI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fI(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var pI={selectFilter:function(e,t){return{type:Uo.Lf,payload:t,itemCategoryId:e}},clearList:function(e){return{id:e,type:Uo.mb}}},dI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lI(this,sI(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uI(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.categoryId,r=t.filter,o=t.resetSticky;n&&n!==e.categoryId&&(this.clearFilter(e.categoryId),this.tryClearList(e)),r!==e.filter&&o()}},{key:"tryClearList",value:function(e){var t=e||this.props;t.filter&&t.clearList(t.categoryId)}},{key:"clearFilter",value:function(e){var t=this.props,n=t.selectFilter,r=t.categoryId;n(e||r,"")}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.filter,r=e.selectFilter,o=e.forceSticky,a=e.onChange,i=t.id,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{value:"",title:"全部"}].concat(fI(e.map(function(e){return{value:e.id,title:e.name}})))}(t.subCategories);return 1===c.length?null:f.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},f.a.createElement(Jj,{style:{flexGrow:1},options:c,selectedValue:n,onSelect:function(e){e!==n&&(r(i,e),a&&a())},onActiveChange:function(e){e&&o()}}))}}])&&cI(n.prototype,r),o&&cI(n,o),t}(),mI=Object(a.b)(function(e,t){var n=e.entities,r=e.itemList.filterMap,o=t.categoryId;return{category:Object(Pe.m)(n,o),filter:r[o]||""}},pI)(dI);function yI(e){return(yI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hI(e){return(hI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vI(e,t){return(vI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xI={height:100,margin:"0 15px",paddingTop:14,overflowY:"hidden"},wI={height:66},OI=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=hI(t).call(this,e))||"object"!==yI(o)&&"function"!=typeof o?gI(r):o).activeItemDom=null,n.setActiveItemDom=n.setActiveItemDom.bind(gI(n)),n.getActiveItemDom=n.getActiveItemDom.bind(gI(n)),n.renderNavContent=n.renderNavContent.bind(gI(n)),n.renderSubPanel=n.renderSubPanel.bind(gI(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vI(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"setActiveItemDom",value:function(e){this.activeItemDom=e}},{key:"getActiveItemDom",value:function(){return this.activeItemDom}},{key:"renderNavContent",value:function(e){var t=this,n=e.resetSticky,r=this.props,o=r.categoryIds,a=r.activeId;return o.map(function(e){var r=e===a;return f.a.createElement(aI,{getRef:r?t.setActiveItemDom:Dt.a,key:e,categoryId:e,isActive:r,onClick:n})})}},{key:"renderSubPanel",value:function(e){var t=e.resetSticky,n=e.forceSticky,r=this.props.activeId;return f.a.createElement(mI,{categoryId:r,resetSticky:t,forceSticky:n})}},{key:"render",value:function(){var e=this.props.activeId;return f.a.createElement(fP,{listStyle:xI,scrollStyle:wI,activeId:e,getActiveItemDom:this.getActiveItemDom,renderSubPanel:this.renderSubPanel,renderContent:this.renderNavContent})}}])&&bI(n.prototype,r),o&&bI(n,o),t}();function EI(e){return(EI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kI(e,t){return!t||"object"!==EI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _I(e){return(_I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SI(e,t){return(SI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CI={onLoadCategories:Zw,onLoadItems:Xw},PI={backgroundImage:"url(https://asset.duozhuayu.com/market/dejavu_bazaar.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",marginBottom:8},II=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kI(this,_I(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SI(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.filter,r=t.activeId,o=t.onLoadItems;n!==e.filter&&o(!0,{id:r})}},{key:"render",value:function(){var e=this.props,t=e.activeId,n=e.categoryIds,r=e.categoryLoadStatus,o=e.onLoadCategories,a=n.length?f.a.createElement(u.Fragment,null,f.a.createElement(OI,{activeId:t,categoryIds:n}),f.a.createElement("div",{className:"jsx-3423317377 list-wrap"},f.a.createElement(AO,{categoryId:t})),f.a.createElement(P.a,{id:"3423317377"},[".list-wrap.jsx-3423317377{min-height:100vh;}"])):f.a.createElement("div",{className:"jsx-1569455983 spinner-wrap"},f.a.createElement(q.a,null),f.a.createElement(P.a,{id:"1569455983"},[".spinner-wrap.jsx-1569455983{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]));return f.a.createElement("div",{className:"jsx-1814161322 item-list-page"},f.a.createElement(ue.a,null),f.a.createElement(Bc.a,{title:"多抓鱼二手商店",desc:"真正的好东西值得被买上两次"}),f.a.createElement(ZP,{loadStatus:r,loader:o}),f.a.createElement(gr.a,{ratio:.4,style:PI}),a,f.a.createElement(G,null),f.a.createElement(P.a,{id:"1814161322"},[".item-list-page.jsx-1814161322{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;background-color:#fff;}"]))}}])&&jI(n.prototype,r),o&&jI(n,o),t}(),TI=Object(a.b)(function(e,t){var n=t.match.params.id,r=Object(Qw.c)(e),o=n||r[0]||"",a=e.itemList.filterMap;return{filter:(void 0===a?{}:a)[o],activeId:o,categoryIds:r,categoryLoadStatus:Object(Qw.b)(e)}},CI)(Object(Ne.a)(II)),NI=[{id:"xiaodu",title:"消毒",desc:"所有商品都会进行消毒、翻新和包装。"},{id:"jianding",title:"鉴定",desc:"专职审核团队检测商品的可用性和正盗版。"},{id:"shouhou",title:"售后",desc:"包装完整且未使用的商品，签收 7 日内可无忧退货。往返运费由买家承担。"}].map(function(e){var t=e.id,n=e.title,r=e.desc;return f.a.createElement("div",{key:t,className:"jsx-84282823 intro-item"},f.a.createElement("p",{className:"jsx-84282823 title"},n),f.a.createElement("p",{className:"jsx-84282823"},r),f.a.createElement(P.a,{id:"84282823"},[".intro-item.jsx-84282823{margin-bottom:20px;}",".title.jsx-84282823{font-size:17px;font-weight:400;margin-bottom:5px;}"]))}),RI=function(){return f.a.createElement("div",{className:"jsx-1152570061 item-service"},f.a.createElement("div",{className:"jsx-1152570061 image-wrap"},f.a.createElement("img",{alt:"",src:"https://asset.duozhuayu.com/item/item_service.png",className:"jsx-1152570061"})),f.a.createElement(mm.a,{items:NI}),f.a.createElement(P.a,{id:"1152570061"},[".item-service.jsx-1152570061{box-sizing:border-box;min-height:100vh;padding:15px 15px 50px;background:#fff;}",".image-wrap.jsx-1152570061{margin:0 auto 20px;width:50vw;}","@media (min-width:450px){.image-wrap.jsx-1152570061{width:185px;}}","img.jsx-1152570061{width:100%;}"]))},LI=function(e){return"https://asset.duozhuayu.com/license/".concat(e,".png")},AI=Object(Ne.a)(function(){return f.a.createElement("div",{className:"jsx-1016004996 license-page"},f.a.createElement("img",{alt:"营业执照",src:LI("business_license"),className:"jsx-1016004996"}),f.a.createElement("img",{alt:"经营许可",src:LI("publish_license"),className:"jsx-1016004996"}),f.a.createElement(P.a,{id:"1016004996"},["img.jsx-1016004996{width:100%;}"]))});var FI=Object(a.b)(function(e){return{currentUser:e.session.user}})(function(e){var t=e.match.params.type,n=t?"/".concat(t):"/";return e.currentUser.id?f.a.createElement(xd.a,{to:"/users/".concat(e.currentUser.id).concat(n)}):f.a.createElement(Dm,{type:"login"})}),BI=n("TgTV"),DI=function(e){return e?null:"MESSAGE_MIN_LEN"};function MI(){return(MI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var UI=function(e){return f.a.createElement("svg",MI({width:"100",viewBox:"0 0 199 147"},e),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(8, 8)"},f.a.createElement("rect",{fill:"#B99A72",x:"13",y:"11",width:"178",height:"128",rx:"20"}),f.a.createElement("rect",{stroke:"#3C3C3C",strokeWidth:"8",x:"-4",y:"-4",width:"180.35023",height:"128.378378",rx:"20"}),f.a.createElement("polyline",{stroke:"#3C3C3C",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",points:"18.9585253 20.7567568 87.2473522 73.7567568 154.253456 21.7522975"}),f.a.createElement("path",{d:"M64.8339844,56.9863281 L27.6843423,94.1359702",stroke:"#3C3C3C",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),f.a.createElement("path",{d:"M148.567001,57 L111.417359,94.1496421",stroke:"#3C3C3C",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(130.000000, 76.000000) scale(-1, 1) translate(-130.000000, -76.000000)"})))};function zI(){return(zI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GI=function(e){return f.a.createElement("svg",zI({width:"20",viewBox:"0 0 43 35"},e),f.a.createElement("g",{strokeWidth:"1",fillRule:"evenodd",transform:"translate(-139, -24)"},f.a.createElement("path",{d:"M140,35 C140,29.4771525 144.477153,25 150,25 C155.522847,25 160,29.4771525 160,35 C160,29.4771525 164.477153,25 170,25 C175.522847,25 180,29.4771525 180,35 C180,37.8936972 178.770915,40.5003261 176.806315,42.3263169 L162.171308,56.2767013 C160.972128,57.419784 159.023779,57.4158815 157.828692,56.2767013 L143.193685,42.3263169 C141.229085,40.5003261 140,37.8936972 140,35 Z"})))};n("TmfU");function HI(e){return(HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VI(e,t){return!t||"object"!==HI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KI(e){return(KI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qI(e,t){return(qI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var YI=function(e){switch(e.gender){case"male":return"他";case"female":return"她";default:return" ".concat(e.name," ")}},QI=function(e){return f.a.createElement(M.a,{className:"Message-user",to:"/users/".concat(e.user.id)},f.a.createElement("span",{className:"Message-userImage Message-userImage--small",style:{backgroundImage:"url('".concat(e.user.avatar,"')")}}),f.a.createElement("span",{className:"Message-userName"},e.user.name))},ZI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VI(this,KI(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qI(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r()}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.message;if(!n)return"loading"===t?f.a.createElement("div",{className:"Message Message--empty"},f.a.createElement(ue.a,null),f.a.createElement(q.a,null)):"notFound"===t?f.a.createElement(gc.a,null):null;var r=this.props,o=r.currentUser,a=r.message,i=a.book,c=a.seller,l=a.buyer,s=r.content,u=r.updateStatus,p=r.onEdit,d=r.onUpdate,m=r.onLike;if(n.isLiked||l.id===o.id){var y=f.a.createElement("div",{className:"Message-bottomBook"},f.a.createElement("div",{className:"Message-bottomBookInner"},f.a.createElement("div",{className:"Message-bottomImage"},f.a.createElement(Ga.a,{little:!0,inStock:!0,shadowed:!0,fixHeight:!0,alt:i.title,images:i.images,style:{backgroundColor:L.a.gray}})),f.a.createElement("div",{className:"Message-bottomMain"},f.a.createElement("div",{className:"Message-bottomTitle"},i.title),f.a.createElement("div",{className:"Message-bottomAuthor"},i.rawAuthor))));return n.isArrived?f.a.createElement("div",{className:"Message"},f.a.createElement(ue.a,{title:"鱼邮"}),f.a.createElement("div",{className:"Message-main"},f.a.createElement("div",{className:"Message-header"},f.a.createElement("div",{className:"Message-user"},f.a.createElement(QI,{user:c}),l.id===o.id?f.a.createElement("span",null,"发给你的鱼邮"):f.a.createElement("span",null,"的鱼邮")),f.a.createElement("div",{className:"Message-content"},n.content)),l.id===o.id?f.a.createElement("div",{className:"Message-likeWrapper"},f.a.createElement(D.a,{emphasis:!n.isLiked,className:N()("Message-likeButton",n.isLiked&&"is-liked"),onClick:n.isLiked?null:m},f.a.createElement(GI,{className:N()("Message-likeIcon",{"Message-likeIcon--inverse":!n.isLiked})}),"美味")):f.a.createElement("div",{className:"Message-likeWrapper"},f.a.createElement(GI,{className:"Message-likeIcon Message-likeIcon--large"}),f.a.createElement("div",{className:"Message-likeStatus"},f.a.createElement(QI,{user:l}),f.a.createElement("span",null,"觉得你的鱼邮很美味"))),y,f.a.createElement(G,null))):f.a.createElement("div",{className:"Message"},f.a.createElement(ue.a,{title:"鱼邮"}),f.a.createElement("div",{className:"Message-main"},f.a.createElement("div",{className:"Message-header Message-header--center"},f.a.createElement(UI,{className:"Message-envelope"}),f.a.createElement("div",null,"《".concat(i.title,"》曾经的主人 ").concat(c.name," 刚刚给你发送了一封鱼邮，收到快递后即可查看。"))),y))}return f.a.createElement("div",{className:"Message"},f.a.createElement(ue.a,{title:"鱼邮"}),f.a.createElement("div",{className:"Message-main"},f.a.createElement("div",{className:"Message-header"},f.a.createElement("div",{className:"Message-book"},f.a.createElement("div",{className:"Message-bookImage"},f.a.createElement("img",{className:"Message-bookImg",alt:i.title,src:i.images.small})),f.a.createElement("div",{className:"Message-bookTitle"},i.title))),f.a.createElement("div",{className:"Message-buyer"},f.a.createElement(M.a,{to:"/users/".concat(l.id),className:"Message-buyerInner"},f.a.createElement("div",{className:"Message-userImage",style:{backgroundImage:"url('".concat(l.avatar,"')")}}),f.a.createElement("div",{className:"Message-buyerName"},l.name))),f.a.createElement("div",{className:"Message-editor"},f.a.createElement("div",{className:"Message-seller"},f.a.createElement("div",{className:"Message-sellerImage",style:{backgroundImage:"url('".concat(c.avatar,"')")}})),n.content?f.a.createElement(it,{type:"disabled",className:"Message-input"},n.content):f.a.createElement(it,{type:"textarea",onChange:p,className:"Message-input",value:s,placeholder:"你有什么想对".concat(YI(l),"说的？（鱼邮仅对方可见）")})),Boolean(n.content)||f.a.createElement("div",{className:"Message-actions"},f.a.createElement(D.a,{primary:!0,onClick:d,className:"Message-button",disabled:u},"发送")),f.a.createElement(G,null)))}}])&&WI(n.prototype,r),o&&WI(n,o),t}(),XI=Object(a.b)(function(e,t){var n=t.match.params.id;return{id:n,currentUser:e.session.user,shouldLoad:"POP"!==t.history.action,message:BI.c(e.entities,n),loadStatus:BI.d(e.entities,n),updateStatus:BI.f(e.entities,n),content:BI.e(e.entities,"content",n)}},function(e,t){var n=t.match.params.id;return{onLoad:function(){return e(function(e){return{id:e,fetch:{from:"/messages/".concat(e),types:[Uo.pd,Uo.qd,Uo.od],schema:Ve.a.message}}}(n))},onEdit:function(t){return e(function(e,t){return{type:Uo.Gb,id:e,attrs:{content:t}}}(n,t))},onUpdate:function(){return e(function(e){return function(t,n){var r=n().entities,o=BI.f(r,e),a=BI.e(r,"content",e);if(!o){var i=DI(a);t(i?Object(We.d)(i):{id:e,attrs:{isArrived:!0,content:a},fetch:{from:"PATCH /messages/".concat(e),types:[Uo.Of,Uo.Pf,Uo.Nf],body:{content:a}}})}}}(n))},onLike:function(){return e(function(e){return function(t,n){var r=n().entities;BI.f(r,e)||t({id:e,attrs:{isLiked:!0},fetch:{from:"PUT /messages/".concat(e,"/like"),types:[Uo.Of,Uo.Pf,Uo.Nf]}})}}(n))}}})(ZI),JI=n("t6DB");function $I(){return($I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var eT=function(e){return f.a.createElement("svg",$I({viewBox:"0 0 46 46"},e),f.a.createElement("path",{d:"M19,45 L7.00532266,45 C3.67643992,45 1,42.3124666 1,38.9972261 L1,7.00277388 C1,3.68616253 3.68867454,1 7.00532266,1 L19,1 L38.9944332,1 C42.3074511,1 44.9946773,3.68753341 44.9946773,7.00277388 L44.9946773,38.9972261 C44.9946773,42.3138375 42.3082765,45 38.9944332,45 L19,45 Z M6.99467734,4.00001841 C5.33892147,4.00574691 4,5.34742752 4,7.00277388 L4,38.9972261 C4,40.6569606 5.33248781,41.994294 6.99467734,41.9999818 L6.99467734,4.00001709 Z M9.99467734,42 L38.9944332,42 C40.6517185,42 41.9946773,40.6566869 41.9946773,38.9972261 L41.9946773,7.00277388 C41.9946773,5.34445361 40.6506626,4 38.9944332,4 L9.99467734,4 L9.99467734,42 Z M15.9946773,11.0085302 C15.9946773,9.8992496 16.8928897,9 17.9854725,9 L34.0038822,9 C35.103368,9 35.9946773,9.90195036 35.9946773,11.0085302 L35.9946773,18.9914698 C35.9946773,20.1007504 35.096465,21 34.0038822,21 L17.9854725,21 C16.8859867,21 15.9946773,20.0980496 15.9946773,18.9914698 L15.9946773,11.0085302 Z M18.9946773,18 L32.9946773,18 L32.9946773,12 L18.9946773,12 L18.9946773,18 Z"}))};function tT(){return(tT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nT=function(e){return f.a.createElement("svg",tT({viewBox:"0 0 46 46"},e),f.a.createElement("path",{d:"M11.6315789,12.2340426 C11.6315789,6.02965217 16.7213944,1 23,1 C29.2786056,1 34.3684211,6.02965217 34.3684211,12.2340426 C34.3684211,14.606682 33.624088,16.807528 32.3535828,18.6209987 C31.9895904,19.1405475 30.4160066,20.7629038 30.0271608,21.0654554 C30.5085498,21.1734693 32.4831837,21.786603 33.2739699,22.1670846 C37.8735453,24.3077079 41,28.5097261 41,33.3461158 L41,41.0382649 C41,43.2262708 39.2147544,45 36.9924916,45 L9.0075084,45 C6.79422262,45 5,43.2300258 5,41.0382649 L5,33.3461158 C5,28.510965 8.12452331,24.3075795 12.7255583,22.1666081 C13.2504333,21.9223712 15.4911714,21.1731971 15.9725564,21.0652353 C15.5837584,20.7627014 14.2475509,19.4541476 13.6461576,18.6206281 C12.3758106,16.8072282 11.6315789,14.6065204 11.6315789,12.2340426 Z M16.6375368,23.9605999 C11.5267967,25.1068021 8.00451128,28.9924967 8.00451128,33.3461158 L8.00451128,41.0382649 C8.00451128,41.5888298 8.45208633,42.031003 9.0075084,42.031003 L36.9924916,42.031003 C37.5509942,42.031003 37.9954887,41.5909045 37.9954887,41.0382649 L37.9954887,33.3461158 C37.9954887,28.9928112 34.4721141,25.1073846 29.3618806,23.9607527 L23.2204185,22.5827343 L28.1684742,18.732771 C30.1738544,17.1724329 31.3639098,14.8031405 31.3639098,12.2340426 C31.3639098,7.66938392 27.6192598,3.96899696 23,3.96899696 C18.3807402,3.96899696 14.6360902,7.66938392 14.6360902,12.2340426 C14.6360902,14.8030485 15.8260593,17.1722646 17.8313174,18.7326089 L22.779701,22.583077 L16.6375368,23.9605999 Z"}))};n("fwFw");function rT(){return(rT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var aT=function(e){var t=e.isLoggined,n=oT(e,["isLoggined"]);return O.f?f.a.createElement(wd.a,rT({className:"Nav-link",activeClassName:"is-active"},n,{onClick:function(n){n.preventDefault(),function(e,t){!t&&e.startsWith("/users")?Object(Jr.e)():Object(Jr.f)({forward:{path:e,fullscreen:e.startsWith("/users"),presentMethod:"none",isHomePage:!["/sell","/cart"].includes(e),rightButton:e.startsWith("/users")?"profile":""}})}(e.to,t)}})):f.a.createElement(wd.a,rT({className:"Nav-link",activeClassName:"is-active"},n))},iT=function(e,t){return!!e||!!t.pathname.startsWith("/categories/")},cT=[{path:"/tags/:id",validater:function(e,t){var n=t.params.id,r=Object(Pe.z)(e.entities,n);return r&&"itemTag"===r.type}},{path:"/categories/:id",validater:function(e,t){var n=t.params.id,r=Object(Pe.g)(e.entities,n);return r&&"itemCategory"===r.type}}],lT={onHideSellBookTip:Te.h},sT=Object(a.b)(function(e,t){var n=(t.location||{}).pathname;return{hideNav:cT.some(function(t){var r=t.path,o=t.validater,a=Object(Vc.a)(n,r);return!!a&&o(e,a)}),currentUser:e.session.user,cartCount:e.cart.inStockCount}},lT)(function(e){var t=e.hideNav,n=e.currentUser,r=n.id,o=n.showTips,a=n.hasNewNotification,i=e.cartCount,c=e.onHideSellBookTip;return t?null:f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav"},f.a.createElement(Xe.a,null,f.a.createElement("ul",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-items"},f.a.createElement("li",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-item"},f.a.createElement(aT,{exact:!0,to:"/",isActive:iT},f.a.createElement(Qc,{className:"Nav-svg"}),f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-text"},"首页"))),f.a.createElement("li",{onClick:o.sellBook?c:Dt.a,className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-item"},f.a.createElement(aT,{to:"/sell"},f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" inner Nav-link"},o.sellBook&&f.a.createElement("span",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" meta-tip"}),f.a.createElement(eT,{className:"Nav-svg"}),f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-text"},"卖书")))),f.a.createElement("li",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-item"},f.a.createElement(aT,{to:"/cart"},f.a.createElement(qc,{className:"Nav-svg"}),f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-text"},"购物车")),Boolean(i)&&f.a.createElement(nl,{className:"Nav-cartCount",count:i})),f.a.createElement("li",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-item"},f.a.createElement(aT,{to:"/users/".concat(r||JI.a).concat(O.f?"/activities":""),isLoggined:Boolean(r)},f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" inner Nav-link"},a&&f.a.createElement("span",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" meta-tip"}),f.a.createElement(nT,{className:"Nav-svg"}),f.a.createElement("div",{className:P.a.dynamic([["1380598853",[L.a.emphasis]]])+" Nav-text"},"我的")))))),f.a.createElement(P.a,{id:"1380598853",dynamic:[L.a.emphasis]},[".inner.__jsx-style-dynamic-selector{position:relative;}",".meta-tip.__jsx-style-dynamic-selector{position:absolute;top:2px;right:-4px;width:8px;height:8px;background-color:".concat(L.a.emphasis,";border-radius:50%;}")]))}),uT=n("ISue"),fT=n("e05L");function pT(e){return(pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mT(e,t){return!t||"object"!==pT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yT(e){return(yT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bT(e,t){return(bT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hT=[{type:"login_purchase_freight_free",amount:0,img:"login_coupon_free_freight.png"},{type:"purchase_freight_free",amount:0,img:"landing_coupon_free_freight_no_duration.png"},{type:"purchase_rebate",amount:1500,img:"landing_coupon_purchase_rebate.png"},{type:"full_reduction",amount:1500,img:"landing_coupon_purchase_rebate_no_duration.png"},{type:"full_reduction",amount:1e3,img:"landing_coupon_purchase_rebate_10.png"},{type:"purchase_rebate",amount:500,img:"landing_coupon_purchase_rebate_5.png"}],gT="https://asset.duozhuayu.com/invitation/stage2/",vT=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mT(this,yT(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bT(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e,t,n,r=this.props,o=r.coupon,a=r.upperContent,i=r.bottomContent,c=r.onClose,l=o.type,s=o.amount,u=(e=l,t=s,n=hT.find(function(n){var r=n.type,o=n.amount;return e===r&&t===o}).img,{backgroundImage:"url(".concat(gT).concat(n,")"),backgroundSize:"cover",width:"106%"});return f.a.createElement(ie.a,{noAction:!0,onClose:c},f.a.createElement("div",{className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" root"},f.a.createElement("img",{alt:"",src:"".concat(gT,"logo.png"),className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" logo"}),f.a.createElement("img",{alt:"",src:"".concat(gT,"title.png"),className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" title"}),f.a.createElement("div",{className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" firework-left"},f.a.createElement(uT.a,null)),f.a.createElement("div",{className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" firework-right"},f.a.createElement(fT.a,null)),f.a.createElement("div",{className:P.a.dynamic([["705416423",[L.a.lightPink]]])+" hint"},a),f.a.createElement(gr.a,{style:u,ratio:.425}),i),f.a.createElement(P.a,{id:"705416423",dynamic:[L.a.lightPink]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:23px 22px 16px;position:relative;background:".concat(L.a.lightPink,";}"),".firework-left.__jsx-style-dynamic-selector{position:absolute;left:10px;top:10px;}",".firework-right.__jsx-style-dynamic-selector{position:absolute;right:10px;top:10px;}",".logo.__jsx-style-dynamic-selector{width:50px;height:28px;margin-bottom:9px;}",".title.__jsx-style-dynamic-selector{width:183px;height:32px;}",".activity-hint.__jsx-style-dynamic-selector{margin:17px 0 40px;font-size:15px;font-weight:normal;line-height:1.6;text-align:center;}",".hint.__jsx-style-dynamic-selector{margin:10px 0;line-height:1.5;font-size:15px;font-weight:normal;text-align:center;max-width:92%;}"]))}}])&&dT(n.prototype,r),o&&dT(n,o),t}();function xT(e){return(xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OT(e){return(OT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ET(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(e,t){return(jT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kT={hideCouponModal:Te.e},_T={marginBottom:15,background:L.a.red,borderColor:L.a.red},ST=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=OT(t).call(this,e))||"object"!==xT(o)&&"function"!=typeof o?ET(r):o).state={showTip:!0},n.closeTip=n.closeTip.bind(ET(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jT(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"closeTip",value:function(){this.setState({showTip:!1})}},{key:"renderInvalidInvitationTip",value:function(){return this.props.invalidInvitation&&this.state.showTip?f.a.createElement(ie.a,{confirmLabel:"确定",onClose:this.closeTip},f.a.createElement("div",{className:"jsx-468074338 root"},"由于邀请者有作弊嫌疑，此邀请链接已失效，你不会获得 15 元抵扣券。如有疑问，请在多抓鱼公众号联系客服。"),f.a.createElement(P.a,{id:"468074338"},[".root.jsx-468074338{padding:32px 24px 24px;font-weight:normal;text-align:left;}"])):null}},{key:"renderBottomContent",value:function(){var e=this.props,t=e.coupon,n=e.hideCouponModal,r=t.type,o=t.conditionAmount,a=t.endTime,i="full_reduction"===r&&o>0,c=Object(Mo.b)(o,!0,0);return f.a.createElement(u.Fragment,null,f.a.createElement("div",{className:P.a.dynamic([["3066433539",[L.a.red]]])+" limitation-hint"},i&&f.a.createElement("div",{className:P.a.dynamic([["3066433539",[L.a.red]]])},"买书满 ".concat(c," 可用")),f.a.createElement("div",{className:P.a.dynamic([["3066433539",[L.a.red]]])},"有效期至 ",f.a.createElement(be,{dateOnly:!0,value:a}))),f.a.createElement(D.a,{block:!0,round:!0,emphasis:!0,normal:!0,mega:!0,style:_T,onClick:n},"好的"),f.a.createElement(P.a,{id:"3066433539",dynamic:[L.a.red]},[".limitation-hint.__jsx-style-dynamic-selector{margin:12px 0 15px;line-height:1.5;font-size:15px;font-weight:normal;color:".concat(L.a.red,";}")]))}},{key:"render",value:function(){var e=this.props,t=e.hideCouponModal,n=e.isRecentlyRegistered,r=e.newUserCoupon,o=e.coupon,a=e.location.pathname;if(!n||!r||!o)return null;if("/tarot"===a)return null;var i=f.a.createElement("span",null,"这位新朋友你好，送你一张券",f.a.createElement("br",null),"试试看呗，不是骗子");return f.a.createElement(u.Fragment,null,f.a.createElement(vT,{coupon:o,upperContent:i,bottomContent:this.renderBottomContent(),onClose:t}),this.renderInvalidInvitationTip())}}])&&wT(n.prototype,r),o&&wT(n,o),t}(),CT=Object(a.b)(function(e){var t=e.session.user,n=t.isRecentlyRegistered,r=t.showTips,o=r.newUserCoupon,a=void 0===o||o,i=r.invalidInvitation;return{isRecentlyRegistered:n,newUserCoupon:a,coupon:Object(_e.b)(e)[0],invalidInvitation:i}},kT)(ST),PT=n("pyes"),IT=n("xnu4");function TT(e){return(TT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RT(e,t){return!t||"object"!==TT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LT(e){return(LT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AT(e,t){return(AT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var BT={purchased_books:"买书",sold_books:"卖书"},DT=function(e){return f.a.createElement("span",{className:"jsx-4255030481 name"},e.name,f.a.createElement(P.a,{id:"4255030481"},[".name.jsx-4255030481{margin-right:5px;font-weight:400;}"]))},MT=[["voteOpenCollectionContribution",function(e){var t=e.voteCount,n=e.book,r=e.user;return f.a.createElement(u.Fragment,null,DT(r),f.a.createElement("span",{className:"action"},t>1&&f.a.createElement("span",null,"等",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},t),"人"),"觉得你推荐的《",n.title,"》很有趣"))}],["voteOnActivity",function(e){var t=e.voteCount,n=e.activity.type,r=e.user;return f.a.createElement(u.Fragment,null,DT(r),f.a.createElement("span",null,t>1&&f.a.createElement("span",null,"等",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},t),"人"),"觉得你的 ".concat(BT[n],"动态 很有趣")))}],[function(e){return["commentOnCreatedOpenCollectionContribution","commentOnParticipantOpenCollectionContribution"].includes(e)},function(e,t){var n=e.contribution,r=e.book,o=e.user,a=t.currentUser,i=n.contributor.id===a.id;return f.a.createElement(u.Fragment,null,DT(o),f.a.createElement("span",null,i?"在你推荐的《".concat(r.title,"》下留言了"):"在《".concat(r.title,"》的推荐下留言了")))}],[function(e){return["commentOnActivity","otherUserCommentOnActivity"].includes(e)},function(e,t){var n=e.activity,r=e.user,o=t.currentUser,a=n.type,i=n.item.user,c=i.id===o.id,l=BT[a];return f.a.createElement(u.Fragment,null,DT(r),f.a.createElement("span",null,c?"在你的 ".concat(l,"动态 下留言了"):"在".concat(i.name,"的 ").concat(l,"动态 下留言了")))}],["message",function(e){var t=e.book,n=e.isArrived,r=e.buyer;return f.a.createElement("div",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" message-noti"},f.a.createElement("div",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" content"},DT(r),f.a.createElement("span",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])},"买了你的"),f.a.createElement("span",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" book-title"},"《",t.title,"》")),f.a.createElement("div",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" flag"},n?f.a.createElement("span",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" msg-text"},"已发鱼邮"):f.a.createElement("span",{className:P.a.dynamic([["1760046157",[L.a.lighterFont,L.a.secondary,L.a.secondary]]])+" msg-flag"},"鱼邮")),f.a.createElement(P.a,{id:"1760046157",dynamic:[L.a.lighterFont,L.a.secondary,L.a.secondary]},[".message-noti.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".flag.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-left:6%;font-size:13px;}",".msg-text.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}"),".msg-flag.__jsx-style-dynamic-selector{display:inline-block;width:40px;height:24px;color:".concat(L.a.secondary,";text-align:center;line-height:24px;border:0.5px solid ").concat(L.a.secondary,";border-radius:4px;}")]))}]],UT=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),RT(this,LT(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AT(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.data,r=e.hasRead,o=e.currentUser,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(IT.a)(e)}(t),i=n[a],c=i.user,l=i.buyer,s=function(e,t){var n=t.id,r=t.contribution,o=t.activity;switch(e){case"message":return"/messages/".concat(n);case"commentOnCreatedOpenCollectionContribution":case"voteOpenCollectionContribution":case"commentOnParticipantOpenCollectionContribution":return"/oc-contrib/".concat(r.id,"/comments");case"voteOnActivity":case"commentOnActivity":case"otherUserCommentOnActivity":var a=o.item,i=a.id,c=a.user;return"/users/".concat(c.id,"/activities/").concat(i);default:return""}}(a,i),u=function(e,t,n){var r=MT.find(function(t){var n=FT(t,1)[0];return"function"==typeof n?n(e):e===n});return(r?r[1]:Dt.a)(t,{type:e,currentUser:n})}(a,i,o),p=c||l;return f.a.createElement("div",{className:P.a.dynamic([["1208102658",[L.a.gray,Object(mi.a)(L.a.golden,.1)]]])+" "+(N()("notification",{"notification--new":!r})||"")},f.a.createElement("div",{className:P.a.dynamic([["1208102658",[L.a.gray,Object(mi.a)(L.a.golden,.1)]]])+" wrap"},f.a.createElement("div",{className:P.a.dynamic([["1208102658",[L.a.gray,Object(mi.a)(L.a.golden,.1)]]])+" avatar"},f.a.createElement(M.a,{to:"/users/".concat(p.id),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"70px"}},f.a.createElement(Zt.a,{url:p.avatarSmall}))),f.a.createElement("div",{className:P.a.dynamic([["1208102658",[L.a.gray,Object(mi.a)(L.a.golden,.1)]]])+" detail"},f.a.createElement(M.a,{to:s},u))),f.a.createElement(P.a,{id:"1208102658",dynamic:[L.a.gray,Object(mi.a)(L.a.golden,.1)]},[".notification.__jsx-style-dynamic-selector{background-color:#fff;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".notification--new.__jsx-style-dynamic-selector{background-color:".concat(Object(mi.a)(L.a.golden,.1),";}"),".wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15px;}",".avatar.__jsx-style-dynamic-selector{-webkit-flex:0 0 14%;-ms-flex:0 0 14%;flex:0 0 14%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".detail.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;padding:15px 5% 15px 0;}"]))}}])&&NT(n.prototype,r),o&&NT(n,o),t}(),zT=Object(a.b)(function(e){return{currentUser:Object(R.d)(e.session)}})(UT);function GT(e){return(GT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HT(){return(HT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function WT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VT(e,t){return!t||"object"!==GT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KT(e){return(KT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qT(e,t){return(qT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var YT={onLoad:function(e){return function(t,n){var r=PT.d(n().notifications);return t({isReset:e,fetch:{types:[Uo.vd,Uo.wd,Uo.ud],from:e||!r?"/notifications":r,schema:Ve.a.notifications}}).then(function(){return e?t({fetch:{types:[null,Uo.nd,Uo.md],from:"put /notifications",body:{lastReadAt:Date.now()}}}):null})}}},QT=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VT(this,KT(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qT(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.onLoad,r=e.shouldLoad;("initial"===t||r)&&n(!0)}},{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.loadStatus,r=e.onLoad,o=null;return o="loading"===n||t.length?f.a.createElement(ne,{isLoading:"loading"===n,isDrained:"drained"===n,isErrored:"failed"===n,items:t,onLoad:r,renderItem:function(e){return f.a.createElement(zT,HT({key:e.id},e))}}):f.a.createElement("p",{className:"jsx-1238596648 nocontent"},"还没有消息通知",f.a.createElement(P.a,{id:"1238596648"},[".nocontent.jsx-1238596648{padding-top:20px;text-align:center;}"])),f.a.createElement("div",{className:"jsx-1339109089 root"},f.a.createElement(ue.a,{title:"通知"}),o,f.a.createElement(G,null),f.a.createElement(P.a,{id:"1339109089"},[".root.jsx-1339109089{box-sizing:border-box;min-height:100vh;background-color:#fff;}"]))}}])&&WT(n.prototype,r),o&&WT(n,o),t}(),ZT=Object(a.b)(function(e,t){return{loadStatus:PT.c(e.notifications),notifications:F.x(e),shouldLoad:"POP"!==t.history.action}},YT)(QT),XT=n("2/BI");function JT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $T=function(e){var t=e.text,n=(e.children,JT(e,["text","children"]));return f.a.createElement(ie.a,n,f.a.createElement("div",{className:"jsx-3469953399 wrapper"},f.a.createElement("div",{className:"jsx-3469953399"},"部分书的收购价发生了变化"),Boolean(t)&&f.a.createElement("div",{className:"jsx-3469953399 content"},t),f.a.createElement(P.a,{id:"3469953399"},[".wrapper.jsx-3469953399{padding:36px;}",".content.jsx-3469953399{margin-top:6px;}"])))},eN=function(e){return"https://asset.duozhuayu.com/reserve/".concat(e,".png")},tN=function(e){return e<=3?"-3%":e<97?"".concat(e-6,"%"):"92%"},nN=function(e){return e<=3?"-1%":e<97?"".concat(e-4,"%"):"94%"},rN=function(e){var t=e.rate,n=void 0===t?0:t,r=e.expectedRate,o=void 0===r?0:r,a=n+o,i=a>=100;return f.a.createElement("div",{className:P.a.dynamic([["2398635144",[i?75:98,tN(n),tN(a),nN(n),nN(a)]]])+" progress"},f.a.createElement("div",{className:P.a.dynamic([["2398635144",[i?75:98,tN(n),tN(a),nN(n),nN(a)]]])+" feature"},i?f.a.createElement("img",{alt:"cat",src:eN("catfish"),className:P.a.dynamic([["2398635144",[i?75:98,tN(n),tN(a),nN(n),nN(a)]]])+" final-cat"}):f.a.createElement(u.Fragment,null,f.a.createElement("img",{alt:"cat",src:eN("cat"),className:P.a.dynamic([["2398635144",[i?75:98,tN(n),tN(a),nN(n),nN(a)]]])+" cat"}),f.a.createElement("img",{alt:"cat",src:eN("cat"),className:P.a.dynamic([["2398635144",[i?75:98,tN(n),tN(a),nN(n),nN(a)]]])+" virtual-cat"}))),f.a.createElement(bi,{rate:n,expectedRate:o,height:10,barStyle:{border:"none"}}),f.a.createElement(P.a,{id:"2398635144",dynamic:[i?75:98,tN(n),tN(a),nN(n),nN(a)]},[".progress.__jsx-style-dynamic-selector{width:".concat(i?75:98,"%;margin-left:2px;}"),".feature.__jsx-style-dynamic-selector{position:relative;height:40px;max-height:6vh;}",".cat.__jsx-style-dynamic-selector,.virtual-cat.__jsx-style-dynamic-selector{position:absolute;bottom:0;height:100%;}",".cat.__jsx-style-dynamic-selector{left:".concat(tN(n),";z-index:1;}"),".virtual-cat.__jsx-style-dynamic-selector{left:".concat(tN(a),";opacity:0.5;}"),".final-cat.__jsx-style-dynamic-selector{position:absolute;bottom:-1px;height:135%;left:90%;}","@media (min-width:450px){.cat.__jsx-style-dynamic-selector{left:".concat(nN(n),";}.virtual-cat.__jsx-style-dynamic-selector{left:").concat(nN(a),";}.final-cat.__jsx-style-dynamic-selector{left:95%;}}")]))};function oN(e){return(oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iN(e){return(iN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(e,t){return(lN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sN={margin:"-4px 0 0 5px",zIndex:2},uN={left:"35%",transform:"translateX(-35%)"},fN={border:"none",margin:"15px 0",backgroundColor:"#fff"},pN=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=iN(t).call(this,e))||"object"!==oN(o)&&"function"!=typeof o?cN(r):o).state={showReserveIntro:!1},n.toggleReserveIntro=n.toggleReserveIntro.bind(cN(n)),n.hideReserveIntro=n.hideReserveIntro.bind(cN(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lN(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleReserveIntro",value:function(){this.setState({showReserveIntro:!this.state.showReserveIntro})}},{key:"hideReserveIntro",value:function(){this.setState({showReserveIntro:!1})}},{key:"renderPopover",value:function(){var e=this.state.showReserveIntro;return f.a.createElement(kp,{show:e,content:f.a.createElement("div",{className:"jsx-366797927 popover-content"},f.a.createElement("div",{className:"jsx-366797927 popover-text"},"此预测是根据这单书的综合质量推测得券进度的增加，仅供参考，实际进度可能会不一样。"),f.a.createElement(ma.a,{withArrow:!0,colored:!0,to:"/support/reserve",style:{fontWeight:400},arrowStyle:{verticalAlign:"text-bottom"}},"什么是预定券"),f.a.createElement(P.a,{id:"366797927"},[".popover-content.jsx-366797927{font-size:14px;padding:18px;width:70vw;max-width:280px;}",".popover-text.jsx-366797927{line-height:1.5;margin-bottom:10px;}"])),style:sN,popoverStyle:uN,triangleStyle:uN,onClose:this.hideReserveIntro},f.a.createElement(ae,{size:14,onClick:this.toggleReserveIntro}))}},{key:"render",value:function(){var e=this.props,t=e.currentRate,n=e.expectedRate,r=e.hasStockRemind,o=e.order,a=void 0===o?{}:o,i=a.type,c=a.isCanceled,l=a.status;return"purchase"===i||c||!r?null:"reviewed"===l?f.a.createElement(Ny,{to:"/coupons",text:"我的预定券",style:fN}):n?f.a.createElement("div",{className:"jsx-1740588239 progress-section"},f.a.createElement("div",{className:"jsx-1740588239 title"},f.a.createElement("h3",{className:"jsx-1740588239"},"预定券进度预测"),this.renderPopover()),f.a.createElement(rN,{rate:100*t,expectedRate:n}),f.a.createElement(P.a,{id:"1740588239"},[".progress-section.jsx-1740588239{margin:15px 0;padding:14px 15px 20px;background:#fff;}",".title.jsx-1740588239{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:14px;}"])):null}}])&&aN(n.prototype,r),o&&aN(n,o),t}(),dN=Object(a.b)(function(e,t){var n=t.scene,r=t.order,o=void 0===r?{}:r,a=e.settings,i=a.prelockCouponRate,c=a.hasStockRemind,l=o.userBooks,s=void 0===l?[]:l,u="checkout"===n?Object(F.e)(e):function(e){return e.map(function(e){return e.id})}(s);return{currentRate:i,expectedRate:Object(F.T)(e,u),hasStockRemind:c}})(pN),mN=n("CzD2"),yN=n("yrCo"),bN=n("qLMV");function hN(e){return(hN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vN(e,t){return!t||"object"!==hN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xN(e){return(xN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wN(e,t){return(wN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ON,EN={backgroundImage:"url(https://asset.duozhuayu.com/invitation/stage2/coupon_order_20.png)",backgroundSize:"cover"};ON=Object(Qr.a)("/invitation","invitation");var jN,kN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vN(this,xN(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wN(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){return this.props.isInvitationDisabled?null:f.a.createElement("div",{className:"jsx-1085386532 root"},f.a.createElement("a",{href:Object(bN.b)(ON),className:"jsx-1085386532"},f.a.createElement(gr.a,{style:EN,ratio:.227})),f.a.createElement(P.a,{id:"1085386532"},[".root.jsx-1085386532{padding:0 16px 15px;}"]))}}])&&gN(n.prototype,r),o&&gN(n,o),t}(),_N=Object(a.b)(function(e){return{isInvitationDisabled:Object(_e.h)(e)}})(kN);function SN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CN,PN={INITIAL:"sold",REVIEWED:"pass",SCHEDULED:"waiting",RECEIVED:"delivered",DONE:"reviewed"},IN=[PN.INITIAL,PN.REVIEWED,PN.SCHEDULED,PN.RECEIVED,PN.DONE],TN=(SN(jN={},PN.INITIAL,"已下单"),SN(jN,PN.REVIEWED,"已安排快递"),SN(jN,PN.SCHEDULED,"快递取书"),SN(jN,PN.RECEIVED,"待审核"),SN(jN,PN.DONE,"已完成"),jN);function NN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RN={INITIAL:"unpaid",PAID:"paid",PREPARING:"preparing",SHIPPED:"delivered",DELIVERED:"received"},LN=[RN.INITIAL,RN.PAID,RN.PREPARING,RN.SHIPPED,RN.DELIVERED],AN=(NN(CN={},RN.INITIAL,"待支付"),NN(CN,RN.PAID,"已支付"),NN(CN,RN.PREPARING,"准备发货"),NN(CN,RN.SHIPPED,"已发货"),NN(CN,RN.DELIVERED,"已完成"),CN),FN=function(e,t){return LN.indexOf(e)>=LN.indexOf(t)},BN=function(e,t){return IN.indexOf(e)>=IN.indexOf(t)};function DN(e){return(DN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UN(e){return(UN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GN(e,t){return(GN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HN={onDelete:Zo.a,onAlert:We.c},WN=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=UN(t).call(this,e))||"object"!==DN(o)&&"function"!=typeof o?zN(r):o).state={isModalOpen:!1},n.closeModal=n.closeModal.bind(zN(n)),n.deleteOrder=n.deleteOrder.bind(zN(n)),n.handleButtonClick=n.handleButtonClick.bind(zN(n)),n.actions=[{label:"返回",onClick:n.closeModal},{label:"取消订单",primary:!0,onClick:n.deleteOrder}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GN(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleButtonClick",value:function(e){var t=this.props,n=t.order,r=t.onAlert;BN(n.status,PN.SCHEDULED)?r("CANT_CANCEL_SELL_ORDER"):FN(n.status,RN.PREPARING)?r("CANT_CANCEL_PURCHASE_ORDER"):(e.preventDefault(),this.setState({isModalOpen:!0}))}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"deleteOrder",value:function(){var e=this.props,t=e.order.id,n=e.onDelete;this.closeModal(),n(t)}},{key:"render",value:function(){var e=this.props.order,t=e.status,n=e.isCanceled,r=e.type,o=e.userBooks,a=e.orderItems;if(![PN.INITIAL,PN.REVIEWED,PN.SCHEDULED,RN.INITIAL,RN.PAID,RN.PREPARING,RN.SHIPPED].includes(t)||n)return null;var i="purchase"===r?(o||a).filter(function(e){return e.hasLocked}).length:0,c="确定取消订单么？";return"purchase"===r&&(c="确定取消订单么？".concat(t===RN.PAID?"取消后款项将原路退回。":"","每天取消买书订单不能超过 5 次"),i>0&&(c="取消订单后，除锁定书外的款项将原路退回。每天取消订单不超过5次")),f.a.createElement(D.a,{normal:!0,rightSpace:!0,onClick:this.handleButtonClick},"取消订单",this.state.isModalOpen&&f.a.createElement(ie.a,{actions:this.actions,onClose:this.closeModal},f.a.createElement("div",{className:"jsx-3180686340 hint"},c),f.a.createElement(P.a,{id:"3180686340"},[".hint.jsx-3180686340{padding:36px 24px 32px;font-size:16px;font-weight:300;line-height:1.5;text-align:center;}"])))}}])&&MN(n.prototype,r),o&&MN(n,o),t}(),VN=Object(a.b)(null,HN)(WN);function KN(e){return(KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){YN(e,t,n[t])})}return e}function YN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZN(e){return(ZN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JN(e,t){return(JN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ZN(t).call(this,e))||"object"!==KN(o)&&"function"!=typeof o?XN(r):o).handleClickButton=n.handleClickButton.bind(XN(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JN(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoading,n=e.onWechatPay,r=e.order;this.needPayForOrder()&&t&&r.pay&&"wechat_qrcode"===r.pay.way&&setTimeout(function(){return n(qN({},r.pay,{orders:[r]}))},500)}},{key:"needPayForOrder",value:function(){var e=this.props.order;return"unpaid"===e.status&&!e.isCanceled}},{key:"handleClickButton",value:function(e){e.preventDefault();var t=this.props,n=t.order,r=t.onWechatPay,o=t.onCreatePayment;n.pay?r(qN({},n.pay,{orders:[n]})):"purchase"===n.type&&o({purchaseOrderId:n.id,payWay:Object(k.a)()}).then(function(e){var t=e.pay;r(qN({},t,{orders:[n]}))})}},{key:"render",value:function(){var e=this.props.isLoading;return this.needPayForOrder()?f.a.createElement(D.a,{normal:!0,emphasis:!0,onClick:this.handleClickButton},e?"正在支付...":"微信支付"):null}}])&&QN(n.prototype,r),o&&QN(n,o),t}(),eR=Object(a.b)(function(e){return{isLoading:Object(F.u)(e)}},function(e){return{onWechatPay:function(t){return e(ia(t))},onCreatePayment:function(t){return e((n=t,{fetch:{types:[null,Uo.yb],from:"POST /orders/payments",body:n}}));var n}}})($N);function tR(e){return(tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oR(e){return(oR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iR(e,t){return(iR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cR={onAlert:We.c,onEdit:bk.a},lR=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=oR(t).call(this,e))||"object"!==tR(o)&&"function"!=typeof o?aR(r):o).handleClick=n.handleClick.bind(aR(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iR(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleClick",value:function(){var e=this.props,t=e.order;(0,e.onEdit)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nR(e,t,n[t])})}return e}({},t.address))}},{key:"render",value:function(){var e=this.props.order;return BN(e.status,PN.SCHEDULED)||FN(e.status,RN.PREPARING)||e.isCanceled?null:f.a.createElement(D.a,{normal:!0,component:M.a,to:"./".concat(this.props.id,"/update"),onClick:this.handleClick,rightSpace:!0},"修改订单信息")}}])&&rR(n.prototype,r),o&&rR(n,o),t}(),sR=Object(a.b)(void 0,cR)(lR);function uR(e){return(uR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pR(e){return(pR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(e,t){return(mR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yR={backgroundColor:"#fff"},bR={backgroundColor:"#fff",borderTop:"0.5px solid ".concat(L.a.darkGray),zIndex:10},hR=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pR(t).call(this,e))||"object"!==uR(o)&&"function"!=typeof o?dR(r):o).getRef=n.getRef.bind(dR(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mR(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.handleScroll()}},{key:"getRef",value:function(e){this.el=e}},{key:"handleScroll",value:function(){this.el&&(this.el.scrollLeft=this.el.scrollWidth-this.el.offsetWidth)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.order;return f.a.createElement(Ze.a,{paddingStyle:yR,style:bR},f.a.createElement(Xe.a,null,f.a.createElement("div",{ref:this.getRef,className:"jsx-3364579865 bar"},f.a.createElement("div",{className:"jsx-3364579865 barinner"},f.a.createElement(Oo,null),f.a.createElement(VN,{order:n}),f.a.createElement(sR,{order:n,id:t}),f.a.createElement(eR,{order:n})))),f.a.createElement(P.a,{id:"3364579865"},[".bar.jsx-3364579865{overflow-x:scroll;}",".barinner.jsx-3364579865{height:50px;padding:0 15px;display:inline-block;text-align:right;line-height:45px;min-width:100%;white-space:nowrap;box-sizing:border-box;}"]))}}])&&fR(n.prototype,r),o&&fR(n,o),t}();function gR(e){return(gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xR(e){return(xR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OR(e,t){return(OR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ER={fontWeight:300,marginLeft:"10px",padding:"1px 10px",borderColor:L.a.darkGray};var jR=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=xR(t).call(this,e))||"object"!==gR(o)&&"function"!=typeof o?wR(r):o).state={showCopyToast:!1},n.hideToast=n.hideToast.bind(wR(n)),n.showToast=n.showToast.bind(wR(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OR(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"hideToast",value:function(){this.setState({showCopyToast:!1})}},{key:"showToast",value:function(){this.setState({showCopyToast:!0})}},{key:"render",value:function(){var e,t,n,r,o,a,i,c=this.props.order,l=c.id,s=c.type,u=c.address,p=c.isAnonymous,d=c.address,m=d.name,y=d.phone,b=this.state.showCopyToast;return f.a.createElement(Cc,null,f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" wrapper"},f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" line"},f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" name"},"订单编号"),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])},l),f.a.createElement(ff,{value:l,onSuccess:this.showToast},f.a.createElement(D.a,{tiny:!0,style:ER},"复制"))),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" line"},f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" name"},"sell"===s?"发货人":"收件人"),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])},"".concat(m," ").concat(y||""))),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" line address"},f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" name"},"sell"===s?"取书地址":"收货地址"),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])},(t=(e=u).province,n=e.city,r=e.district,o=e.street,a=e.street2,i=void 0===a?"":a,t===n.slice(0,-1)?"".concat(n).concat(r).concat(o).concat(i):"".concat(t).concat(n).concat(r).concat(o).concat(i)))),p&&f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" line"},f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])+" name"},"隐私设置"),f.a.createElement("div",{className:P.a.dynamic([["3179763629",[L.a.lighterFont]]])},"sell"===s?"匿名卖书":"匿名购买"))),b&&f.a.createElement(df.a,{duration:1e3,value:"订单号复制成功",onHide:this.hideToast}),f.a.createElement(P.a,{id:"3179763629",dynamic:[L.a.lighterFont]},[".wrapper.__jsx-style-dynamic-selector{padding:15px 0;font-size:14px;line-height:20px;}",".line.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10px;}",".line.address.__jsx-style-dynamic-selector{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".line.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".name.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:4em;margin-right:1em;color:".concat(L.a.lighterFont,";text-align:right;}")]))}}])&&vR(n.prototype,r),o&&vR(n,o),t}();function kR(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _R={NOT_ACCEPTABLE:"线上审核拒绝",MISSING:"未收到",ATTACHMENT:"缺失附件",INCOMPLETE_SUIT:"套装书缺册",DIRTY:"污渍过重",WATER_DAMAGED:"污渍过重",MARK_TOO_MUCH:"划线或标注过多",DAMAGED:"严重破损",DEGENERATED:"泛黄或褪色",PRINT:"漏印或错印",MISSING_PAGE:"漏印或错印",DISTORTION:"严重变形",FORBIDDEN:"盗版",NOT_FOR_SALE:"非卖品",SMELLY:"异味过重",LIBRARY_STAMP_OR_TAG:"馆藏类印章或标签"},SR=["ATTACHMENT","INCOMPLETE_SUIT","DIRTY","WATER_DAMAGED","MARK_TOO_MUCH","DAMAGED","DEGENERATED","PRINT","MISSING_PAGE","DISTORTION","FORBIDDEN","NOT_FOR_SALE"],CR=function(e,t,n){var r="blacklist"===e&&("additional_after_reviewed"===n||"additional"===n),o="rejected"===e&&t.includes("MISSING");return r?"多寄不收购":"canceled"===e?"用户未寄出":o?"未收到这本书":""},PR=function(e){var t=e.status,n=e.reasons,r=e.source,o=CR(t,n,r);if(o)return o;var a=kR(new Set(n.map(function(e){return _R[e]})));return"未通过原因：".concat(a.join("、"))};function IR(){return(IR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var TR=function(e){return f.a.createElement("svg",IR({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12",viewBox:"0 0 14 12",className:"Icon"},e),f.a.createElement("g",{fill:"currentColor"},f.a.createElement("circle",{cx:"6.59",cy:"6.59",r:"2.262"}),f.a.createElement("path",{d:"M10.466 1.692h-.453a.213.213 0 0 1-.138-.06L8.46.296A1.098 1.098 0 0 0 7.731 0H5.45a1.01 1.01 0 0 0-.728.295L3.305 1.633a.179.179 0 0 1-.138.059h-.452A2.72 2.72 0 0 0 0 4.407v4.918a2.51 2.51 0 0 0 2.518 2.518h8.144a2.51 2.51 0 0 0 2.518-2.518V4.407c-.02-1.496-1.239-2.715-2.714-2.715zM6.57 10.249a3.644 3.644 0 0 1-3.639-3.64 3.644 3.644 0 0 1 3.64-3.639 3.644 3.644 0 0 1 3.639 3.64 3.644 3.644 0 0 1-3.64 3.64z"})))};function NR(e){return(NR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LR(e,t){return!t||"object"!==NR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AR(e){return(AR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FR(e,t){return(FR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var BR=function(e){var t=e.hasLocked,n=e.price,r=e.acquirePriceFineCondition,o=e.isMedium,a=e.isRejected,i=e.isFree;return t?f.a.createElement(Mo.a,{small:!0,primary:!0,n:n}):o&&n!==r?f.a.createElement("div",{className:"jsx-1453076324 medium-price"},f.a.createElement(fe.a,{price:!0,small:!0,invalid:!0,lighter:!0},r),f.a.createElement(fe.a,{price:!0,padStart:!0},n),f.a.createElement(P.a,{id:"1453076324"},[".medium-price.jsx-1453076324{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"])):i?f.a.createElement(rc,{small:!0,disabled:a}):f.a.createElement(fe.a,{price:!0,invalid:a,lighter:a},n)},DR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LR(this,AR(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FR(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderMeta",value:function(){var e=this.props,t=e.id,n=e.author,r=e.orderType,o=e.source,a=e.reasons,i=e.condition,c=e.flawReasons,l=e.traitDesc,s=e.status,u=e.isSellOrderReviewed,p=e.photos,d=e.isFree,m=e.volumesCount,y=e.withRejectedLink,b=void 0===y||y;if("purchase"===r)return f.a.createElement("span",{className:"jsx-733987126 purchase-info"},d?null:f.a.createElement(Ka,{condition:i,flawReasons:c,traitDesc:l}),m>1&&f.a.createElement(fe.a,{light:!0},"套装 ".concat(m," 册")),f.a.createElement(P.a,{id:"733987126"},[".purchase-info.jsx-733987126{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}"]));if(!u&&!this.isBlacklist)return n;if(this.isRejected){var h=PR({source:o,reasons:a,status:s}),g=function(e){var t=e.status,n=e.reasons,r=e.source;return!CR(t,n,r)&&SR.some(function(e){return n.includes(e)})}({source:o,reasons:a,status:s})&&b,v=Boolean(p&&p.length),x=this.isCanceled||this.isRetrievalOrder?L.a.lighterFont:L.a.emphasis;return f.a.createElement("span",{className:P.a.dynamic([["3985699882",[x]]])+" reject-reason"},"rejected"===s&&g?f.a.createElement("button",{onClick:function(e){e.preventDefault();var n=v?"/userbooks/".concat(t,"/images"):"/support/condition";Object(A.a)().push(n)},className:P.a.dynamic([["3985699882",[x]]])+" condition-link"},h,v?f.a.createElement(TR,{style:{marginLeft:3},fill:x}):f.a.createElement(qn.a,null)):h,f.a.createElement(P.a,{id:"3985699882",dynamic:[x]},[".reject-reason.__jsx-style-dynamic-selector{color:".concat(x,";font-size:12px;}"),".condition-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}return this.isMedium?f.a.createElement("span",{className:P.a.dynamic([["1923915981",[L.a.lightFont]]])+" medium-reason"},"品相中等：",f.a.createElement(Ka,{binary:!0,condition:i,flawReasons:c,traitDesc:l}),f.a.createElement(P.a,{id:"1923915981",dynamic:[L.a.lightFont]},[".medium-reason.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";}")])):f.a.createElement(Ka,{normal:!0,condition:i,flawReasons:c,traitDesc:l})}},{key:"render",value:function(){var e=this.props,t=e.bookId,n=e.type,r=e.title,o=e.images,a=e.price,i=e.acquirePriceFineCondition,c=e.hasLocked,l=e.isFree;return f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" root"},f.a.createElement(ma.a,{to:"book"===n?"/books/".concat(t):null},f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" inner"},f.a.createElement(Ga.a,{fixHeight:!0,mini:!0,images:o}),f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" main"},f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" title"},r),f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" meta"},this.renderMeta())),!this.isRetrievalOrder&&f.a.createElement("div",{className:P.a.dynamic([["652035143",[L.a.gray,L.a.lighterFont]]])+" right"},f.a.createElement(BR,{isFree:l,isMedium:this.isMedium,hasLocked:c,isRejected:this.isRejected,price:a,acquirePriceFineCondition:i})))),f.a.createElement(P.a,{id:"652035143",dynamic:[L.a.gray,L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".root.__jsx-style-dynamic-selector:last-child{border-bottom:none;}",".inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:12px 0;font-size:14px;}",".image.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:65px;height:65px;margin-right:15px;background:rgba(0,0,0,0.1);background-size:cover;background-position:center;}",".img.__jsx-style-dynamic-selector{width:50px;height:71px;margin-right:12px;}",".main.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:8px;overflow:hidden;}",".title.__jsx-style-dynamic-selector{line-height:1.29;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400;}",".meta.__jsx-style-dynamic-selector{margin-top:6px;line-height:1.5;color:".concat(L.a.lighterFont,";font-size:12px;}"),"button.__jsx-style-dynamic-selector{margin:-10px -10px -10px -4px;padding:10px;}",".right.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:12px;}"]))}},{key:"isCanceled",get:function(){return"canceled"===this.props.status}},{key:"isBlacklist",get:function(){return"blacklist"===this.props.status}},{key:"isMedium",get:function(){var e=this.props,t=e.orderType,n=e.condition;return"sell"===t&&"medium"===n}},{key:"isRetrievalOrder",get:function(){return"retrieval"===this.props.orderType}},{key:"isRejectedAndOrderReviewed",get:function(){var e=this.props,t=e.status,n=e.isSellOrderReviewed;return"rejected"===t&&(n||this.isRetrievalOrder)}},{key:"isRejected",get:function(){return this.isRejectedAndOrderReviewed||this.isCanceled||this.isBlacklist}}])&&RR(n.prototype,r),o&&RR(n,o),t}();function MR(e){return(MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zR(e,t){return!t||"object"!==MR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GR(e){return(GR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HR(e,t){return(HR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var WR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zR(this,GR(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HR(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,r=e.images,o=e.price,a=e.condition,i=e.flawReasons;return f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" root"},f.a.createElement(ma.a,{to:"/items/".concat(t)},f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" inner"},f.a.createElement(Ga.a,{fixHeight:!0,mini:!0,images:{small:r&&r.length?r[0]:""}}),f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" main"},f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" title"},n),f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" meta"},f.a.createElement(Px,{condition:a,flawReasons:i}))),f.a.createElement("div",{className:P.a.dynamic([["134192770",[L.a.gray,L.a.lightFont]]])+" right"},f.a.createElement(Mo.a,{small:!0,n:o})))),f.a.createElement(P.a,{id:"134192770",dynamic:[L.a.gray,L.a.lightFont]},[".root.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".root.__jsx-style-dynamic-selector:last-child{border-bottom:none;}",".inner.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:12px 0;font-size:14px;}",".image.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:65px;height:65px;margin-right:15px;background:rgba(0,0,0,0.1);background-size:cover;background-position:center;}",".img.__jsx-style-dynamic-selector{width:50px;height:71px;margin-right:12px;}",".main.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-left:8px;overflow:hidden;}",".title.__jsx-style-dynamic-selector{line-height:1.29;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400;}",".meta.__jsx-style-dynamic-selector{margin-top:6px;line-height:1.5;color:".concat(L.a.lightFont,";font-size:12px;}"),"button.__jsx-style-dynamic-selector{margin:-10px -10px -10px -4px;padding:10px;}",".right.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:12px;}"]))}}])&&UR(n.prototype,r),o&&UR(n,o),t}();function VR(e){return(VR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YR(e,t){return!t||"object"!==VR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QR(e){return(QR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZR(e,t){return(ZR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XR={marginLeft:3,lineHeight:0},JR=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=YR(this,QR(t).call(this,e));var r=e.order,o=r.orderItems,a=r.userBooks,i=(o||a).length>5;return n.shouldListCollapse=i,n.shouldListCollapse&&(n.state={isExpanded:!1}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZR(e,t)}(t,u["Component"]),n=t,(r=[{key:"toggleExpanded",value:function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.order,r=n.id,o=n.type,a=n.isVariantSellPrice,i=n.price,c=n.freight,l=n.freeBooksFreight,s=void 0===l?0:l,u=n.orderItems,p=n.userBooks,d=n.balancePayDiscountAmount,m=n.status,y=n.promotions,b=void 0===y?[]:y,h=n.priceChangedUserBooksCount,g=t.children,v=u||p,x=this.state&&this.state.isExpanded,w="sell"===o&&m===PN.DONE,O=0,E=0,j=0,k=0,_=0,S=0,C=0;"purchase"===o?(O=E=v.reduce(function(e,t){return e+t.price},0),S=v.filter(function(e){return e.hasLocked}).length,C=v.reduce(function(e,t){return e+(t.hasLocked?t.price:0)},0)):(E=v.reduce(function(e,t){return e+t.acquirePrice},0),O=j=v.reduce(function(e,t){return e+(t.acquirePriceFineCondition||0)},0),k=v.reduce(function(e,t){return e+(t.acquirePriceMediumCondition||0)},0),_=j-E);var I=[],T=0,R=0;"sell"===o&&(T=(I=v.filter(function(e){return"blacklist"===e.status||"canceled"===e.status||"rejected"===e.status&&w})).reduce(function(e,t){return e+t.acquirePrice},0),R=I.reduce(function(e,t){return e+(t.acquirePriceMediumCondition||0)},0));var A,F=0,B="";switch(o){case"sell":A="最高可卖",B=w?"收入：":"最高可卖：",F=w?Math.max(E-c-T,0):j-T;break;case"retrieval":B=0===(F=c)?"首次取回免运费":"支付运费：";break;default:F=i}var D=KR(b,1)[0],M=(D=void 0===D?{}:D).type,U=D.subsidy,z=M?Object(Qh.a)(M):"",G=M?U:0,H="purchase_freight_free"===M?U:c,W=Boolean(v.find(function(e){return"item"===e.itemType}));return f.a.createElement(Cc,null,f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" header"},f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" headerleft"},"共",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},v.length),W?"个":"本",Boolean(I.length)&&f.a.createElement("span",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])},"，",f.a.createElement(fe.a,{padEnd:!0},I.length),"本未通过")),"purchase"===o&&!W&&f.a.createElement(ma.a,{withArrow:!0,to:"/support/quality",style:{fontSize:"14px",color:L.a.lighterFont}},"不同品相有何区别")),f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" content"},f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" list"},f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" "+((this.shouldListCollapse&&!x?"collapsed":null)||"")},v.map(function(e){var t=e.price,n=e.isFree,r=e.acquirePrice,a=e.status,i=e.reasons,c=e.source,l=e.id,s=e.condition,u=e.flawFlag,p=e.flawReasons,d=e.traitDesc,m=e.hasLocked,y=e.images,b=e.acquirePriceFineCondition,h=e.item,g=e.book;if("item"===e.itemType){var v=h.id,x=h.item,O=x.title,E=x.images,j=x.price;return f.a.createElement(WR,{key:v,id:v,title:O,images:E,price:j||t,condition:s,flawReasons:p})}var k=g.id,_=g.type,S=g.title,C=g.rawAuthor,P=g.images,I=g.volumesCount;return f.a.createElement(DR,{isSellOrderReviewed:w,key:l||k,id:l,bookId:k,type:_,isFree:n||"free"===s,orderType:o,title:S,photos:y,images:P,author:C,status:a,reasons:i,source:c,price:r||t,condition:s,flawFlag:u,flawReasons:p,traitDesc:d,acquirePriceFineCondition:b,hasLocked:m,volumesCount:I})})),this.shouldListCollapse&&f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" "+(N()("toggle",{expanded:x})||"")},f.a.createElement("button",{onClick:function(){return e.toggleExpanded()},className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])},x?"收起":"显示全部",x?f.a.createElement(_u,null):f.a.createElement(bs,null)))),h>0&&f.a.createElement(ma.a,{to:"/orders/sell/".concat(r,"/changed")},f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" changed-userbooks"},f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])},"".concat(h," 本书由于信息修正，收购价发生了变动")),f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])},f.a.createElement(qn.a,null)))),f.a.createElement(a_,{total:O,totalPrefix:A,final:F,isRetrieval:"retrieval"===o,finalPrefix:B},S>0&&f.a.createElement(ri,{negative:!0,primary:!0,name:"锁定时支付",value:C}),"purchase"===o&&Boolean(d)&&f.a.createElement(ri,{negative:!0,name:"优惠（余额支付）",value:d}),Boolean(I.length)&&f.a.createElement(ri,{negative:!0,name:"未通过",value:T}),w&&Boolean(_)&&f.a.createElement(ri,{negative:!0,name:"品相中等",value:_}),f.a.createElement(ri,{negative:"sell"===o,name:"运费",value:H}),"purchase"===o&&s>0&&f.a.createElement(ri,{name:f.a.createElement(Eg,null),value:s}),"purchase"===o&&M&&f.a.createElement(ri,{negative:!0,name:z,value:G}))),"sell"===o&&"reviewed"!==m&&a&&f.a.createElement("div",{className:P.a.dynamic([["4254086365",[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]]])+" sell-price-range"},"预估价格区间",f.a.createElement(Mo.a,{sign:!0,n:k-R}),"~",f.a.createElement(Mo.a,{sign:!0,n:F}),f.a.createElement(ma.a,{style:XR,to:"/support/condition"},f.a.createElement(oe,{height:12}))),g,f.a.createElement(P.a,{id:"4254086365",dynamic:[L.a.gray,L.a.gray,L.a.lightFont,L.a.lighterFont,L.a.lightGreen,L.a.primary]},[".header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:15px 0;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".headerleft.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}",".list.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.gray,";}"),".collapsed.__jsx-style-dynamic-selector{max-height:284px;overflow:hidden;}",".toggle.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(L.a.lightFont,";font-size:14px;}"),"button.__jsx-style-dynamic-selector{padding:8px 40px;}",".sell-price-range.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:-7px;padding-bottom:24px;font-size:12px;font-weight:300;line-height:1.33;color:".concat(L.a.lighterFont,";text-align:right;}"),".changed-userbooks.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:13px;border-radius:4px;margin:18px 0 6px;padding:7px 11px;background-color:".concat(L.a.lightGreen,";color:").concat(L.a.primary,";}")]))}}])&&qR(n.prototype,r),o&&qR(n,o),t}(),$R=function(e){return e&&e.rejectInfo&&"waiting_retrieved"===e.rejectInfo.status},eL=function(e){var t=e.order,n=t.type,r=t.userBooks,o=t.status,a=e.isRetrievalFreightFree,i=0;return"sell"===n&&o===PN.DONE&&(i=r.filter($R).length),i?f.a.createElement(Cc,null,f.a.createElement(ma.a,{to:"/rejected"},f.a.createElement("div",{className:"jsx-585380579 root"},f.a.createElement("span",{style:{fontSize:15},className:"jsx-585380579"},"取回被拒书籍"),a&&f.a.createElement(Ua.a,{tip:!0,following:!0},"首次免费取回"),f.a.createElement("span",{style:{flexGrow:1},className:"jsx-585380579"}),f.a.createElement(qn.a,{height:"20",stroke:L.a.lighterFont}))),f.a.createElement(P.a,{id:"585380579"},[".root.jsx-585380579{padding:15px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"])):null},tL=function(e){var t=e.expanded,n=e.active,r=e.current,o=e.emphasis,a=e.cancel,i=e.header,c=e.children;return f.a.createElement("div",{className:P.a.dynamic([["1898393641",[L.a.primary,L.a.emphasis,L.a.primary,L.a.emphasis,L.a.lightFont,L.a.primary,L.a.emphasis,L.a.lighterFont]]])+" "+(N()("root",{hidden:!t&&!r,stretch:!t&&r,emphasis:o,current:r,active:n,cancel:a})||"")},f.a.createElement("span",{className:P.a.dynamic([["1898393641",[L.a.primary,L.a.emphasis,L.a.primary,L.a.emphasis,L.a.lightFont,L.a.primary,L.a.emphasis,L.a.lighterFont]]])+" dot"}),f.a.createElement("div",{className:P.a.dynamic([["1898393641",[L.a.primary,L.a.emphasis,L.a.primary,L.a.emphasis,L.a.lightFont,L.a.primary,L.a.emphasis,L.a.lighterFont]]])+" header"},i),f.a.createElement("div",{className:P.a.dynamic([["1898393641",[L.a.primary,L.a.emphasis,L.a.primary,L.a.emphasis,L.a.lightFont,L.a.primary,L.a.emphasis,L.a.lighterFont]]])+" content"},c),f.a.createElement(P.a,{id:"1898393641",dynamic:[L.a.primary,L.a.emphasis,L.a.primary,L.a.emphasis,L.a.lightFont,L.a.primary,L.a.emphasis,L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{position:relative;box-sizing:border-box;padding:0 0 15px 35px;}",".stretch.__jsx-style-dynamic-selector{padding-top:22px;padding-bottom:9px;}",".hidden.__jsx-style-dynamic-selector{display:none;}",".root.__jsx-style-dynamic-selector::before,.root.__jsx-style-dynamic-selector::after{content:'';position:absolute;left:17px;width:1.5px;background:rgb(233,233,233);}",".root.__jsx-style-dynamic-selector::before{top:0;height:12px;}",".stretch.__jsx-style-dynamic-selector::before{height:30px;}",".root.__jsx-style-dynamic-selector:first-child.__jsx-style-dynamic-selector::before{content:none;}",".root.__jsx-style-dynamic-selector::after{top:12px;bottom:0;left:17px;}",".stretch.__jsx-style-dynamic-selector::after{top:30px;}",".root.__jsx-style-dynamic-selector:last-child.__jsx-style-dynamic-selector::after{content:none;}",".active.__jsx-style-dynamic-selector:not(.stretch)::before,.active.__jsx-style-dynamic-selector:not(.current)::after{background:".concat(L.a.primary,";}"),".emphasis.__jsx-style-dynamic-selector:not(.stretch)::before,.emphasis.__jsx-style-dynamic-selector:not(.current)::after{background:".concat(L.a.emphasis,";}"),".dot.__jsx-style-dynamic-selector{position:absolute;z-index:1;left:14px;top:6.5px;width:7.5px;height:7.5px;background:rgb(233,233,233);border-radius:999px;}",".stretch.__jsx-style-dynamic-selector .dot.__jsx-style-dynamic-selector{top:28.5px;}",".active.__jsx-style-dynamic-selector .dot.__jsx-style-dynamic-selector{background:".concat(L.a.primary,";}"),".current.__jsx-style-dynamic-selector .dot.__jsx-style-dynamic-selector{box-shadow:0 0 0 3.5px rgb(163,231,221);}",".emphasis.__jsx-style-dynamic-selector .dot.__jsx-style-dynamic-selector{background:".concat(L.a.emphasis,";box-shadow:0 0 0 3.5px rgb(250,222,222);}"),".cancel.__jsx-style-dynamic-selector .dot.__jsx-style-dynamic-selector{background:rgb(203,203,203);box-shadow:0 0 0 3.5px rgb(233,233,233);}",".header.__jsx-style-dynamic-selector{font-size:16px;color:".concat(L.a.lightFont,";}"),".active.__jsx-style-dynamic-selector .header.__jsx-style-dynamic-selector{font-weight:400;}",".active.__jsx-style-dynamic-selector:not(.cancel) .header.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".emphasis.__jsx-style-dynamic-selector:not(.cancel) .header.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";font-weight:400;}"),".content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:15px;margin-top:2px;color:".concat(L.a.lighterFont,";font-size:11px;}")]))};function nL(e){return(nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oL(e,t){return!t||"object"!==nL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aL(e){return(aL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iL(e,t){return(iL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oL(this,aL(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iL(e,t)}(t,u["Component"]),n=t,(r=[{key:"renderHeader",value:function(){var e=this.props,t=e.orderId,n=e.name,r=e.routeInfo,o=e.expanded;return t?r&&r.length&&!o?f.a.createElement("div",{className:"hd"},r[r.length-1].remark):f.a.createElement("div",{className:"hd"},"".concat(n,": ").concat(t)):null}},{key:"renderRoutes",value:function(){var e=this.props.routeInfo;return e&&e.length?f.a.createElement("div",{className:P.a.dynamic([["2548971077",[L.a.primary]]])+" wrap"},e.map(function(t,n){return f.a.createElement("div",{key:n,className:P.a.dynamic([["2548971077",[L.a.primary]]])+" "+(N()("route",{"route-current":n===e.length-1})||"")},f.a.createElement("p",{className:P.a.dynamic([["2548971077",[L.a.primary]]])+" remark"},t.remark),t.accept_time&&f.a.createElement("p",{className:P.a.dynamic([["2548971077",[L.a.primary]]])+" time"},f.a.createElement(be,{value:t.accept_time.replace(/-/g,"/")})))}),f.a.createElement(P.a,{id:"2548971077",dynamic:[L.a.primary]},[".route.__jsx-style-dynamic-selector{padding-bottom:16px;}",".route.__jsx-style-dynamic-selector:last-child{padding-bottom:0;}",".route-current.__jsx-style-dynamic-selector .remark.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".remark.__jsx-style-dynamic-selector{margin-bottom:2px;line-height:1.4;}",".time.__jsx-style-dynamic-selector{font-size:11px;}"])):f.a.createElement("div",{className:"wrap"},"暂时没有物流进度")}},{key:"render",value:function(){var e=this.props.expanded;return f.a.createElement("div",{className:P.a.dynamic([["34771975",[L.a.lighterColor,L.a.lightGray]]])+" Route-info"},this.renderHeader(),e&&f.a.createElement("div",{className:P.a.dynamic([["34771975",[L.a.lighterColor,L.a.lightGray]]])+" routes"},this.renderRoutes()),f.a.createElement(P.a,{id:"34771975",dynamic:[L.a.lighterColor,L.a.lightGray]},[".Route-info.__jsx-style-dynamic-selector{width:100%;font-size:11px;color:".concat(L.a.lighterColor,";}"),".routes.__jsx-style-dynamic-selector{padding:16px;margin-top:5px;font-size:14px;background-color:".concat(L.a.lightGray,";}")]))}}])&&rL(n.prototype,r),o&&rL(n,o),t}(),lL=function(e){var t=e.carrierInfo;return t?f.a.createElement("span",null,"".concat(t.name,"：").concat(t.orderId?t.orderId:"即将生成快递单号"),!Object(v.b)()&&t.orderId&&f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{padStart:!0,padEnd:!0},"‧"),f.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:O.c&&"顺丰"===t.name?"http://ucmp.sf-express.com/service/scan/cxSendExpressShare?params=__WX_WAYBILL_SHARE_URL__history__".concat(t.orderId):"http://m.kuaidi100.com/result.jsp?nu=".concat(t.orderId)},f.a.createElement(D.a,{text:!0},"查看快递信息")))):null};function sL(){return(sL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var uL=RN.INITIAL,fL=RN.PAID,pL=RN.PREPARING,dL=RN.SHIPPED,mL=RN.DELIVERED;var yL=function(e){var t,n,r,o,a,i=e.expanded,c=e.order,l=c.status,s=c.isCanceled,u=c.price,p=c.paidAt,d=c.carrierInfo,m=c.expectedDeliveryTime,y=l!==uL&&f.a.createElement("span",null,"预计",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},m?f.a.createElement(be,{value:m}):f.a.createElement(be,{value:Object(gg.f)(p)})),"".concat(d?d.name:"","快递发货"));return f.a.createElement("div",null,l===uL&&f.a.createElement(tL,{emphasis:!0,expanded:i,active:FN(l,uL),current:!s&&l===uL,header:f.a.createElement("span",null,"待支付",f.a.createElement(fe.a,{price:!0},u))},"请在",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},(n=c.created,r=new Date(new Date(n).getTime()+18e5),o=r.getHours(),a=r.getMinutes(),"".concat(o,":").concat(1===(t=a.toString()).length?"0".concat(t):t))),"前支付，逾期订单将被取消"),l!==uL&&(!s||FN(l,fL))&&f.a.createElement(tL,{expanded:i,active:FN(l,fL),current:!s&&l===fL,header:"已支付"},f.a.createElement(be,{value:p})),(!s||FN(l,pL))&&f.a.createElement(tL,{expanded:i,active:FN(l,pL),current:!s&&l===pL,header:FN(l,pL)?"拣货中":"多抓鱼拣货"}),(!s||FN(l,dL))&&f.a.createElement(tL,{expanded:i,active:FN(l,dL),current:!s&&l===dL,header:FN(l,dL)?"快递已揽件":"快递发货"},FN(l,dL)?function(e){var t=e.carrierInfo,n=e.expanded;return t?["SF","ZTO","YTO"].includes(t.shipperCode)?f.a.createElement(cL,sL({},t,{expanded:n})):f.a.createElement(lL,{carrierInfo:t}):null}({carrierInfo:d,expanded:i}):y),(!s||FN(l,mL))&&f.a.createElement(tL,{expanded:i,active:FN(l,mL),current:!s&&l===mL,header:FN(l,mL)?"已完成":"完成"}),s&&f.a.createElement(tL,{cancel:!0,active:!0,current:!0,emphasis:l===uL,expanded:i,header:"订单已取消"},l===fL&&"款项原路退回"))};function bL(){return(bL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hL=PN.INITIAL,gL=PN.REVIEWED,vL=PN.SCHEDULED,xL=PN.RECEIVED,wL=PN.DONE,OL=function(e){var t,n=e.expanded,r=e.order,o=r.status,a=r.isCanceled,i=r.created,c=r.address.deliveryTime,l=r.carrierInfo,s=r.shipperCode;return f.a.createElement("div",null,f.a.createElement(tL,{expanded:n,active:BN(o,hL),current:!a&&o===hL,header:"下单成功"},f.a.createElement(be,{value:i})),(!a||BN(o,gL))&&f.a.createElement(tL,{expanded:n,active:BN(o,gL),header:"多抓鱼线上审核"},(t=r.userBooks.filter(function(e){return"blacklist"===e.status}).length)?f.a.createElement("span",null,f.a.createElement(fe.a,{padEnd:!0},t),"本未通过"):null),(!a||BN(o,gL))&&f.a.createElement(tL,{expanded:n,active:BN(o,gL),current:!a&&o===gL,header:"安排快递上门取书"},"预约",f.a.createElement(fe.a,{padStart:!0},f.a.createElement(be,{value:c}),"JD"===s?"- 17:00":null,BN(o,vL)||"，无需支付快递费用")),(!a||BN(o,vL))&&f.a.createElement(tL,{expanded:n,active:BN(o,vL),current:!a&&o===vL,header:"".concat(gg.i[s],"取书")},l&&l.routeInfo&&l.routeInfo.length?f.a.createElement(cL,bL({},l,{expanded:n})):f.a.createElement(lL,{carrierInfo:l})),(!a||BN(o,xL))&&f.a.createElement(tL,{expanded:n,active:BN(o,xL),current:!a&&o===xL,header:BN(o,xL)?"多抓鱼已收货":"多抓鱼收货"}),(!a||BN(o,wL))&&f.a.createElement(tL,{expanded:n,active:BN(o,wL),current:!a&&o===wL,header:BN(o,wL)?"多抓鱼已审核打款":"多抓鱼审核打款"},o===wL?f.a.createElement(be,{value:r.reviewedTime}):f.a.createElement("span",null,"预计签收后 1-3 天完成审核。春节、促销活动等审核紧张时期，审核时间可能会延长，具体请见多抓鱼公众号通知。")),a&&f.a.createElement(tL,{cancel:!0,active:!0,current:!0,expanded:n,header:"订单已取消"}))};function EL(e){return(EL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kL(e,t){return!t||"object"!==EL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _L(e){return(_L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SL(e,t){return(SL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kL(this,_L(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SL(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.order,n=e.order.type,r=e.expanded,o=e.onToggle;return f.a.createElement(Cc,{flex:!0},f.a.createElement("div",{className:P.a.dynamic([["3919653037",[L.a.primary,L.a.primary]]])+" "+(N()("list",{expanded:r})||"")},"sell"===n?f.a.createElement(OL,{order:t,expanded:r}):f.a.createElement(yL,{order:t,expanded:r})),f.a.createElement("div",{className:P.a.dynamic([["3919653037",[L.a.primary,L.a.primary]]])+" "+(N()("button",{expanded:r})||"")},f.a.createElement("button",{onClick:function(){return o(!r)},className:P.a.dynamic([["3919653037",[L.a.primary,L.a.primary]]])},r?f.a.createElement(_u,{stroke:L.a.lighterFont}):f.a.createElement("span",{className:P.a.dynamic([["3919653037",[L.a.primary,L.a.primary]]])+" "+(N()("detail")||"")},"查看详情"))),f.a.createElement(P.a,{id:"3919653037",dynamic:[L.a.primary,L.a.primary]},[".list.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".list.expanded.__jsx-style-dynamic-selector{padding-top:22px;}",".button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding-bottom:21px;}",".button.expanded.__jsx-style-dynamic-selector{padding-bottom:28px;}","button.__jsx-style-dynamic-selector{padding:2px;}",".detail.__jsx-style-dynamic-selector{border-radius:100px;border:0.5px solid ".concat(L.a.primary,";color:").concat(L.a.primary,";font-size:12px;width:68px;height:28px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}")]))}}])&&jL(n.prototype,r),o&&jL(n,o),t}(),PL=function(e){return{id:e,ignoreError:!0,fetch:{from:"/eggs?sellOrderId=".concat(e),types:[Uo.dd,Uo.ed,Uo.cd],schema:Ve.a.tarot}}};function IL(e){return(IL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NL(e){return(NL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(e,t){return(LL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var AL={onLoadTarot:PL},FL=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=NL(t).call(this,e))||"object"!==IL(o)&&"function"!=typeof o?RL(r):o).toTarotPage=n.toTarotPage.bind(RL(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LL(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.tarot||this.checkTarotInfo()}},{key:"componentDidUpdate",value:function(e){this.props.orderId!==e.orderId&&this.checkTarotInfo()}},{key:"checkTarotInfo",value:function(){var e=this.props,t=e.orderId,n=e.loadStatus,r=e.onLoadTarot;"notFound"!==n&&r(t)}},{key:"toTarotPage",value:function(){var e=this.props,t=e.currentUserId,n=e.orderId;e.history.push("/tarot?orderId=".concat(n,"&userId=").concat(t))}},{key:"render",value:function(){return this.props.tarot?f.a.createElement("div",{onClick:this.toTarotPage,className:P.a.dynamic([["2360424876",[L.a.golden,L.a.red]]])+" tarot-btn"},f.a.createElement(P.a,{id:"2360424876",dynamic:[L.a.golden,L.a.red]},[".tarot-btn.__jsx-style-dynamic-selector{width:46px;height:46px;box-sizing:border-box;position:fixed;bottom:130px;right:16px;border-radius:50%;border:4px solid ".concat(L.a.golden,";background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA4CAYAAAC/pKvXAAAABGdBTUEAALGPC/xhBQAABQhJREFUaAXtmVuIVlUUx2c0L3mpNK2pzKh8KbS7hd007CEpISlKu/jS7SHqJRF66PLQBQpBpZcgxYeiII0yK4uEKOshqoeiYSgbZqwMNB0tq7GZcfr9p7M/1uzOOXvv7/u0ic6CH3vtvdbat+/syzlfS0sl1QxUM1DNwH9pBlob6ezg4ODZxB8HB2BXa2trbyP1/SuxDGIxDICTwyjtcFOoQ/jcDR2wAW4I+R9ROx1YCXnyfKhhgh7xAt8mPyMUV2Y/pswYsH1aYL+MTi3H9iW087j9mePX55UtIv8icc+QdsJoOB6mwABsox4/huImCI3q8QjJHhweg8m2SfJPQYrswPkcW0fTdCremNCTjbZh4rYmxMq1Hy60dTRFp9K5oMUdK7+6hgk4GQ7FBmZ+u0nHuTry0ug1QkXyvRKWwF2QsnV/jX8LdShmA4yFFPmNNXKoLCB6IFTyOlxfVpln+5j8GtgFn2cToUfsOgjJIA53gAZ8CmyBxoVOnAmpstm2TPCDiRXMtPEhfVTIIbOfFPDbh/09z+cCLz/Py7vsbpRbod8VZOk1Xr7xLDM5FYoW935sOjvGwBfgZJ1tmcKLncFLdeZo/dzvlb9q45um08gLXkPKfg/nu0bQZ8MCaIMloP3/DVgLY+FNsPKQi1WK4TX4EF6CM6ytaToVj4PV8AN0Z7pO338ItoXQC1YeIHMu3AJLQRfOkSt08Go4CL7so+DakdvzrGd0UmtEl0H/l6BomLxP7vIROSA6psX+1bDuhjPv4DJ3RAyIjkyCNWDfS8gmyWa8m3+Pip0hGl8EWvRlorXSU+aQ2bS1b4LZse037EdjM0DbY0i09Wo7ngjasb6DkGhAL8NFMB60lT8N27O09OIYNTgqmgfboOhgxFSTV9D8d5BRlN0DB2pe6cpzUZ21TrShQ6yeZ38VcfrVJtn6nE75dFgP9UgfQdNdXcEUZ10nYma+ns7YGL1npLZze94Aii6Ny3COfd/4A9+f8yoPlOldfiFcCtsDvtZ8ms04vWggB51DSaoBrIATYHWJX5HpMIY+Xpg+g6vQdQPugpB0hRxqdn5u7TQd9hnw9C7yc1wA+m2ePTarN82aEKSd6mH4paAC3RrS7mgE3At5i10H2LRa6yjkZ0Lqs65OrbX1OJ3yNngSdLt29Wq3W+B8klICz4L1sBc+gTtTKsBfHyl0JuTu/5TfCLoZaJ3kCjZt26nv+Ll1FRbSwFR4AlbAFOtIfhb0g0Sn+7NQGxC6HqNOcPKojT+qOj3QS5ATPYZbYOggJJ0Pvsx3HcSwzDPqjMh9v3ExZWnRrlUWM2Sj0fNQLjGOqktfWe4zZVbVJ892U7DY6FJ/h5jd0gv7O1v3QAjvgJ05tbrB6ZOOlXVss3tUwCToEdP3XisfYR+wBSl63QOhUR1oK3Maa8vKdpDawawyvkvRdf5Y+cBmUvWUD3SaSQ18lmnkG/SfQB/RnOiepU8/PbAJboa3YALlV5CeDnkH6Bzsj2PTQavYbibrXdLmCw3pWn60ROdH8E8jN8rUR+vIfKJxvRme6oPdqcOLinOpAzmxuKqmW8ZQo3a6KEkdSOyNOKrxCKfOCJ8hl6TFTsS30A174VjQy9PELA1dI3biNw0mQIxox9MWHyVNm2EWpibFDmw8+V7Q47GfHUgfurXzTSbRCa5H50fQuvP7oSt+DzGasEqqGahmoJqBagaqGahm4H83A38B03qp7dSUXMoAAAAASUVORK5CYII=') ").concat(L.a.red,";background-size:contain;background-position:center;background-repeat:no-repeat;}")])):null}}])&&TL(n.prototype,r),o&&TL(n,o),t}(),BL=Object(Bt.a)(Object(a.b)(function(e,t){var n=t.match.params.id,r=e.entities,o=e.session.user.id;return{tarot:Object(Pe.C)(r)[n],orderId:n,loadStatus:Object(Pe.B)(r,n),currentUserId:o}},AL)(FL));function DL(e){return(DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ML(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UL(e,t){return!t||"object"!==DL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zL(e){return(zL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GL(e,t){return(GL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UL(this,zL(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GL(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.loadStatus,r=t.history,o=t.onLoad;"initial"!==n&&"PUSH"!==r.action||o(),"PUSH"===r.action&&window.scrollTo(0,0),O.f&&window.Rexxar.Lifecycle.on(mN.a,function(){var t=e.props.order;Date.now()-new Date(t.created)<=12e4&&["purchase","sell"].includes(t.type)&&Object(yN.d)(yN.a)({action:"StoreReview"})})}},{key:"componentWillUnmount",value:function(){this.props.stopPayCheckTimer(),O.f&&window.Rexxar.Lifecycle.off(mN.a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.type,o=t.order,a=t.loadStatus,i=t.isStatusExpanded,c=t.toggleStatusExpanded,l=t.alertState;if(!o)return"loading"===a?f.a.createElement(se,{empty:!0,loading:!0,noBottomNav:!0},f.a.createElement(ue.a,{title:"订单"})):"notFound"===a?f.a.createElement(gc.a,null):null;var s=l&&"PRICE_CHANGED_AFTER_UPDATE"===l.type&&f.a.createElement($T,{text:l.data,onClose:function(){return e.props.onCloseAlert()}}),u=this.props,p=u.order.status,d=u.isRetrievalFreightFree;return f.a.createElement(se,{noBottomNav:!0,style:{paddingBottom:"51px"}},f.a.createElement(Wl,null),f.a.createElement(ue.a,{title:"订单"}),f.a.createElement(Fc.a,null),s,f.a.createElement(CL,{order:o,expanded:i,onToggle:c}),f.a.createElement(_N,null),f.a.createElement(eL,{order:o,isRetrievalFreightFree:d}),f.a.createElement(JR,{order:o},"reviewed"===p&&f.a.createElement("div",{className:P.a.dynamic([["160252769",[L.a.lighterFont]]])+" link"},f.a.createElement(ma.a,{withArrow:!0,to:"/account"},"查看账户余额"))),f.a.createElement(dN,{order:o}),f.a.createElement(jR,{order:o}),"sell"===r&&f.a.createElement(BL,null),f.a.createElement(G,{hasBottomBar:!0}),f.a.createElement(hR,{id:n,order:o}),f.a.createElement(P.a,{id:"160252769",dynamic:[L.a.lighterFont]},[".link.__jsx-style-dynamic-selector{padding-bottom:16px;color:".concat(L.a.lighterFont,";font-size:12px;text-align:right;}")]))}}])&&ML(n.prototype,r),o&&ML(n,o),t}(),WL=Object(a.b)(function(e,t){var n=t.match.params,r=n.id,o=n.type,a="order-".concat(r,"-status");return{id:r,type:o,order:Object(Pe.s)(e.entities,r),loadStatus:Object(Pe.t)(e.entities,r),isStatusExpanded:Object(XT.b)(e.collapsables,a),isRetrievalFreightFree:Object(_e.l)(e),alertState:Object(F.f)(e)}},function(e,t){var n=t.match.params,r=n.id,o=n.type,a="order-".concat(r,"-status");return{onLoad:function(){return e(Object(Zo.b)(r,o))},toggleStatusExpanded:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(yk.apply(void 0,[a].concat(n)))},stopPayCheckTimer:function(){return e(Object(_.j)())},onCloseAlert:function(){return e(Object(We.a)())}}})(HL);function VL(){return(VL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var KL=function(e){return f.a.createElement("svg",VL({width:"172",height:"100",viewBox:"276 595 344 199",version:"1.1"},e),f.a.createElement("defs",null,f.a.createElement("path",{id:"path-1",d:"M127.424887,0 L47.1806014,0 C30.610561,0 17.1785343,13.4329574 17.1785343,30.0033501 L17.1785343,130.511671 C17.1785343,131.747674 17.2532116,132.966162 17.3982987,134.162877 L17.3982987,145.65919 C17.3982987,156.71258 26.3509629,165.665236 37.3946338,165.665236 L148.573065,165.665236 C159.621583,165.665236 168.5694,156.708224 168.5694,145.65919 L168.5694,132.452398 C168.5694,131.440642 168.494391,130.446487 168.349636,129.475188 L168.349636,69.527897 L190.135153,69.527897 C195.657812,69.527897 200.129924,65.054592 200.129924,59.5364907 L200.129924,26.1527293 L200.129924,18.8962482 C200.129924,9.63684825 193.460594,1.92353196 184.660407,0.310201097 C183.867945,0.107667158 183.037918,0 182.183242,0 L127.424887,0 Z"}),f.a.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"182.95139",height:"165.665236",fill:"white"},f.a.createElement("use",{xlinkHref:"#path-1"})),f.a.createElement("path",{id:"path-3",d:"M179.463379,0.00439453125 C168.417969,0.00439453125 160,6.33886719 160,20.1235352 L160.219764,83.3417969 C160.219764,84.5777994 160.074677,106.48102 160.219764,107.677734 M311.390866,132.452398 C311.390866,131.440642 311.315857,130.446487 311.171102,129.475188 M342.95139,32.3152549 C342.95139,31.7425393 342.903109,31.1809333 342.810392,30.6343082 M324.055002,0 C323.779791,0 323.505956,0.00588078863 323.233617,0.0175235317 C323.03585,0.00589585324 322.836535,0 322.635838,0"}),f.a.createElement("mask",{id:"mask-4",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"182.95139",height:"132.452398",fill:"white"},f.a.createElement("use",{xlinkHref:"#path-3"}))),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(276.000000, 595.000000)"},f.a.createElement("path",{d:"M147.178309,14.0171674 L50.6218684,14.0171674 C40.6913769,14.0171674 32.6253902,22.0782381 32.6253902,32.0220728 L32.6253902,161.677498 C32.6253902,171.622015 40.682688,179.682403 50.6218684,179.682403 L163.670843,179.682403 C173.19051,179.682403 180.99675,172.27451 181.626346,162.901524 C181.795874,161.854039 181.88399,160.779295 181.88399,159.683985 L181.88399,152.565021 C181.88399,151.56071 181.810051,150.573802 181.667321,149.609426 L181.667321,75.5716817 L202.996089,75.5716817 C208.524839,75.5716817 213,71.0980887 213,65.5796321 L213,38.4479302 C213,38.267844 212.995228,38.0888681 212.985803,37.9111218 C212.995239,37.6674812 213,37.4226405 213,37.176687 L213,32.6539229 C213,22.3497632 204.658957,14.0171674 194.369759,14.0171674 C194.075063,14.0171674 193.781968,14.0240091 193.490625,14.0375424 C193.278114,14.0240277 193.063804,14.0171674 192.847898,14.0171674 L147.178309,14.0171674 Z",fill:"#DFDFDF"}),f.a.createElement("use",{stroke:"#4A4A4A",mask:"url(#mask-2)",strokeWidth:"16",xlinkHref:"#path-1"}),f.a.createElement("g",{transform:"translate(60.000000, 47.000000)"},f.a.createElement("path",{d:"M0.974842767,53.5210903 C0.974842767,41.8745717 11.8848885,27.8421053 30.7318384,27.8421053 C48.1921924,27.8421053 61.8049516,40.0477488 61.8049516,53.5210903",stroke:"#4A4A4A",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round"}),f.a.createElement("ellipse",{fill:"#4A4A4A",cx:"14.8742138",cy:"7.50877193",rx:"7.48427673",ry:"7.49122807"}),f.a.createElement("ellipse",{fill:"#4A4A4A",cx:"46.9496855",cy:"7.50877193",rx:"7.48427673",ry:"7.49122807"})),f.a.createElement("use",{stroke:"#4A4A4A",mask:"url(#mask-4)",strokeWidth:"16",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})))};var qL=function(e){var t=e.order,n=e.order,r=n.id,o=n.type,a=n.status,i=n.isCanceled,c=n.orderItems;return f.a.createElement("div",{className:P.a.dynamic([["3681938057",[L.a.primary]]])+" "+(N()("root",{sell:"sell"===o})||"")},f.a.createElement("h2",{title:r,className:P.a.dynamic([["3681938057",[L.a.primary]]])+" title"},function(e,t){return t&&t.find(function(e){return"item"===e.itemType})?"订单":{sell:"卖书订单",purchase:"买书订单",retrieval:"拒书取回订单"}[e]||"订单"}(o,c),"：",r),f.a.createElement("span",{className:P.a.dynamic([["3681938057",[L.a.primary]]])+" status"},f.a.createElement(fe.a,{lighter:i,emphasis:"unpaid"===a&&!i},function(e){var t=e.type,n=e.status,r=e.isCanceled,o=e.shipperCode;return r?"已取消":"sell"===t?"waiting"===n?"".concat(gg.i[o],"取书"):TN[n]:AN[n]}(t))),f.a.createElement(P.a,{id:"3681938057",dynamic:[L.a.primary]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:2;font-weight:400;}",".title.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:0;font:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}",".status.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-left:0.5em;color:".concat(L.a.primary,";}")]))};n("u1Tj");function YL(e){return(YL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZL(e,t){return!t||"object"!==YL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XL(e){return(XL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JL(e,t){return(JL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100vw";return{width:"(".concat(e," - 30px - 2*6px)/7"),height:"(".concat(e," - 30px - 2*6px)/7 * 1.42")}},eA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZL(this,XL(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JL(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.order,n=e.order,r=n.id,o=n.type,a=n.status,i=n.price,c=n.freight,l=n.orderItems,s=n.userBooks,u=n.itemsCount,p=n.isCanceled,d=l||s;var m=new Date(t.created),y="".concat(m.getFullYear(),"-").concat(m.getMonth()+1,"-").concat(m.getDate());return f.a.createElement(M.a,{className:N()("OrderItem",{"OrderItem--sell":"sell"===o,"OrderItem--processing":"done"!==a}),to:"/orders/".concat(o,"/").concat(r)},f.a.createElement(qL,{inList:!0,order:t}),f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta"},f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta-text-wrap"},f.a.createElement("span",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta-text"},Number.isFinite(u)?u:s.length," ","个商品"),f.a.createElement("span",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta-circle"}),f.a.createElement("span",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta-text"},y)),f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" meta-line"})),f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-content"},d.map(function(e){var t=e.itemType,n=e.book,r=e.id;if("book"===t||n)return f.a.createElement("li",{key:r,className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-item"},f.a.createElement("div",{title:n.title,style:{backgroundImage:"url(".concat(n.images.small,")")},className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-book"}));if("item"===t){var o=e.item,a=o.item.title,i=o.item.images.length?o.item.images[0]:"";return f.a.createElement("li",{key:r,className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-item"},f.a.createElement("div",{title:a,style:{backgroundImage:"url(".concat(i,")")},className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-book"}))}return null})),["sold","pass","unpaid","paid"].includes(a)&&!p&&f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-meta"}),["sold","pass","unpaid","paid"].includes(a)&&!p&&f.a.createElement("div",{className:P.a.dynamic([["1980369385",[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]]])+" OrderItem-actions"},f.a.createElement(VN,{order:t,className:"OrderItem-action"}),"unpaid"===a&&f.a.createElement(eR,{emphasis:!0,order:t,className:"OrderItem-action"})),f.a.createElement(P.a,{id:"1980369385",dynamic:[L.a.lighterFont,$L().height,$L().width,$L().height,$L("600px").height,$L("600px").width,$L("600px").height,L.a.lighterFont,L.a.gray]},[".meta.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:-5px;}"),".OrderItem-content.__jsx-style-dynamic-selector{height:calc(".concat($L().height,");padding:0;margin-bottom:17px;}"),".OrderItem-book.__jsx-style-dynamic-selector{width:calc(".concat($L().width,");height:calc(").concat($L().height,");}"),"@media (min-width:600px){.OrderItem-content.__jsx-style-dynamic-selector{height:calc(".concat($L("600px").height,");}.OrderItem-book.__jsx-style-dynamic-selector{width:calc(").concat($L("600px").width,");height:calc(").concat($L("600px").height,");}}"),".meta-text-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:8px;}",".meta-circle.__jsx-style-dynamic-selector{width:2px;height:2px;background-color:".concat(L.a.lighterFont,";margin:0 8px;}"),".meta-line.__jsx-style-dynamic-selector{display:inline-block;-webkit-flex:1;-ms-flex:1;flex:1;height:1px;border-top:0.5px solid ".concat(L.a.gray,";}")]))}}])&&QL(n.prototype,r),o&&QL(n,o),t}();function tA(e){return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rA(e,t){return!t||"object"!==tA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oA(e){return(oA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aA(e,t){return(aA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iA={onLoad:Ad.i},cA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rA(this,oA(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aA(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.shouldLoad,r=e.onLoad;("initial"===t||n)&&r(!0)}},{key:"render",value:function(){var e=this.props,t=e.loadStatus,n=e.orders,r=e.onLoad;return f.a.createElement(se,{noBottomNav:!0},f.a.createElement(ue.a,{title:"订单"}),f.a.createElement(Wl,null),f.a.createElement("div",{className:"wrap"},f.a.createElement(ne,{isLoading:"loading"===t,isDrained:"drained"===t,isErrored:"failed"===t,onLoad:r,items:n,renderItem:function(e){return f.a.createElement(eA,{key:e.id,order:e})},renderEmptyContent:function(){return f.a.createElement("div",{className:"jsx-2248145131 nocontent"},f.a.createElement(KL,{style:{verticalAlign:"top",transform:"translateX(38px)"}}),f.a.createElement("div",{className:"jsx-2248145131"},"还没有订单，去首页逛逛吧"),f.a.createElement(P.a,{id:"2248145131"},[".nocontent.jsx-2248145131{padding-top:200px;}"]))}})))}}])&&nA(n.prototype,r),o&&nA(n,o),t}(),lA=Object(a.b)(function(e,t){var n=t.history;return{loadStatus:e.orderList.loadStatus,shouldLoad:"POP"!==n.action,orders:Object(F.z)(e)}},iA)(cA);function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uA(e,t,n[t])})}return e}function uA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var pA=Object(A.a)().replace,dA=function(e){return function(t,n){var r=e.id,o=e.type,a=e.pay,i=a.param;switch(a.way){case"wx_mini_program":return Object(v.b)()?(Jo("/orders/".concat(o,"/").concat(r)),ra(t,r,o),t(Object(_.d)(i))):t(Object(We.c)("PAYMENT_MINI_PROGRAM_MISMATCH"));case"wechat_qrcode":return O.m||O.f?t(Object(We.c)("PAYMENT_WECHAT_NATIVE_MISMATCH")):(Jo("/orders/".concat(o,"/").concat(r)),ra(t,r,o),t(ea(e)));case"wechat_app":case"wechat_app_android":case"wechat":return O.m||O.f?(t({type:Uo.Nd}),ta(i).then(function(){return O.f?$o("/orders/".concat(o,"/").concat(r)):Jo("/orders/".concat(o,"/").concat(r)),t(Object(Zo.b)(r,o,!0))}).then(function(e){"paid"===e.status?(t({type:Uo.Od}),Object(R.b)(n().session)||(t(Object(Eo.a)()),setTimeout(function(){return t(Object(Eo.a)())},1e3))):(t({type:Uo.Md}),t(Object(We.d)("PAYMENT_FAILURE")))},function(e){t({type:Uo.Md,error:e}),t(Object(We.d)("PAYMENT_FAILURE"))})):t(Object(We.c)("PAYMENT_WECHAT_MISMATCH"));default:return t(Object(We.c)("PAYMENT_UNSUPPORTED"))}}},mA=n("7dLp");function yA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var bA=Object(A.a)(),hA=bA.push,gA=bA.replace,vA=Object(He.c)(function(){return function(e,t){var n=t(),r=n.session,o=n.addedBooks.ids,a=n.address,i=a.values,c=a.regions,l=r.user.id,s=Object(mA.a)(n),u=yA(Object(mk.b)(i),2),f=u[0],p=u[1];if(p||(p=Object(mk.c)(i,c.sell))&&(f.district=!0),Object.keys(f).length)return e(Object(bk.c)(f)),void e(Object(We.d)(p));e(Object(Ge.d)())&&e({fetch:{types:[Uo.Xe,Uo.Ye],from:"post /sell",body:{userBooks:o,isAnonymous:s,address:i},beforeSuccess:function(t){e({type:Uo.Ve}),gA("/orders/sell/".concat(t.id))}}}).then(function(t){e(Object(_.g)("sell")),e(Object(We.d)("ORDER_SUCCESS")),e(yk("order-".concat(t.id,"-status"),!0)),e(Object(Ge.c)()),e(Object(Ko.b)()),e(PL(t.id)).then(function(){gA("/tarot?orderId=".concat(t.id,"&userId=").concat(l))})},function(t){e({type:Uo.Ue,error:t}),"USER_BOOK_INCONFORMITY"===t.name&&hA("/sell"),"SELL_ORDER_PRICE_UPDATE"===t.name&&e(Object(We.c)("PRICE_CHANGED_AFTER_UPDATE"))})}}),xA=n("HI9p");n("RuVk");function wA(e){return(wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EA(e){return(EA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kA(e,t){return(kA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _A=function(e){var t=new Date(e);return{selectedDay:Object(me.j)(t),selectedHour:t.getHours()}},SA={value:de.a.string,times:de.a.arrayOf(de.a.object).isRequired,isActive:de.a.bool.isRequired,onClose:de.a.func.isRequired,onConfirm:de.a.func.isRequired,onChange:de.a.func},CA=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=EA(t).call(this,e))||"object"!==wA(o)&&"function"!=typeof o?jA(r):o).state={selectedDay:null,selectedHour:null},n.handleConfirm=n.handleConfirm.bind(jA(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kA(e,t)}(t,u["Component"]),n=t,(r=[{key:"setDefaultTime",value:function(e){var t=(e||this.props).times[0].date;this.changeDay(Object(me.j)(new Date(t)),e)}},{key:"componentDidMount",value:function(){var e=this.props.value;e?this.state=_A(e):this.setDefaultTime()}},{key:"componentWillReceiveProps",value:function(e){this.props.value===e.value&&this.props.times===e.times||(e.value?this.setState(_A(e.value)):this.setDefaultTime(e))}},{key:"changeValue",value:function(e){var t=this.props.onChange;t&&t(new Date(e).toJSON()),this.setState(_A(e))}},{key:"handleConfirm",value:function(){var e=this.props.onConfirm,t=this.state,n=t.selectedDay,r=t.selectedHour,o=this.getStepByDate(n);if(e){var a=n+36e5*r,i=(new Date).getTimezoneOffset();e(new Date(a-=6e4*(480+i)).toJSON(),o)}}},{key:"getDateObjByDate",value:function(e,t){var n=(t||this.props).times,r=new Date(e).getTime();return n[Object(xA.a)(n,function(e){return new Date(e.date).getTime()===r})]}},{key:"getHoursByDate",value:function(e,t){var n=this.getDateObjByDate(e,t);return n?n.hours:[]}},{key:"getStepByDate",value:function(e,t){var n=this.getDateObjByDate(e,t);return n?n.step:1}},{key:"changeDay",value:function(e,t){if(e!==this.state.selectedDay){var n=this.getHoursByDate(e,t)[0];this.changeValue(e+36e5*n)}}},{key:"changeHour",value:function(e){var t=this.state.selectedDay;this.changeValue(t+36e5*e)}},{key:"renderDays",value:function(){var e=this,t=this.state.selectedDay;return this.props.times.map(function(e){return e.date}).map(function(n){var r=new Date(n).getTime();return f.a.createElement(D.a,{key:r,className:N()("TimeRange-button TimeRange-button--day",{"is-active":r===t}),onClick:function(){return e.changeDay(r)}},Object(me.h)(r))})}},{key:"renderHours",value:function(){var e=this,t=this.state,n=t.selectedDay,r=t.selectedHour,o=this.getHoursByDate(n),a=this.getStepByDate(n);return o.map(function(t){return f.a.createElement(D.a,{key:t,className:N()("TimeRange-button",{"is-active":t===r}),onClick:function(){return e.changeHour(t)}},Object(me.i)(t,a))})}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onClose;return t?f.a.createElement("div",{className:"TimeRange-wrapper"},f.a.createElement(S.a,{onClose:n},f.a.createElement("div",{className:"TimeRange"},f.a.createElement("div",{className:"TimeRange-columns"},f.a.createElement("div",{className:"TimeRange-column"},this.renderDays()),f.a.createElement("div",{className:"TimeRange-column"},this.renderHours())),f.a.createElement("div",{className:"TimeRange-actions"},f.a.createElement(D.a,{primary:!0,onClick:this.handleConfirm},"确定"))))):null}}])&&OA(n.prototype,r),o&&OA(n,o),t}();function PA(e){return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TA(e){return(TA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(e,t){return(RA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}CA.propTypes=SA;var LA=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=TA(t).call(this,e))||"object"!==PA(o)&&"function"!=typeof o?NA(r):o).state={showTimeRange:!1},n.handleClick=n.handleClick.bind(NA(n)),n.handleClose=n.handleClose.bind(NA(n)),n.handleConfirm=n.handleConfirm.bind(NA(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RA(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleClick",value:function(){this.input.blur(),this.setState({showTimeRange:!0})}},{key:"handleClose",value:function(){this.setState({showTimeRange:!1})}},{key:"handleConfirm",value:function(e,t){(0,this.props.onConfirm)({deliveryTime:e,step:t}),this.setState({showTimeRange:!1})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.value,a=r.step,i=r.warn,c=r.isPrereviewed,l=r.placeholder,s=r.canEdit,u=r.deliveryTimes,p="",d="";return o&&(e=new Date(o),t=Object(me.j)(new Date),p=Object(me.h)(Object(me.j)(e),t),d=Object(me.i)(e.getHours(),a)),u?f.a.createElement("div",{className:"TimeRange-wrapper"},f.a.createElement(it,{readOnly:!0,warn:i,onClick:s?this.handleClick:null,placeholder:l,domRef:function(e){n.input=e},value:o?"".concat(p," ").concat(d):""}),f.a.createElement(CA,{times:u,isActive:this.state.showTimeRange,value:o,onConfirm:this.handleConfirm,onClose:this.handleClose,isPrereviewed:c})):f.a.createElement(q.a,null)}}])&&IA(n.prototype,r),o&&IA(n,o),t}();LA.defaultProps={canEdit:!0,placeholder:"快递上门时间",isPrereviewed:!1};var AA=LA;function FA(e){return(FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DA(e,t){return!t||"object"!==FA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MA(e){return(MA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UA(e,t){return(UA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zA={onLoadDeliveryTimes:function(e,t,n){var r=Object(Mt.b)(n?{province:e,city:t,sellOrderId:n}:{province:e,city:t});return{fetch:{types:[null,Uo.Db,Uo.Cb],from:"/delivery_times?".concat(r)}}},onEdit:bk.a},GA={marginBottom:0,backgroundColor:"#fff",borderTop:"0.5px solid ".concat(L.a.gray),padding:"20px 0"},HA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),DA(this,MA(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UA(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.values,n=t.province,r=t.city,o=e.onLoadDeliveryTimes,a=e.sellOrderId;n&&r&&o(n,r,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.values,r=n.province,o=n.city,a=t.onLoadDeliveryTimes,i=t.sellOrderId;(r&&r!==e.values.province||o&&o!==e.values.city)&&a(r,o,i)}},{key:"render",value:function(){var e=this.props,t=e.deliveryTimes,n=e.values,r=n.province,o=n.city,a=n.deliveryTime,i=n.step,c=e.errors,l=e.onEdit;if(!r||!o)return null;var s=t&&0===t.length,p=t?f.a.createElement(u.Fragment,null,f.a.createElement(AA,{deliveryTimes:t,canEdit:!s,value:a||"",step:i,warn:"deliveryTime"in c,onConfirm:l}),s&&f.a.createElement("span",{style:{fontSize:"12px",color:L.a.lighterFont,marginLeft:6}},"订单时间",f.a.createElement("br",null),"无法修改")):f.a.createElement(q.a,null);return f.a.createElement(Zm,{style:GA},f.a.createElement(Xm,null,"时间："),p)}}])&&BA(n.prototype,r),o&&BA(n,o),t}(),WA=Object(a.b)(function(e){var t=e.address,n=t.deliveryTimes,r=t.values,o=t.errors;return{deliveryTimes:n.sell,values:r,errors:o}},zA)(HA);function VA(e){return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YA(e){return(YA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZA(e,t){return(ZA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XA=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=YA(t).call(this))||"object"!==VA(r)&&"function"!=typeof r?QA(n):r).handleSubmit=e.handleSubmit.bind(QA(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZA(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.history,r=e.onLoad,o=e.onEdit;"initial"===t&&r().then(function(e){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){KA(e,t,n[t])})}return e}({},e.address))}),"PUSH"===n.action&&window.scrollTo(0,0)}},{key:"handleSubmit",value:function(){var e=this.props,t=e.type,n=e.order.id,r=e.onSellSubmit,o=e.onPurchaseSubmit,a=e.onRetrievalSubmit;switch(t){case"sell":return r(n);case"purchase":return o(n);case"retrieval":return a(n);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.order,r=e.loadStatus;return n?f.a.createElement("div",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])+" OrderUpdate"},f.a.createElement(ue.a,{title:"修改订单信息"}),f.a.createElement("div",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])+" OrderUpdate-section"},f.a.createElement("div",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])+" OrderUpdate-header"},f.a.createElement("h2",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])},"修改订单信息"),f.a.createElement("p",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])+" OrderUpdate-info"},"只支持同一个省或直辖市内的地址修改。")),f.a.createElement("div",{className:P.a.dynamic([["2848060249",[L.a.gray,L.a.lighterFont]]])+" OrderUpdate-content"},f.a.createElement(t_,{type:t,isUpdate:!0}),"sell"===t&&f.a.createElement(WA,{sellOrderId:n.id}))),f.a.createElement(Ze.a,null,f.a.createElement(Xe.a,null,f.a.createElement(D.a,{block:!0,primary:!0,onClick:this.handleSubmit,style:{borderRadius:0,lineHeight:"32px"}},"确认修改"))),f.a.createElement(P.a,{id:"2848060249",dynamic:[L.a.gray,L.a.lighterFont]},[".OrderUpdate.__jsx-style-dynamic-selector{padding-bottom:51px;}",".OrderUpdate-section.__jsx-style-dynamic-selector{padding:15px 15px 0;background:#fff;}",".OrderUpdate-section.__jsx-style-dynamic-selector+.OrderUpdate-section.__jsx-style-dynamic-selector{margin-top:15px;}",".OrderUpdate-header.__jsx-style-dynamic-selector{font-size:15px;}",".OrderUpdate-header.__jsx-style-dynamic-selector+.OrderUpdate-content.__jsx-style-dynamic-selector{margin-top:15px;border-top:0.5px solid ".concat(L.a.gray,";padding-top:15px;overflow:auto;}"),".OrderUpdate-info.__jsx-style-dynamic-selector{margin-bottom:15px;color:".concat(L.a.lighterFont,";font-size:13px;}"),".OrderUpdate-revenueTip.__jsx-style-dynamic-selector{text-align:right;margin-top:-10px;padding-bottom:20px;}"])):"loading"===r?f.a.createElement(se,{empty:!0,loading:!0,noBottomNav:!0},f.a.createElement(ue.a,{title:"修改订单信息"})):"notFound"===r?f.a.createElement(gc.a,null):null}}])&&qA(n.prototype,r),o&&qA(n,o),t}(),JA=Object(a.b)(function(e,t){var n=t.match.params,r=n.id;return{id:r,type:n.type,order:Object(Pe.s)(e.entities,r),loadStatus:Object(Pe.t)(e.entities,r)}},function(e,t){var n=t.match.params,r=n.id,o=n.type;return{onLoad:function(){return e(Ad.h(r,o))},onSellSubmit:function(t){return e((n=t,Object(Zo.c)(n,"sell")));var n},onEdit:function(t){return e(Object(bk.a)(t))},onPurchaseSubmit:function(t){return e((n=t,Object(Zo.c)(n,"purchase")));var n},onRetrievalSubmit:function(t){return e((n=t,Object(Zo.c)(n,"retrieval")));var n}}})(XA);function $A(e){return($A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tF(e,t){return!t||"object"!==$A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nF(e){return(nF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rF(e,t){return(rF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oF={onLoad:function(e){return{fetch:{types:[Uo.Fc,Uo.Gc],from:"/orders/sell/".concat(e,"/price-changed-user-books")}}}},aF=function(e){var t=e.originalBook,n=e.book;return f.a.createElement("div",{className:P.a.dynamic([["2388975097",[L.a.gray]]])+" root"},f.a.createElement(Ga.a,{mini:!0,images:n.images}),f.a.createElement("div",{className:P.a.dynamic([["2388975097",[L.a.gray]]])+" meta"},f.a.createElement("div",{className:P.a.dynamic([["2388975097",[L.a.gray]]])+" title"},n.title),f.a.createElement("div",{className:P.a.dynamic([["2388975097",[L.a.gray]]])},"原价修正："," ",t.originalPrice!==n.originalPrice&&f.a.createElement(f.a.Fragment,null,f.a.createElement(Mo.a,{invalid:!0,n:t.originalPrice})," →")," ",f.a.createElement(Mo.a,{n:n.originalPrice})),f.a.createElement("div",{className:P.a.dynamic([["2388975097",[L.a.gray]]])},"良品收购价："," ",t.price!==n.price&&f.a.createElement(f.a.Fragment,null,f.a.createElement(Mo.a,{invalid:!0,n:t.price})," →")," ",f.a.createElement(Mo.a,{n:n.price}))),f.a.createElement(P.a,{id:"2388975097",dynamic:[L.a.gray]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:16px 0;border-bottom:1px solid ".concat(L.a.gray,";}"),".title.__jsx-style-dynamic-selector{font-size:14px;font-weight:500;margin-bottom:4px;color:black;}",".meta.__jsx-style-dynamic-selector{margin-left:16px;font-size:13px;line-height:1.54;}",".divider.__jsx-style-dynamic-selector{border-botttom;}"]))},iF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tF(this,nF(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rF(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id;(0,e.onLoad)(t)}},{key:"render",value:function(){var e=this.props,t=e.userBooks;return e.isLoading?f.a.createElement(se,{empty:!0,loading:!0}):f.a.createElement("div",{className:"jsx-750826053 root"},t.map(function(e){return f.a.createElement(aF,{originalBook:e.originalBook,book:e.book,key:e.id})}),f.a.createElement(P.a,{id:"750826053"},[".root.jsx-750826053{background-color:white;min-height:100vh;padding:0 16px;}"]))}}])&&eF(n.prototype,r),o&&eF(n,o),t}(),cF=Object(a.b)(function(e){return{isLoading:e.sellOrderChanges.isChangedUserBooksLoading,userBooks:e.sellOrderChanges.changedUserBooks}},oF)(iF),lF=["审核后被拒绝的书如何处理？","审核被拒绝的书籍不会再上架销售。收到拒书通知后 72 小时内可在卖书订单中申请取回，首次拒书取回免费，之后需支付运费取回。异常订单或异常用户的拒书，不享受首次免费取回服务。不想取回或者 72 小时内未申请取回的，将统一处理。"],sF=lF[0],uF=lF[1],fF=function(){return f.a.createElement("article",{className:"jsx-4210344849"},f.a.createElement("header",{className:"jsx-4210344849"},f.a.createElement(jS,null,sF),f.a.createElement(ch,null,uF)),f.a.createElement(P.a,{id:"4210344849"},["article.jsx-4210344849{padding:15px;}"]))},pF=n("GBY4"),dF=n.n(pF);function mF(e){return(mF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bF(e,t){return!t||"object"!==mF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hF(e){return(hF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gF(e,t){return(gF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vF=["v2ex.com","douban.com"],xF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bF(this,hF(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gF(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.getRedirectLink();e&&(Object(_l.a)("redirect",e),window.location.replace(e))}},{key:"getRedirectLink",value:function(){var e=this.props.location.search,t=Object(Mt.a)(e).link,n=dF()(t).hostname,r=window.location.hostname,o=n===r;return vF.some(function(e){return n.endsWith(e)})||o?t:""}},{key:"render",value:function(){this.props.staticContext,this.getRedirectLink();return null}}])&&yF(n.prototype,r),o&&yF(n,o),t}(),wF=n("OtLZ"),OF=Object(He.d)(function(e,t){return function(n,r){var o="/rejected-books?status=".concat(t),a=r().rejected?Object(Mc.p)(r().rejected.userBooks,t):null;return n({isReset:e,status:t,fetch:{types:[Uo.ee,Uo.fe,Uo.de],from:e||!a?o:a,schema:Ve.a.userBooks}})}}),EF=Object(He.d)(function(e){return{type:Uo.Se,payload:e}}),jF=function(e){var t=e.text;return f.a.createElement("div",{className:P.a.dynamic([["73240140",[L.a.lighterFont]]])+" root"},t,f.a.createElement(ma.a,{to:"/support/recall",style:{marginLeft:4,marginTop:-4}},f.a.createElement(oe,{style:{width:14,height:14}})),f.a.createElement(P.a,{id:"73240140",dynamic:[L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#fff;font-size:13px;color:".concat(L.a.lighterFont,";padding:12px;}")]))},kF={flexShrink:0,marginLeft:6},_F=function(e){var t=e.selectedCount,n=e.selectableCount,r=e.shippingCost,o=e.onSelectAll,a=e.onSubmit;return f.a.createElement(Ze.a,null,f.a.createElement(xg,null,n>0&&f.a.createElement(Rg,{selected:n===t,onChange:function(e){return o(e)},checkBoxStyle:{borderRadius:999}},f.a.createElement(fe.a,{centerAlign:!0,style:kF},0===t?"全选":"已选 ".concat(t))),f.a.createElement(wg,null,f.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},0===r?f.a.createElement(fe.a,null,"首次取回免邮费"):f.a.createElement(f.a.Fragment,null,f.a.createElement(fe.a,null,"运费"),f.a.createElement(fe.a,{large:!0,emphasis:!0,price:!0,following:!0},r)))),f.a.createElement(D.a,{disabled:0===t,primary:!0,onClick:a},"取回")))},SF=function(e){var t=e.text;return f.a.createElement("div",{className:P.a.dynamic([["283448718",[L.a.lighterFont]]])+" root"},t,f.a.createElement(P.a,{id:"283448718",dynamic:[L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{text-align:center;margin-top:180px;font-size:13px;color:".concat(L.a.lighterFont,";}")]))},CF=function(e){var t=e.children;return f.a.createElement("div",{className:P.a.dynamic([["4067276388",[L.a.lightGray]]])+" root"},t,f.a.createElement(P.a,{id:"4067276388",dynamic:[L.a.lightGray]},[".root.__jsx-style-dynamic-selector{background-color:#fff;padding:0 15px;border-top:1px solid ".concat(L.a.lightGray,";}")]))};function PF(e){return(PF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TF(e,t){return!t||"object"!==PF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NF(e){return(NF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RF(e,t){return(RF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var LF={waiting_retrieved:function(e){var t=new Date(e.reviewedTime).getTime()+2592e5;return f.a.createElement(f.a.Fragment,null,f.a.createElement(be,{relative:!0,noStartPadding:!0,value:t}),"过期")},has_retrieved:function(e){return e.retrievalOrder?f.a.createElement(f.a.Fragment,null,f.a.createElement(be,{value:e.retrievalOrder.paidAt,dateOnly:!0})," 取回，".concat("received"===e.retrievalOrder.status?"已签收":"寄送中")):null},overdue:function(e){return f.a.createElement("span",{style:{color:L.a.lighterFont}},f.a.createElement(be,{value:e.reviewedTime,dateOnly:!0})," 被拒")}},AF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TF(this,NF(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RF(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.userbook,t=e.id,n=e.book,r=n.title,o=n.images,a=e.reasons,i=e.status,c=e.source,l=e.images,s=e.rejectInfo,u=s?LF[s.status](s):null,p=l&&l.length;return f.a.createElement("div",{className:"jsx-478287978 root"},f.a.createElement(Ga.a,{mini:!0,images:o,className:"image"}),f.a.createElement("div",{className:"jsx-478287978 content"},f.a.createElement("h2",{className:"jsx-478287978 title"},r),f.a.createElement("div",{className:"jsx-478287978 body"},f.a.createElement(ma.a,{className:"description",to:p?"/userbooks/".concat(t,"/images"):"/support/condition"},f.a.createElement("span",{style:{color:L.a.lighterFont,display:"flex",alignItems:"center"},className:"jsx-478287978"},PR({reasons:a,status:i,source:c}),p?f.a.createElement(TR,{style:{marginLeft:3},fill:L.a.lighterFont}):f.a.createElement(qn.a,null)))),f.a.createElement("div",{className:"jsx-478287978 footer"},u)),f.a.createElement(P.a,{id:"478287978"},[".root.jsx-478287978{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:13px;color:inherit;font-size:14px;-webkit-text-decoration:none;text-decoration:none;}",".image.jsx-478287978{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".content.jsx-478287978{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-left:12px;}",".title.jsx-478287978{margin:0 24px 2px 0;font-size:inherit;font-weight:400;}",".body.jsx-478287978{font-size:12px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".footer.jsx-478287978{font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}}])&&IF(n.prototype,r),o&&IF(n,o),t}();function FF(e){return(FF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BF(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function DF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MF(e){return(MF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zF(e,t){return(zF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}AF.propTypes={userbook:de.a.shape({book:de.a.shape({title:de.a.string,images:de.a.object})}).isRequired};var GF={loadRejectedUserBooks:OF,selectRejectedUserBooks:EF},HF=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=MF(t).call(this,e))||"object"!==FF(o)&&"function"!=typeof o?UF(r):o).onSelectAll=n.onSelectAll.bind(UF(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zF(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadRejectedUserBooks(!0,"waiting_retrieved")}},{key:"componentDidUpdate",value:function(e){var t=e.userBooks.length>0&&e.userBooks.length!==this.props.userBooks.length,n=e.userBooks.length===e.selectedIds.length;t&&n&&this.onSelectAll(!0)}},{key:"hasSelected",value:function(e){return this.props.selectedIds.includes(e)}},{key:"onSelect",value:function(e,t){var n=t?[].concat(BF(this.props.selectedIds),[e]):Object(wF.a)(this.props.selectedIds,e);this.props.selectRejectedUserBooks(n)}},{key:"onSelectAll",value:function(e){var t=e?this.props.userBooks.map(function(e){return e.id}):[];this.props.selectRejectedUserBooks(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.userBooks,r=t.selectedIds,o=t.shippingCost,a=t.loadStatus;return f.a.createElement("div",null,f.a.createElement(jF,{text:"被拒 3 天内可自付邮费取回，首次取回免费"}),f.a.createElement(Ut.a,{loadStatus:a,items:n,loader:function(){return e.props.loadRejectedUserBooks(!1,"waiting_retrieved")},renderEmptyContent:function(){return f.a.createElement(SF,{text:"没有可取回的被拒书"})},renderItem:function(t){return f.a.createElement(CF,{key:t.id},f.a.createElement(Rg,{selected:e.hasSelected(t.id),onChange:function(n){return e.onSelect(t.id,n)}},f.a.createElement(AF,{userbook:t})))}}),f.a.createElement(_F,{selectedCount:r.length,selectableCount:n.length,shippingCost:o,onSelectAll:this.onSelectAll,onSubmit:function(){return Object(A.a)().push("/rejected/checkout")}}))}}])&&DF(n.prototype,r),o&&DF(n,o),t}(),WF=Object(a.b)(function(e){return{userBooks:Object(F.E)("waiting_retrieved")(e),selectedIds:e.rejected.selected,shippingCost:Object(F.F)(e),loadStatus:Object(F.D)("waiting_retrieved")(e)}},GF)(HF);function VF(e){return(VF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qF(e,t){return!t||"object"!==VF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YF(e){return(YF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QF(e,t){return(QF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ZF={loadRejectedUserBooks:OF},XF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qF(this,YF(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QF(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadRejectedUserBooks(!0,"has_retrieved")}},{key:"render",value:function(){var e=this,t=this.props,n=t.userBooks,r=t.loadStatus;return f.a.createElement("div",null,f.a.createElement(Ut.a,{loadStatus:r,items:n,loader:function(){return e.props.loadRejectedUserBooks(!1,"has_retrieved")},renderEmptyContent:function(){return f.a.createElement(SF,{text:"没有取回过被拒书"})},renderItem:function(e){return f.a.createElement(CF,{key:e.id},f.a.createElement(AF,{userbook:e}))}}))}}])&&KF(n.prototype,r),o&&KF(n,o),t}(),JF=Object(a.b)(function(e){return{userBooks:Object(F.E)("has_retrieved")(e),loadStatus:Object(F.D)("has_retrieved")(e)}},ZF)(XF);function $F(e){return($F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tB(e,t){return!t||"object"!==$F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nB(e){return(nB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rB(e,t){return(rB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oB={loadRejectedUserBooks:OF},aB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tB(this,nB(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rB(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadRejectedUserBooks(!0,"overdue")}},{key:"render",value:function(){var e=this.props,t=e.userBooks,n=e.loadStatus;return f.a.createElement("div",null,f.a.createElement(jF,{text:"超过被拒时间 3 天以上的书不可取回"}),f.a.createElement(Ut.a,{loadStatus:n,items:t,loader:function(){return OF(!1,"overdue")},renderEmptyContent:function(){return f.a.createElement(SF,{text:"没有过期的被拒书"})},renderItem:function(e){return f.a.createElement(CF,{key:e.id},f.a.createElement(AF,{userbook:e}))}}))}}])&&eB(n.prototype,r),o&&eB(n,o),t}(),iB=Object(a.b)(function(e){return{userBooks:Object(F.E)("overdue")(e),loadStatus:Object(F.D)("overdue")(e)}},oB)(aB);function cB(e){return(cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sB(e,t){return!t||"object"!==cB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uB(e){return(uB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fB(e,t){return(fB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sB(this,uB(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fB(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-1877484196 root"},f.a.createElement(ue.a,{title:"取回被拒书"}),f.a.createElement("div",{className:"jsx-1877484196 tab"},f.a.createElement(jd,{even:!0},f.a.createElement(kd,{exact:!0,replace:!0,to:"/rejected"},"可取回"),f.a.createElement(kd,{exact:!0,replace:!0,to:"/rejected/retrieved"},"已取回"),f.a.createElement(kd,{exact:!0,replace:!0,to:"/rejected/overdue"},"已过期"))),f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:"/rejected",component:WF}),f.a.createElement(i.a,{exact:!0,path:"/rejected/retrieved",component:JF}),f.a.createElement(i.a,{exact:!0,path:"/rejected/overdue",component:iB})),f.a.createElement(P.a,{id:"1877484196"},[".root.jsx-1877484196{min-height:100vh;}"]))}}])&&lB(n.prototype,r),o&&lB(n,o),t}(),dB=Object(Ne.a)(pB);function mB(e){return(mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bB(e){return(bB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(e,t){return(gB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vB={onCheckout:function(e){return function(t,n){var r=n(),o=Object(F.N)(r).map(function(e){return e.id}),a=r.address.values;"wechat"===e&&(e=Object(k.a)()),t({userBookIds:o,paymentMethod:e,fetch:{types:[Uo.ye,Uo.ze],from:"post /retrieval",body:{payWay:e,userBooks:o,address:sA({},a)},beforeSuccess:function(e){pA("/orders/retrieval/".concat(e.id))}}}).then(function(n){Object(_l.a)("retrieval","deal",n.price),"dzy"===e?(t(Object(_.g)("logistics")),t(Object(We.d)("ORDER_SUCCESS"))):"paid"===n.status?t(Object(We.d)("ORDER_SUCCESS")):t(dA(n)),t(yk("order-".concat(n.id,"-status"),!0))},function(n){t({type:Uo.xe,paymentMethod:e,userBookIds:o,error:n})})}},onLoadSettings:Ko.b,onValidateOrderForm:function(){return function(e,t){var n=t().address,r=n.values,o=n.regions,a=fA(Object(mk.b)(r,["name","phone","province","city","district","street"]),2),i=a[0],c=a[1];return c||(c=Object(mk.c)(r,o.retrieval))&&(i.district=!0),!Object.keys(i).length||(e(Object(bk.c)(i)),e(Object(We.d)(c)),!1)}}},xB={padding:15},wB={marginLeft:6},OB=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=bB(t).call(this,e))||"object"!==mB(o)&&"function"!=typeof o?hB(r):o).state={paymentMethod:null},n.handleBalancePay=n.handleBalancePay.bind(hB(n)),n.handleWechatPay=n.handleWechatPay.bind(hB(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gB(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){"PUSH"===this.props.history.action&&window.scrollTo(0,0),this.props.onLoadSettings()}},{key:"handleCheckout",value:function(e){var t=this.props,n=t.onCheckout,r=t.onValidateOrderForm,o=t.finalShippingCost;r()&&n(0===o?"zero":e)}},{key:"handleBalancePay",value:function(){this.handleCheckout("dzy")}},{key:"handleWechatPay",value:function(){this.handleCheckout("wechat")}},{key:"render",value:function(){var e=this.props,t=e.finalShippingCost,n=e.balance,r=e.selectedBooks,o=e.isLoading;if(!r.length)return f.a.createElement(xd.a,{to:"/rejected"});var a=n>=t,i="取回 ".concat(r.length," 本，").concat(t?"需支付运费：":"首次取回免运费"),c=0===t?function(){return"确认取回"}:void 0;return f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" root"},f.a.createElement(ue.a,{title:"下单"}),f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" section"},f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" header"},"填写收货人信息"),f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" content"},f.a.createElement(ma.a,{to:"/support?section=buy&item=2"},f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" info"},f.a.createElement("p",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])},"使用中通 / EMS 等快递发货，了解具体发货规则？"))),f.a.createElement(t_,{type:"retrieval"}))),f.a.createElement("div",{style:{padding:"0 15px"},className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" section"},f.a.createElement(a_,{items:r,isRetrieval:!0,finalPrefix:i,final:t},f.a.createElement(ri,{name:"运费",value:t,icon:f.a.createElement(ae,{to:"/support/shipping-cost",style:wB})}))),f.a.createElement(Ze.a,null,f.a.createElement("div",{className:P.a.dynamic([["663995778",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]]])+" bar"},f.a.createElement(Xe.a,null,f.a.createElement(Ca,{style:xB,balancePrice:t,balanceDisabled:o,balanceAvailable:a,onBalanceClick:this.handleBalancePay,wechatPrice:t,wechatDisabled:o,onWechatClick:this.handleWechatPay,balanceRenderer:c,hideWechat:0===t})))),f.a.createElement(P.a,{id:"663995778",dynamic:[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,"0.1"),L.a.lightGray]},[".root.__jsx-style-dynamic-selector{padding-bottom:145px;}",".section.__jsx-style-dynamic-selector{padding:15px 15px 0;background:#fff;}",".section.__jsx-style-dynamic-selector+.section.__jsx-style-dynamic-selector{margin-top:15px;}",".header.__jsx-style-dynamic-selector{font-size:15px;}",".header.__jsx-style-dynamic-selector+.content.__jsx-style-dynamic-selector{margin-top:15px;border-top:0.5px solid ".concat(L.a.gray,";padding-top:15px;overflow:auto;}"),".info.__jsx-style-dynamic-selector{margin-bottom:15px;padding:0.4em;color:".concat(L.a.emphasis,";font-size:13px;text-align:center;background:").concat(Object(mi.a)(L.a.emphasis,"0.1"),";border-radius:5px;}"),".bar.__jsx-style-dynamic-selector{background:".concat(L.a.lightGray,";}")]))}}])&&yB(n.prototype,r),o&&yB(n,o),t}(),EB=Object(a.b)(function(e){return{selectedBooks:Object(F.N)(e),isLoading:e.rejected.isCheckoutLoading,finalShippingCost:Object(F.F)(e),balance:e.account.balance}},vB)(OB),jB=["卖书的实际收入与预计收入有差别？","多抓鱼会在收到书之后进行人工审核，包括确定书的原价，品相是否满足要求，是否有多寄、少寄、错寄等情况，以上均可能影响实际收入。如对审核结果有疑问，可在卖书订单完成后的 15 日内联系客服处理。对被拒绝的书有疑问则需在 72 小时的取回时效内联系客服处理。"],kB=jB[0],_B=jB[1],SB=function(){return f.a.createElement("article",{className:"jsx-4210344849"},f.a.createElement("header",{className:"jsx-4210344849"},f.a.createElement(jS,null,kB),f.a.createElement(ch,null,_B)),f.a.createElement(P.a,{id:"4210344849"},["article.jsx-4210344849{padding:15px;}"]))};function CB(e){return(CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IB(e){return(IB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NB(e,t){return(NB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var RB={logScrollEvent:g.f},LB=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=IB(t).call(this,e))||"object"!==CB(o)&&"function"!=typeof o?TB(r):o).timer=null,n.beginScrollTop=0,n.handleScroll=n.handleScroll.bind(TB(n)),n.handleLog=n.handleLog.bind(TB(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NB(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this;this.timer?clearTimeout(this.timer):this.beginScrollTop=Object(w.b)(),this.timer=setTimeout(function(){e.handleLog(),e.timer=null},200)}},{key:"handleLog",value:function(){var e=this.props.logScrollEvent,t=document.body.clientHeight,n=Object(w.b)();e({beginScrollTop:this.beginScrollTop,endScrollTop:n,clientHeight:t})}},{key:"render",value:function(){return null}}])&&PB(n.prototype,r),o&&PB(n,o),t}(),AB=Object(a.b)(null,RB)(LB),FB=n("jrpX");function BB(){return(BB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var DB=function(e){return f.a.createElement("svg",BB({width:"15",viewBox:"0 0 31 30",xmlns:"http://www.w3.org/2000/svg"},e),f.a.createElement("g",{fill:"currentColor",transform:"translate(-64.000000, -343.000000)"},f.a.createElement("path",{d:"M92.5058744,350.599669 L87.7616885,350.599669 L88.6287981,345.117941 C88.7506758,344.606673 88.6319951,344.067741 88.3066285,343.654963 C87.981262,343.242184 87.4849565,343.00091 86.959363,343.000001 C85.7758266,343.065123 84.7981712,343.947297 84.612187,345.117941 L83.7450774,350.599669 L76.8480677,350.599669 L77.7201607,345.117941 C77.8422406,344.605823 77.7229531,344.066 77.3964465,343.653008 C77.0699399,343.240016 76.5722101,342.999385 76.0457421,343.000001 C74.8602134,343.058003 73.8801735,343.944209 73.7035495,345.117941 L72.8314565,350.599669 L68.0872707,350.599669 C66.9392747,350.634136 65.9704624,351.463954 65.7600282,352.593024 C65.6610696,353.092061 65.7950691,353.608988 66.1239994,353.997106 C66.4529297,354.385225 66.9408877,354.602171 67.4493969,354.586379 L72.1935828,354.586379 L71.1022207,361.513289 L66.3580349,361.513289 C65.2100389,361.547757 64.2412265,362.377574 64.0307924,363.506645 C63.9338255,364.005387 64.068559,364.521181 64.3970543,364.908786 C64.7255495,365.296391 65.2122692,365.513876 65.7201611,365.5 L70.4743138,365.5 L69.6221543,370.88206 C69.5002766,371.393328 69.6189574,371.93226 69.9443239,372.345038 C70.2696904,372.757817 70.7659959,372.999091 71.2915895,373 C72.4743551,372.933029 73.4510207,372.051749 73.6387655,370.88206 L74.4610246,365.529901 L81.3779678,365.529901 L80.5307918,370.88206 C80.4107415,371.393954 80.5308135,371.93265 80.8568948,372.345105 C81.1829761,372.757559 81.6794293,372.998693 82.2052103,373 C83.386836,372.932611 84.3618306,372.050967 84.5474029,370.88206 L85.394579,365.529901 L90.1387648,365.529901 C91.2860397,365.493572 92.2538443,364.664617 92.4660073,363.536545 C92.5649659,363.037508 92.4309664,362.520581 92.1020361,362.132463 C91.7731058,361.744345 91.2851478,361.527398 90.7766386,361.54319 L86.0324527,361.54319 L87.1238148,354.64618 L91.8680006,354.64618 C93.0159966,354.611713 93.984809,353.781895 94.1952431,352.652825 C94.3155942,352.145003 94.1915397,351.610119 93.8599434,351.207117 C93.528347,350.804115 93.0273672,350.579371 92.5058744,350.599669 Z M82.0158416,361.513289 L75.1188319,361.513289 L76.2101939,354.61628 L83.1072036,354.61628 L82.0158416,361.513289 Z"})))};function MB(e){return(MB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zB(e,t,n[t])})}return e}function zB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GB(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function HB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WB(e){return(WB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(e,t){return(KB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qB=Object(A.a)().push,YB=function(e){return e.querySelectorAll(".suggestion-item")},QB={width:16,height:16,flexShrink:0,marginRight:14,color:L.a.confusingGray},ZB=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=WB(t).call(this,e))||"object"!==MB(o)&&"function"!=typeof o?VB(r):o).currentDisplayId="",n.handleClickSearch=n.handleClickSearch.bind(VB(n)),n.getTrackSuggestionItemData=n.getTrackSuggestionItemData.bind(VB(n)),n.renderSuggectionItem=n.renderSuggectionItem.bind(VB(n)),n.renderSuggestionContentContainer=n.renderSuggestionContentContainer.bind(VB(n)),n.handleTrackStart=n.handleTrackStart.bind(VB(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KB(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleClickSearch",value:function(e){var t=this.props,n=t.keyword,r=t.onSearch;e.preventDefault(),r(n,{from:"direct"})}},{key:"handleTrackStart",value:function(e){var t=e.requestId;this.currentDisplayId=t}},{key:"getTrackSuggestionItemData",value:function(e){var t=this.props.suggestions;return e.map(function(e){var n=e.index,r=GB(e,["index"]),o=t[n],a=o.type;return UB({},r,{index:n,objectType:a,objectId:"word"===a?o.id:o[a].id})}).filter(function(e){var t=e.objectId;return null!=t})}},{key:"renderSuggectionItem",value:function(e,t){var n=this,r=this.props,o=r.keyword,a=r.onSearch,i={from:"suggestion",type:e.type,index:t,keyword:o};if(["tag","producer","category"].includes(e.type)){var c=e.tag||e.producer||e.category,l=c.id,s=c.name,u=c.booksCount,p="category"===e.type?"categories":"tags",d="/".concat(p,"/").concat(l);return f.a.createElement("div",{key:l,onClick:function(){qB({pathname:d,state:UB({},i,{displayLogId:n.currentDisplayId})})},className:P.a.dynamic([["3323841483",[L.a.confusingGray,L.a.lightFont,L.a.primary,L.a.lighterFont]]])+" suggestion-item"},f.a.createElement(DB,{style:QB}),f.a.createElement("span",{className:P.a.dynamic([["3323841483",[L.a.confusingGray,L.a.lightFont,L.a.primary,L.a.lighterFont]]])+" highlight"},s),f.a.createElement("span",{className:P.a.dynamic([["3323841483",[L.a.confusingGray,L.a.lightFont,L.a.primary,L.a.lighterFont]]])+" holder"}),f.a.createElement("span",{className:P.a.dynamic([["3323841483",[L.a.confusingGray,L.a.lightFont,L.a.primary,L.a.lighterFont]]])+" books-count"},"".concat(u," 本在售")),f.a.createElement(qn.a,{stroke:L.a.lighterFont}),f.a.createElement(P.a,{id:"3323841483",dynamic:[L.a.confusingGray,L.a.lightFont,L.a.primary,L.a.lighterFont]},[".suggestion-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:45px;padding:0px 15px;overflow:hidden;border-bottom:0.5px solid ".concat(L.a.confusingGray,";color:").concat(L.a.lightFont,";font-size:14px;font-weight:normal;white-space:nowrap;}"),".highlight.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}"),".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".books-count.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}")]))}if("book"===e.type){var m=e.book,y=m.id,b=m.images,h=m.title,g=m.rawAuthor,v=m.price,x=m.goods;return f.a.createElement("div",{key:y,onClick:function(){qB({pathname:"/books/".concat(y),state:UB({},i,{displayLogId:n.currentDisplayId})})},className:P.a.dynamic([["3008621126",[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]]])+" suggestion-item"},f.a.createElement(Ga.a,{mini:!0,fixHeight:!0,images:b}),f.a.createElement("div",{className:P.a.dynamic([["3008621126",[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]]])+" book-info"},f.a.createElement("div",{className:P.a.dynamic([["3008621126",[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]]])+" title"},h),f.a.createElement("div",{className:P.a.dynamic([["3008621126",[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]]])+" author"},g),f.a.createElement("div",{className:P.a.dynamic([["3008621126",[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]]])+" holder"}),f.a.createElement(Xp,{goods:x,price:v})),f.a.createElement(P.a,{id:"3008621126",dynamic:[L.a.confusingGray,L.a.lightFont,L.a.font,L.a.lighterFont]},[".suggestion-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:17px 15px;overflow:hidden;border-bottom:1px solid ".concat(L.a.confusingGray,";color:").concat(L.a.lightFont,";font-size:14px;}"),".book-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-left:10px;}",".title.__jsx-style-dynamic-selector{font-size:14px;font-weight:normal;color:".concat(L.a.font,";}"),".author.__jsx-style-dynamic-selector{margin-top:2px;font-size:11px;font-weight:300;color:".concat(L.a.lighterFont,";}"),".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))}if("word"===e.type){var w=e.word,O=e.span,E=e.id;return f.a.createElement("div",{key:E,onClick:function(){a(w,UB({},i,{displayLogId:n.currentDisplayId}))},className:P.a.dynamic([["2933318734",[L.a.confusingGray,L.a.lightFont,L.a.primary]]])+" suggestion-item"},f.a.createElement(Ym,{style:QB}),f.a.createElement("div",{className:P.a.dynamic([["2933318734",[L.a.confusingGray,L.a.lightFont,L.a.primary]]])+" suggestion-keyword"},O.map(function(e,t){var n=e.type,r=e.text;return f.a.createElement("span",{key:t,className:P.a.dynamic([["2933318734",[L.a.confusingGray,L.a.lightFont,L.a.primary]]])+" "+(N()({highlight:"highlight"===n})||"")},r)})),f.a.createElement(P.a,{id:"2933318734",dynamic:[L.a.confusingGray,L.a.lightFont,L.a.primary]},[".suggestion-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:45px;padding:0px 15px;overflow:hidden;border-bottom:1px solid ".concat(L.a.confusingGray,";color:").concat(L.a.lightFont,";font-size:14px;font-weight:normal;white-space:nowrap;}"),".suggestion-keyword.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;}",".highlight.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";}")]))}return null}},{key:"renderSuggestionContentContainer",value:function(e){var t=e.children,n=this.props.keyword;return f.a.createElement("div",{className:"jsx-1334592749 suggestion-container"},f.a.createElement("div",{className:"jsx-1334592749 suggestion-list"},t),f.a.createElement("div",{className:"jsx-1334592749 suggestion-footer"},f.a.createElement(ma.a,{withArrow:!0,block:!0,colored:!0,onClick:this.handleClickSearch},"显示「".concat(n,"」的搜索结果"))),f.a.createElement(P.a,{id:"1334592749"},[".suggestion-container.jsx-1334592749{background-color:#fff;}",".suggestion-footer.jsx-1334592749{margin:14px 0;text-align:center;}"]))}},{key:"render",value:function(){var e=this.props,t=e.suggestions,n="loaded"===e.loadStatus;return f.a.createElement(iE,{active:n,direction:"column",module:"search_keyword_suggestion",shouldLogAfterLocationChange:ya.a,getTrackDOMItems:YB,getTrackItemData:this.getTrackSuggestionItemData,onTrackStart:this.handleTrackStart},f.a.createElement(Ut.a,{infiniteScrolling:!1,items:t,renderItem:this.renderSuggectionItem,contentContainer:this.renderSuggestionContentContainer}))}}])&&HB(n.prototype,r),o&&HB(n,o),t}();n("oSlh");function XB(e){return(XB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $B(e,t){return!t||"object"!==XB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eD(e){return(eD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tD(e,t){return(tD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nD={fontSize:"11px",padding:"0 4px"},rD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$B(this,eD(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tD(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.id;return f.a.createElement(Nf,{id:e},function(t){var n,r=t.title,o=t.goods,a=t.price,i=t.stock,c=t.images,l=t.rawAuthor,s=t.publisher,u=t.doubanRating,p=t.hasMultiVersion,d=t.expectedPutawayDays,m=t.latestPutawayTime,y=t.virtuals,b=(void 0===y?{}:y).cartBook;if(i){var h=Object(Do.c)(o,a,b),g=Object(Do.o)(o,b);n=Object(Do.n)(o,b)?f.a.createElement(rc,{small:!0}):f.a.createElement(Mo.a,{sign:!0,normal:!0,n:h,suffix:g})}else n=f.a.createElement(qa,{basic:!0,expectedPutawayDays:d,latestPutawayTime:m,expectedStyle:{color:L.a.primary,fontSize:12},latestStyle:{fontSize:12}});return f.a.createElement(At.a,{component:M.a,to:"/books/".concat(e),className:"SearchBookItem"},f.a.createElement(At.a,{item:!0,mini:!0,noShrink:!0,fixHeight:!0,bottomLabel:!0,component:Ga.a,images:c,inStock:i,className:"SearchBookItem-image"}),f.a.createElement(At.a,{column:!0,evenBetween:!0,grow:!0},f.a.createElement("h2",{className:"SearchBookItem-title"},r),f.a.createElement(At.a,{grow:!0},f.a.createElement(At.a,{column:!0,grow:!0,evenBetween:!0},f.a.createElement("div",{className:"SearchBookItem-description"},[l,s,Object(Do.l)(u)].filter(Boolean).join(" / ")),f.a.createElement("div",{className:"SearchBookItem-meta"},n,p&&f.a.createElement(Ua.a,{primary:!0,style:nD},"多版本可选"))),f.a.createElement(At.a,{alignBottom:!0},i?f.a.createElement(WE,{cartBookId:b?b.id:0,bookId:e,isAddedToCart:b&&!b.inStockRemind}):f.a.createElement(kv,{inSearch:!0,cartBookId:b?b.id:0,itemId:e})))))})}}])&&JB(n.prototype,r),o&&JB(n,o),t}();function oD(e){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iD(e,t){return!t||"object"!==oD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cD(e){return(cD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lD(e,t){return(lD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sD={marginBottom:16},uD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iD(this,cD(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lD(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.booksCount,o=e.label,a=e.pathRoot;return f.a.createElement(M.a,{to:"".concat(a,"/").concat(t),className:"Search-tag",style:sD},f.a.createElement("div",{className:"Search-tagImage"},f.a.createElement(DB,null)),f.a.createElement("div",{className:"Search-tagName"},f.a.createElement(fe.a,{padEnd:!0},n),o),r&&f.a.createElement("div",{className:"Search-tagMeta"},f.a.createElement(fe.a,{padEnd:!0},r),"本在售",f.a.createElement(so,{className:"Search-tagIcon"})))}}])&&aD(n.prototype,r),o&&aD(n,o),t}(),fD=Object(a.b)(function(e,t){var n,r,o,a,i=t.id,c=t.tag,l=t.category,s=t.producer,u=e.entities;if(c){var f=Object(Pe.z)(u,i);n=f.name,r=f.booksCount,o="分类",a="/tags"}else if(s){var p=Object(Pe.v)(u,i);n=p.name,r=p.booksCount,o="出品",a="/tags"}else if(l){var d=Object(Pe.g)(u,i);n=d.name,r=d.booksCount,o="分类",a="/categories"}return{name:n,booksCount:r,label:o,pathRoot:a}})(uD);function pD(e){return(pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mD(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function yD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bD(e){return(bD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(e,t){return(gD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vD={stroke:L.a.font},xD=function(e){return e.querySelectorAll(".Search-tag, .SearchBookItem")},wD=function(e){var t=e.children;return f.a.createElement("div",{className:"jsx-1345442443 result-list"},t,f.a.createElement(P.a,{id:"1345442443"},[".result-list.jsx-1345442443{margin-top:16px;}"]))},OD=function(){return f.a.createElement("div",{className:"jsx-717546988 empty-hint"},"没有找到相关内容",f.a.createElement(P.a,{id:"717546988"},[".empty-hint.jsx-717546988{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:80px;}"]))},ED=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=bD(t).call(this,e))||"object"!==pD(o)&&"function"!=typeof o?hD(r):o).getTrackItemData=n.getTrackItemData.bind(hD(n)),n.renderResultItem=n.renderResultItem.bind(hD(n)),n.renderSSRFooter=n.renderSSRFooter.bind(hD(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gD(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"getTrackItemData",value:function(e){var t=this.props.results;return e.map(function(e){var n=e.index,r=mD(e,["index"]),o=t[n],a=o.type;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){dD(e,t,n[t])})}return e}({},r,{index:n,objectType:a,objectId:o[a]})}).filter(function(e){return e.objectId})}},{key:"renderSSRFooter",value:function(){var e=this.props.nextUrl;return f.a.createElement(gj,{nextUrl:e})}},{key:"renderResultItem",value:function(e,t){var n=this.props,r=n.enableMixSearchResult,o=n.bookDividerIndex,a=r?"无货的书可以点击「到货提醒」有货了马上通知你":"以下书暂时无货，点击「到货提醒」有货了通知你";switch(e.type){case"tag":var i=e.tag;return f.a.createElement(fD,{tag:!0,key:i,id:i});case"producer":var c=e.producer;return f.a.createElement(fD,{producer:!0,key:c,id:c});case"category":var l=e.category;return f.a.createElement(fD,{category:!0,key:l,id:l});case"book":var s=e.book,p=f.a.createElement(rD,{key:s,id:s});return t===o?f.a.createElement(u.Fragment,{key:s},f.a.createElement("div",{className:"jsx-456630979 "+(N()("Search-sectionHeader","divider",{"first-row":0===t})||"")},a,f.a.createElement(lv,{hintRenderer:Dt.a,iconStyle:vD})),p,f.a.createElement(P.a,{id:"456630979"},[".divider.jsx-456630979{margin-top:16px;}",".first-row.jsx-456630979{margin-top:0;}"])):p;default:return null}}},{key:"render",value:function(){var e=this.props,t=e.results,n=e.loadStatus,r=e.onLoadSearchResult,o=!["initial","failed","loading"].includes(n);return f.a.createElement(iE,{direction:"column",module:"search_result",active:o,shouldLogAfterLocationChange:ya.a,getTrackDOMItems:xD,getTrackItemData:this.getTrackItemData},f.a.createElement(Ut.a,{loader:r,items:t,loadStatus:n,threshold:600,renderItem:this.renderResultItem,renderEmptyContent:OD,contentContainer:wD,renderSSRFooter:this.renderSSRFooter}))}}])&&yD(n.prototype,r),o&&yD(n,o),t}();function jD(e){return(jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _D(e){return(_D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(e,t){return(CD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var PD={onChange:AC.b,onSubmit:AC.l},ID=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_D(t).call(this,e))||"object"!==jD(o)&&"function"!=typeof o?SD(r):o).state={keyword:e.keyword,description:"",showFeedbackForm:!1},n.handleKeyword=n.handleKeyword.bind(SD(n)),n.handleDescription=n.handleDescription.bind(SD(n)),n.handleSubmit=n.handleSubmit.bind(SD(n)),n.openModal=n.openModal.bind(SD(n)),n.closeModal=n.closeModal.bind(SD(n)),n.actions=[{label:"取消",onClick:n.closeModal},{label:"提交反馈",primary:!0,onClick:n.handleSubmit}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CD(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.onChange,t=this.state;e({keyword:t.keyword,description:t.description})}},{key:"handleKeyword",value:function(e){this.setState({keyword:e}),this.props.onChange({keyword:e})}},{key:"handleDescription",value:function(e){this.setState({description:e}),this.props.onChange({description:e})}},{key:"handleSubmit",value:function(){var e=this;this.props.onSubmit().then(function(){e.closeModal()})}},{key:"openModal",value:function(){this.setState({showFeedbackForm:!0})}},{key:"closeModal",value:function(){this.setState({keyword:this.props.keyword,description:"",showFeedbackForm:!1})}},{key:"renderFeedbackForm",value:function(){var e=this.state,t=e.keyword,n=e.description;return e.showFeedbackForm?f.a.createElement(ie.a,{actions:this.actions,onClose:this.closeModal},f.a.createElement("div",{className:P.a.dynamic([["3408387590",[L.a.lighterFont,L.a.lighterFont]]])+" search-feedback"},f.a.createElement("div",{className:P.a.dynamic([["3408387590",[L.a.lighterFont,L.a.lighterFont]]])+" title"},"搜索反馈"),f.a.createElement("div",{className:P.a.dynamic([["3408387590",[L.a.lighterFont,L.a.lighterFont]]])+" field-name"},"你想找的书"),f.a.createElement(it,{placeholder:"书名",value:t,onChange:this.handleKeyword,style:{height:"40px",background:"transparent"}}),f.a.createElement(it,{autoFocus:!0,type:"textarea",placeholder:"补充描述……",value:n,onChange:this.handleDescription,style:{marginTop:"16px",height:"80px",background:"transparent"}}),f.a.createElement("div",{className:P.a.dynamic([["3408387590",[L.a.lighterFont,L.a.lighterFont]]])+" hint"},"已输入 ",n.length," / 140 字")),f.a.createElement(P.a,{id:"3408387590",dynamic:[L.a.lighterFont,L.a.lighterFont]},[".search-feedback.__jsx-style-dynamic-selector{padding:24px;font-weight:normal;}",".title.__jsx-style-dynamic-selector{padding:8px 0 16px 0;font-size:18px;font-weight:500;text-align:center;}",".field-name.__jsx-style-dynamic-selector{font-size:14px;color:".concat(L.a.lighterFont,";text-align:left;margin-bottom:6px;}"),".hint.__jsx-style-dynamic-selector{font-size:12px;color:".concat(L.a.lighterFont,";text-align:right;margin-top:3px;}")])):null}},{key:"render",value:function(){return f.a.createElement(u.Fragment,null,this.renderFeedbackForm(),f.a.createElement(Ze.a,{paddingStyle:{backgroundColor:L.a.lightGray}},f.a.createElement(Xe.a,null,f.a.createElement("div",{onClick:this.openModal,className:P.a.dynamic([["3811406895",[L.a.lightGray,L.a.primary]]])+" feedback-bar"},f.a.createElement("span",{className:P.a.dynamic([["3811406895",[L.a.lightGray,L.a.primary]]])+" content"},"没搜到想找的书？向我们反馈"),f.a.createElement(qn.a,{stroke:L.a.primary}),f.a.createElement(P.a,{id:"3811406895",dynamic:[L.a.lightGray,L.a.primary]},[".feedback-bar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;background-color:".concat(L.a.lightGray,";cursor:pointer;}"),".content.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";font-size:14px;font-weight:400;}")])))))}}])&&kD(n.prototype,r),o&&kD(n,o),t}(),TD=Object(a.b)(function(e){return{keyword:e.search.keyword}},PD)(ID);n("ULV3");function ND(e){return(ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LD(e){return(LD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(e,t){return(FD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var BD={onLoadRecommendations:AC.f,onResetSearch:AC.j,onUpdateKeyword:AC.m,onReplaceSearch:AC.h,onLoadSearchResult:AC.g,onInitSearch:AC.c,onReplaceUrl:AC.i,onClearSearchResults:AC.a,onLoadKeywordSuggestion:AC.d},DD={position:"absolute",top:21,right:26},MD=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=LD(t).call(this,e))||"object"!==ND(o)&&"function"!=typeof o?AD(r):o).state={showSuggestions:!1},n.silentFocus=!1,n.getRef=n.getRef.bind(AD(n)),n.handleResetClick=n.handleResetClick.bind(AD(n)),n.handleInputKeydown=n.handleInputKeydown.bind(AD(n)),n.handleInputChange=n.handleInputChange.bind(AD(n)),n.doSearch=n.doSearch.bind(AD(n)),n.debounceReplaceSearch=MO()(e.onReplaceSearch,600),n.handleFocusInput=n.handleFocusInput.bind(AD(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FD(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.keyword,r=e.keywordInUrl,o=e.recommendations,a=e.onLoadRecommendations,i=e.onInitSearch;(!n&&r||"POP"!==t.action)&&i(r),o.length||a(),r||this.silentFocusInput()}},{key:"getRef",value:function(e){this.inputElement=e}},{key:"silentFocusInput",value:function(){this.silentFocus=!0,this.inputElement.focus(),this.silentFocus=!1}},{key:"handleFocusInput",value:function(){var e=this.state.showSuggestions,t=this.props,n=t.enableKeywordSuggestion,r=t.keyword,o=t.onLoadKeywordSuggestion;n&&(this.silentFocus||!e&&r&&(o(r),this.setState({showSuggestions:!0})))}},{key:"handleInputChange",value:function(e){var t=this.props,n=t.enableKeywordSuggestion;(0,t.onUpdateKeyword)(e),n?this.handleKeywordSuggestion(e):this.handleAutoSearch(e)}},{key:"handleKeywordSuggestion",value:function(e){var t=this.props.onLoadKeywordSuggestion;e?(t(e),this.setState({showSuggestions:!0})):this.handleResetSearch()}},{key:"handleAutoSearch",value:function(e){var t=this.props.onClearSearchResults;e?(t(),this.debounceReplaceSearch(e,"/search","normal",{from:"auto_search"})):this.handleResetSearch()}},{key:"handleResetClick",value:function(){this.handleResetSearch(),this.silentFocusInput()}},{key:"handleInputKeydown",value:function(e){var t=this.props.keyword;t&&13===e.keyCode&&(e.preventDefault(),this.inputElement.blur(),this.handleReplaceAndSearch(t,{from:"key_press"}))}},{key:"handleResetSearch",value:function(){var e=this.props,t=e.onReplaceUrl,n=e.onResetSearch;this.debounceReplaceSearch.clear(),n(),t("","/search"),this.setState({showSuggestions:!1})}},{key:"handleReplaceAndSearch",value:function(e,t){var n=this.props,r=n.onReplaceSearch;(0,n.onClearSearchResults)(),r(e,"/search","normal",t),this.setState({showSuggestions:!1})}},{key:"doSearch",value:function(e,t){(0,this.props.onUpdateKeyword)(e),this.handleReplaceAndSearch(e,t)}},{key:"renderInputButton",value:function(){return this.props.keyword?f.a.createElement(D.a,{icon:!0,className:"Search-resetButton",onClick:this.handleResetClick},f.a.createElement(Fb.a,{className:"Search-removeIcon"})):f.a.createElement(YC,{style:DD})}},{key:"renderRecommendation",value:function(){var e=this.props,t=e.recommendations,n=e.onUpdateKeyword,r=e.onReplaceSearch;return f.a.createElement("div",{className:"Search-section Search-section--padding"},f.a.createElement("h2",{className:"Search-sectionHeader--secondary"},"你可以试试搜"),f.a.createElement("div",{className:"Search-labels"},t.map(function(e){return f.a.createElement(M.a,{key:e,className:"Search-label",to:"/search/".concat(e),onClick:function(t){t.preventDefault(),n(e),r(e,"/search","normal",{from:"recommendations"})}},e)})))}},{key:"renderConvertedKeyword",value:function(){var e=this.props,t=e.keyword,n=e.meta,r=void 0===n?{}:n,o=e.onClearSearchResults,a=e.onReplaceSearch,i=r.searched_as;return i?f.a.createElement("div",{onClick:function(){o(),a(t,"/search","normal",{from:"direct"})},className:"jsx-340821540 search-as"},f.a.createElement("span",{className:"jsx-340821540 content"},"已显示",f.a.createElement(fe.a,{primary:!0,padStart:!0,padEnd:!0},i),"的搜索结果，仍然搜索",f.a.createElement(fe.a,{primary:!0,padStart:!0},t)),f.a.createElement("span",{className:"jsx-340821540 holder"}),f.a.createElement(qn.a,{stroke:L.a.darkGray}),f.a.createElement(P.a,{id:"340821540"},[".search-as.jsx-340821540{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;background-color:#fff;}",".content.jsx-340821540{margin-right:3px;line-height:1.5;}",".holder.jsx-340821540{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"])):null}},{key:"renderContent",value:function(){var e=this.props,t=e.enableKeywordSuggestion,n=e.enableMixSearchResult,r=e.keyword,o=e.suggestions,a=e.results,i=e.loadStatus,c=e.nextUrl,l=e.suggestionsLoadStatus,s=e.bookDividerIndex,u=e.recommendations,p=e.onLoadSearchResult,d=this.state.showSuggestions;return t&&d&&r?f.a.createElement(ZB,{keyword:r,loadStatus:l,suggestions:o,onSearch:this.doSearch}):!r&&u.length?this.renderRecommendation():"initial"!==i?f.a.createElement("div",{className:"jsx-1472534713 search-results"},this.renderConvertedKeyword(),f.a.createElement(ED,{loadStatus:i,results:a,nextUrl:c,enableMixSearchResult:n,bookDividerIndex:s,onLoadSearchResult:p}),f.a.createElement(TD,null),f.a.createElement(P.a,{id:"1472534713"},[".search-results.jsx-1472534713{padding-bottom:40px;}"])):null}},{key:"render",value:function(){var e=this.props,t=e.keyword,n=e.keywordInUrl;return f.a.createElement("div",{className:"Search"},f.a.createElement(ue.a,{title:"搜索"}),n&&f.a.createElement(Bc.a,{link:"".concat("/search","/").concat(encodeURIComponent(n)),title:"".concat(n," 的搜索结果"),desc:"多抓鱼"}),f.a.createElement("div",{className:"Search-header"},f.a.createElement(Xe.a,null,f.a.createElement("form",{action:"#",className:"Search-form"},f.a.createElement(XC,{value:t,placeholder:"书名 / 作者 / 分类",domRef:this.getRef,onKeyDown:this.handleInputKeydown,onChange:this.handleInputChange,onFocus:this.handleFocusInput}),this.renderInputButton()))),this.renderContent(),f.a.createElement(G,{hasBottomBar:!0}),f.a.createElement(bc,null))}}])&&RD(n.prototype,r),o&&RD(n,o),t}(),UD=Object(a.b)(function(e,t){var n=t.match.params,r=e.entities,o=e.search,a=o.keywordSuggestions,i=o.keywordSuggestionsLoadStatus,c=o.recommendations,l=Object(FB.d)(o),s=Object(Pe.x)(r),u=Object(FB.f)(e),f=Object(FB.e)(e),p=Object(FB.h)(e),d=Object(FB.g)(e),m=u.map(function(e){return s[e]}),y=Ce(e,"mixSearchResult"),b=Ce(e,"keywordSuggestion"),h=m.findIndex(function(e){return!("book"!==e.type||!y&&Object(Pe.c)(r,e.book).stock)});return{keyword:l,results:m,nextUrl:p,meta:d,loadStatus:f,recommendations:c,bookDividerIndex:h,enableMixSearchResult:y,enableKeywordSuggestion:b,suggestions:a,suggestionsLoadStatus:i,keywordInUrl:decodeURIComponent(n.keyword||"")}},BD)(Object(Ne.a)(MD));function zD(e){return(zD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HD(e){return(HD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(e,t){return(VD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var KD={onShowTip:We.d,onSubmit:vA,onCheckAnonymous:function(){return{type:Uo.We}},onCloseAlert:We.a,onOpenAlert:We.c,onReload:nb.j,onUpdate:nb.r},qD={marginLeft:3,lineHeight:0},YD={marginLeft:15},QD=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=HD(t).call(this))||"object"!==zD(r)&&"function"!=typeof r?WD(n):r).onCloseAlertWithUpdate=e.onCloseAlertWithUpdate.bind(WD(e)),e.onCloseAlertWithSubmit=e.onCloseAlertWithSubmit.bind(WD(e)),e.onCloseAlertWithReload=e.onCloseAlertWithReload.bind(WD(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VD(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){"PUSH"===this.props.history.action&&window.scrollTo(0,0)}},{key:"componentWillReceiveProps",value:function(e){this.props.isAddedBooksSufficient&&!e.isAddedBooksSufficient&&this.props.onShowTip("NEED_MORE_BOOKS")}},{key:"onCloseAlertWithUpdate",value:function(){this.props.onCloseAlert(),this.props.onUpdate()}},{key:"onCloseAlertWithSubmit",value:function(){this.props.onCloseAlert(),this.props.onSubmit()}},{key:"onCloseAlertWithReload",value:function(){this.props.onCloseAlert(),this.props.onReload()}},{key:"renderTip",value:function(){var e=this;if(this.props.alertState){if("PRICE_CHANGED_AFTER_UPDATE"===this.props.alertState.type)return f.a.createElement($T,{text:this.props.alertState.data,onClose:function(){return e.props.onCloseAlert()},actions:[{label:"返回查看",onClick:this.onCloseAlertWithUpdate},{label:"继续下单",primary:!0,onClick:this.onCloseAlertWithSubmit}]});if("NOT_ENOUGH_SELL_BY_PRICE_UPDATE"===this.props.alertState.type)return f.a.createElement(po.a,{title:"提示",onClose:this.onCloseAlertWithReload},"书籍收购价有更新，当前订单不满足收购总价格条件")}return null}},{key:"render",value:function(){if(!this.props.isAddedBooksSufficient)return f.a.createElement(xd.a,{to:"/sell"});var e=this.props,t=e.isAnonymous,n=e.userBooksWithOldPrices,r=e.shipperCode,o=e.totalPrice,a=e.totalMediumPrice,i=e.isLoading,c=e.onSubmit,l=e.onCheckAnonymous;return f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order"},f.a.createElement(ue.a,{title:"卖书给多抓鱼"}),this.renderTip(),f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-section"},f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-header"},"填写发件人信息"),f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-content"},f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-info"},"平台预约".concat(Object(gg.g)(r),"快递上门，请准确填写取件地址")),f.a.createElement(t_,{type:"sell"}),f.a.createElement(WA,null))),f.a.createElement(n_,{isChecked:t,onChange:l,orderType:"sell"}),f.a.createElement(dN,{scene:"checkout"}),f.a.createElement("div",{style:{padding:"0 15px"},className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-section"},f.a.createElement(a_,{items:n,total:o,finalPrefix:"最高可卖：",final:o},f.a.createElement(ri,{name:"运费",value:0})),f.a.createElement("div",{className:P.a.dynamic([["2521412026",[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]]])+" sell-order-revenueTip"},"预估价格区间",f.a.createElement(Mo.a,{sign:!0,n:a}),"~",f.a.createElement(Mo.a,{sign:!0,n:o}),f.a.createElement(M.a,{style:qD,to:"/support/condition"},f.a.createElement(oe,{height:12})))),f.a.createElement(ht,{style:YD}),f.a.createElement(Ze.a,{style:{zIndex:10}},f.a.createElement(Xe.a,null,f.a.createElement(D.a,{block:!0,primary:!0,disabled:i,onClick:c,style:{borderRadius:0,lineHeight:"32px"}},"提交订单"))),f.a.createElement(P.a,{id:"2521412026",dynamic:[L.a.gray,L.a.emphasis,Object(mi.a)(L.a.emphasis,.1),L.a.lighterFont]},[".sell-order.__jsx-style-dynamic-selector{padding-bottom:51px;}",".sell-order-section.__jsx-style-dynamic-selector{padding:15px 15px 0;overflow:auto;background:#fff;}",".sell-order-section.__jsx-style-dynamic-selector+.sell-order-section.__jsx-style-dynamic-selector{margin-top:15px;}",".sell-order-header.__jsx-style-dynamic-selector{font-size:15px;}",".sell-order-header.__jsx-style-dynamic-selector+.sell-order-content.__jsx-style-dynamic-selector{margin-top:15px;border-top:0.5px solid ".concat(L.a.gray,";padding-top:15px;}"),".sell-order-info.__jsx-style-dynamic-selector{margin-bottom:15px;padding:0.4em;color:".concat(L.a.emphasis,";font-size:13px;text-align:center;background:").concat(Object(mi.a)(L.a.emphasis,.1),";border-radius:5px;}"),".sell-order-revenueTip.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:-10px;padding-bottom:20px;font-size:12px;color:".concat(L.a.lighterFont,";}")]))}}])&&GD(n.prototype,r),o&&GD(n,o),t}(),ZD=Object(a.b)(function(e){return{isAnonymous:Object(mA.a)(e),isAddedBooksSufficient:Object(F.t)(e),userBooksWithOldPrices:Object(F.d)(e),totalPrice:Object(F.Q)(e),totalMediumPrice:Object(F.R)(e),isLoading:e.addedBooks.isOrderSubmitting,alertState:Object(F.f)(e),shipperCode:e.delivery.shipperCode}},KD)(QD),XD=function(e){var t=e.children;return f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["1522540716",[L.a.emphasis]]])+" content"},t),f.a.createElement(P.a,{id:"1522540716",dynamic:[L.a.emphasis]},[".content.__jsx-style-dynamic-selector{padding:7px 15px;background:rgb(255,236,236);color:".concat(L.a.emphasis,";font-size:13px;}")]))};function JD(){return(JD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $D=function(e){return f.a.createElement("svg",JD({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},e),f.a.createElement("path",{d:"M444.5 281.4l.5-.5 1.8-1.7-1.8-1.9-.3-.4c-11.5-12-11.6-23.1-.2-34l2.2-2.1-2.2-2.3c-11.4-12-11.4-23.1 0-33.9l3-2.9-114.7-55.3c-.1-.9-.9-1.8-2.7-2.9-4.9-2.8-8.6-2.6-8.6-2.6l-93.7-45.2-162.3 78.4-.9.6c-10.3 9.7-16.5 25.9-2 40.3-9 9.9-13.5 24.9.1 38.4-9.5 10.4-14.2 26.4 2 40.4l98.4 47.7v1.2c.1 1 2.5 3 6.2 4.5 1.8 0 3.2-.1 4.2-.6l107.8 52.2 166.1-80.5-2.7-2.8c-11.6-12-11.7-23.2-.2-34.1zm-8.4-3.4l-2.4 1.2-151.4 73.4c-1.2-1.4-2-2.7-2.9-4.1l152.8-76.2c1.1 1.9 2.4 3.8 3.9 5.7zm-165.4 69.9l-95.9-46.4v-31l5.3 2.5 96.3 46.7c-8.2 9.2-10.2 18.6-5.7 28.2zm5.6-45.4l.3.6L429.2 227c.4 1.7 1.1 3.5 1.9 5.2.1.2.3.4.4.6L278.6 309c-1.3-2.3-1.9-4.4-2.3-6.5zm8.2 18.5l117.4-57.2 7.5-3.6 21.2-10.3c-.7 1.5-1.2 3.1-1.5 4.6L277.7 330c1.7-3.5 4.3-6.5 6.8-9zM429 216.5L277.5 292c1.7-3.6 4.3-6.7 7-9.2l78-38 7.5-3.6 32.3-15.7 7.5-3.6 20.9-10.2c-.8 1.5-1.3 3.1-1.7 4.8zm-.2 1.9c-.3 2.3-.2 4.6.2 6.9l-152.9 76.2c-.3-2.6-.1-5.1.7-7.3l152-75.8zm-158.2 91l-95.8-46.2v-31l101.7 49c-8.2 9.2-10.3 18.6-5.9 28.2zm6.3 22.7l151.9-75.7c-.3 2.3-.3 4.6.1 6.9L276 339.5c-.2-2.6.1-5.1.9-7.4zm-.3 9L429.2 265c.5 1.9 1.2 3.8 2.1 5.8 0 0 0 .1.1.1l-152.9 76.2c-1.3-2.4-2-4.6-2.3-6.7l.4.7zm7.9 18.4l146.1-71.2c-.6 1.3-1 2.7-1.4 4l-151.1 75.3c1.7-3 4-5.8 6.4-8.1zm151.6-119.8l-2.1 1-32.4 15.7-7.5 3.6-111.9 54.2c-1.1-1.3-1.9-2.6-2.7-3.9l152.8-76.2c1.1 1.9 2.3 3.8 3.8 5.6zm-108.7-88.6l106.7 51.5-32 15.6-7.5 3.6-32.3 15.7-7.5 3.6-72.9 35.5L177 226l74.9-37.3 33.5 38.3c1.1 1.3 2.7 1.9 4.3 1.9 1.3 0 2.7-.5 3.7-1.4 2.4-2.1 2.6-5.6.5-8l-28.3-32.3 29.6 9.1c.6.2 1.1.2 1.7.2 2.4 0 4.7-1.6 5.4-4 .9-3-.8-6.1-3.7-7.1l-25-7.7 53.8-26.6zm-75.8 17.4c-.4.5-1.1 1.1-1.7 1.2-2.5.3-7.7-6.4-8.8-17.6-.8-8.2 1.1-14.5 3.3-17.1.4-.5 1.1-1.1 1.7-1.2h.1c2.5 0 7.6 6.5 8.7 17.6.8 8.2-1.1 14.5-3.3 17.1zm-88.5 165.9l-93.4-45.2c-14.7-13-6.6-25.8-1.4-31.5l94.8 45.7v31zm0-38.6l-87.7-42.5-5.6-2.7c-.5-.4-.8-.8-1.3-1.2-12.9-12.6-5.2-24.8-.2-30.3l31.5 15.2 7.5 3.6 55.8 26.9v31zm0-38.2l-13.9-6.7-34.3-16.6-7.5-3.6L75.1 215l-5.3-2.6c-.5-.5-1-.9-1.4-1.4-12.6-12.5-5-24.6 0-30.1L99.6 196l7.5 3.6 32.4 15.6 7.5 3.6 16.1 7.8v31zm.6-38l-9.2-4.4-7.5-3.6-32.4-15.6-7.5-3.6L75 176.9 227.8 103l86.3 41.6-52.8 26.3c2.7-5.3 4-12.6 3.2-20.5-1.5-15.6-9.7-26.9-19.1-26.3-3.2.2-6.1 1.8-8.5 4.6-4.4 5.2-6.5 14.3-5.5 24.3.3 3.2 1 6.2 1.8 9-5.6-1.2-12-1.6-18.4-1.4-11.2.3-25.3 2.9-30.9 8.9-2.3 2.4-2.7 4.9-2.6 6.5.4 9.3 15.8 13.3 31.7 13.3h2.9c3.3-.1 6.9-.4 10.4-.9l-62.6 31.2zm75.5-45.3c-2.4 1.8-10.4 4.9-23.6 5.3-13.4.4-21.6-2.3-24.1-4 2.4-1.8 10.4-4.9 23.6-5.3 13.3-.4 21.6 2.3 24.1 4zM174.8 340v-31l101.7 49c-8.3 9.3-10.4 18.8-5.8 28.4L174.8 340zm102.3 30l151.7-75.6c-.4 2.3-.4 4.7 0 7L276 377.6c-.2-2.8.2-5.3 1.1-7.6zm-1 8.2l.5.9 152.5-76c.4 2 1.1 3.9 2.1 5.9l-152.9 76.2c-1.3-2.5-1.9-4.8-2.2-7zm6.2 12.8c-1.3-1.5-2.3-3-3.1-4.5L432 310.4c1.1 2 2.5 4.1 4.2 6.1L282.3 391z",fill:"#17c3aa"}))};function eM(){return(eM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tM=function(e){return f.a.createElement("svg",eM({viewBox:"26 26 55 56",fill:"none",stroke:"#fff",strokeWidth:"3",strokeLinecap:"round"},e),f.a.createElement("g",{transform:"translate(28.000000, 28.000000)"},f.a.createElement("path",{d:"M25.5,15.3363636 L25.5,36.3363636"}),f.a.createElement("path",{d:"M36.0863392,25.5 L15.0863392,25.5"}),f.a.createElement("path",{d:"M0,15.9363158 L0,7.51316586 C0,3.36375893 3.37157192,0 7.51176174,0 L15.0235235,0"}),f.a.createElement("path",{d:"M0,51.9363158 L0,43.5131659 C0,39.3637589 3.37157192,36 7.51176174,36 L15.0235235,36",transform:"translate(7.511762, 43.968158) scale(1, -1) translate(-7.511762, -43.968158)"}),f.a.createElement("path",{d:"M36,15.9363158 L36,7.51316586 C36,3.36375893 39.3715719,0 43.5117617,0 L51.0235235,0",transform:"translate(43.511762, 7.968158) scale(-1, 1) translate(-43.511762, -7.968158)"}),f.a.createElement("path",{d:"M36,51.9363158 L36,43.5131659 C36,39.3637589 39.3715719,36 43.5117617,36 L51.0235235,36",transform:"translate(43.511762, 43.968158) scale(-1, -1) translate(-43.511762, -43.968158)"})))},nM=function(e){var t=e.book,n=e.selected,r=e.onChange;return f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])+" root"},f.a.createElement(Ga.a,{fixHeight:!0,little:!0,images:t.images}),f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])+" info"},f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])+" title"},t.title),f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])+" meta"},[t.binding,t.volumesCount>1?"".concat(t.volumesCount," 册"):""].filter(Boolean).join(" / ")),f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])+" price"},"标价 ",f.a.createElement(Mo.a,{n:t.originalPrice}))),f.a.createElement("div",{className:P.a.dynamic([["3060162266",[L.a.confusingGray]]])},f.a.createElement(bb,{checked:n,onChange:r})),f.a.createElement(P.a,{id:"3060162266",dynamic:[L.a.confusingGray]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:18px 0;border-bottom:0.5px solid ".concat(L.a.confusingGray,";-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"),".title.__jsx-style-dynamic-selector{font-size:14px;font-weight:400;}",".info.__jsx-style-dynamic-selector{height:90px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;margin-left:14px;}",".meta.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".price.__jsx-style-dynamic-selector{font-size:14px;}"]))};function rM(e){return(rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aM(e,t){return!t||"object"!==rM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iM(e){return(iM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cM(e,t){return(cM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lM=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=aM(this,iM(t).call(this,e))).state={selectedBookId:e.versions[0].id},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cM(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.versions,r=t.onSubmit;return f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])},f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])+" title"},"这本书有多个版本，请选择一下你手上的是哪一种",f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])+" title-tips"},"注意：选错版本会影响预估价，多抓鱼收到书审核时，会核对版本再打款。")),f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])+" versions"},n.filter(function(e){return!e.isDeleleted}).map(function(t){return f.a.createElement(nM,{book:t,key:t.id,onChange:function(){return e.setState({selectedBookId:t.id})},selected:t.id===e.state.selectedBookId})}),f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])+" tips"},"* 如果以上版本都不是，就是多抓鱼暂时不收的版本，请不要寄过来。")),f.a.createElement("div",{className:P.a.dynamic([["1955968870",[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]]])+" actions"},f.a.createElement(D.a,{primary:!0,large:!0,block:!0,onClick:function(){return r(e.state.selectedBookId)}},"确定")),f.a.createElement(P.a,{id:"1955968870",dynamic:[L.a.confusingGray,L.a.confusingGray,L.a.emphasis]},[".title.__jsx-style-dynamic-selector{font-size:18px;font-weight:400;padding-bottom:15px;padding-right:20px;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".title-tips.__jsx-style-dynamic-selector{margin-top:10px;font-size:13px;}",".versions.__jsx-style-dynamic-selector{overflow-y:auto;max-height:50vh;}",".tips.__jsx-style-dynamic-selector{position:relative;z-index:1;margin-top:-1px;background-color:#fff;border-top:0.5px solid ".concat(L.a.confusingGray,";font-size:13px;color:").concat(L.a.emphasis,";padding:15px 0;}"),".actions.__jsx-style-dynamic-selector{padding:20px 0;}"]))}}])&&oM(n.prototype,r),o&&oM(n,o),t}();function sM(){return(sM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var uM=function(e){return f.a.createElement("svg",sM({width:"16",viewBox:"0 0 39 48"},e),f.a.createElement("g",{stroke:"#9B9B9B",strokeWidth:"3",fill:"none",fillRule:"evenodd",transform:"translate(20, -2) rotate(-330.000000)"},f.a.createElement("path",{d:"M21.5,39.203037 L14.6414479,46.2497686 C12.9140854,48.0245251 10.1304164,48.0300921 8.40417551,46.2641419 L1.5,39.2011472 L1.5,6.00343961 C1.5,3.51519721 3.51289404,1.5 5.99793199,1.5 L17.002068,1.5 C19.4852269,1.5 21.5,3.51702964 21.5,6.00343961 L21.5,39.203037 Z"}),f.a.createElement("path",{d:"M1.64285714,38.59375 L21.6982,38.59375"})))};function fM(){return(fM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pM=function(e){return f.a.createElement("svg",fM({width:"279px",height:"150px",viewBox:"0 0 279 150",version:"1.1"},e),f.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"Group-2"},f.a.createElement("rect",{id:"Rectangle-20",fill:"#FDEDAE",x:"0",y:"133",width:"279",height:"17"}),f.a.createElement("text",{id:"9-781449-063665",fontFamily:"HelveticaNeue-Light, Helvetica Neue",fontSize:"22",fontWeight:"300",letterSpacing:"5.86000013",fill:"#333333"},f.a.createElement("tspan",{x:"1",y:"149"},"9 781449 06366"),f.a.createElement("tspan",{x:"242.056002",y:"149"},"5")),f.a.createElement("g",{id:"Group-13",transform:"translate(19.000000, 0.000000)",fillRule:"nonzero",fill:"#000000"},f.a.createElement("rect",{id:"Rectangle-path",x:"4.67484663",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path",x:"0",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path",x:"121.546012",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path",x:"126",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path-Copy",x:"240",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path-Copy",x:"244",y:"0",width:"1.9751714",height:"136.009995"}),f.a.createElement("rect",{id:"Rectangle-path",x:"12.4662577",y:"0",width:"10.5006794",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"59.2147239",y:"0",width:"12.4346538",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"109.079755",y:"0",width:"6.21847124",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"29.607362",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"49.8650307",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"85.7055215",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"77.9141104",y:"0",width:"2.55650805",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"38.9570552",y:"0",width:"4.78801687",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"98.1717791",y:"0",width:"4.78801687",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"134.01227",y:"0",width:"10.5006794",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"180.760736",y:"0",width:"12.4346538",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"230.625767",y:"0",width:"6.21847124",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"151.153374",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"171.411043",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"207.251534",y:"0",width:"2.5519306",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"199.460123",y:"0",width:"2.55650805",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"160.503067",y:"0",width:"4.78801687",height:"124.362559"}),f.a.createElement("rect",{id:"Rectangle-path",x:"219.717791",y:"0",width:"4.78801687",height:"124.362559"})))))},dM=(n("Nsxm"),{onChange:nb.f,onSubmit:nb.a}),mM=Object(a.b)(function(e){var t=e.addedBooks;return{values:t.form.values,errors:t.form.errors}},dM)(function(e){var t=e.history,n=e.values,r=e.errors,o=e.onChange,a=e.onSubmit;return f.a.createElement(po.a,{title:"手动输入条码号",actions:f.a.createElement(D.a,{primary:!0,onClick:a},"确认"),onClose:function(){return t.goBack()}},f.a.createElement("div",{className:"jsx-1213336758 Add"},f.a.createElement("div",{className:"jsx-1213336758 tip"},f.a.createElement("p",{className:"jsx-1213336758"},"13 或 10 位 ISBN 条码，不含 - 符号"),f.a.createElement("p",{className:"jsx-1213336758"},"或多抓鱼的 dzy 开头的条码")),f.a.createElement("div",{className:"jsx-1213336758 Add-illustration"},f.a.createElement(pM,{width:"152px",height:"83px"})),f.a.createElement(it,{autoFocus:!0,value:n.barcode||"",placeholder:"在这输入...",onChange:function(e){return o({barcode:e})},onKeyDown:function(e){13===e.keyCode&&a()}}),"INVALID"===r.barcode&&f.a.createElement("div",{className:"jsx-1213336758 Add-info"},"格式错误，ISBN 最后一位可以是字母 X。多抓鱼条码以 dzy 开头 13 位，请重新输入")),f.a.createElement(P.a,{id:"1213336758"},[".tip.jsx-1213336758{margin-bottom:14px;}"]))});function yM(e){return(yM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hM(e){return(hM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vM(e,t){return(vM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xM=[{type:1,description:"内容好",stateKey:"isGoodSelected"},{type:2,description:"绝版书",stateKey:"isRareSelected"},{type:3,description:"系列书",stateKey:"isSeriesSelected"}],wM=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=hM(t).call(this,e))||"object"!==yM(o)&&"function"!=typeof o?gM(r):o).initState(),n.handleEdit=n.handleEdit.bind(gM(n)),n.handleSubmit=n.handleSubmit.bind(gM(n)),n.actions=[{label:"取消",onClick:e.onClose},{label:"提交",primary:!0,onClick:n.handleSubmit}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vM(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:"initState",value:function(){this.state={isGoodSelected:!1,isRareSelected:!1,isSeriesSelected:!1,otherReason:""}}},{key:"toggleSelect",value:function(e){var t,n,r;this.setState((t={},n=e,r=!this.state[e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"handleEdit",value:function(e){this.setState({otherReason:e})}},{key:"handleSubmit",value:function(){var e=this,t=[];xM.forEach(function(n){var r=n.type,o=n.stateKey,a=n.description;e.state[o]&&t.push({type:r,description:a})}),(this.state.otherReason||0===t.length)&&t.push({type:4,description:this.state.otherReason}),this.props.appealRefusedBook(this.props.appealBookId,t).then(function(){e.initState(),e.props.onClose()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.appealBookId,r=t.onClose;return n?f.a.createElement(ie.a,{title:"应该收的理由",actions:this.actions,onClose:r},f.a.createElement("div",{className:"jsx-1254388324 root"},f.a.createElement("div",{style:{textAlign:"left"},className:"jsx-1254388324"},xM.map(function(t){var n=t.type,r=t.stateKey,o=t.description;return f.a.createElement(D.a,{key:n,small:!0,rightSpace:!0,checked:e.state[r],onClick:function(){return e.toggleSelect(r)}},o)})),f.a.createElement(it,{type:"textarea",placeholder:"其他理由...",value:this.state.otherReason,onChange:this.handleEdit,style:{margin:"18px 0",height:"8em",background:"transparent"}}),f.a.createElement("p",{className:"jsx-1254388324"},"反馈后我们会重新审核这本书，如果收购的话会通知你，感谢你帮助我们校准审核算法")),f.a.createElement(P.a,{id:"1254388324"},[".root.jsx-1254388324{padding:24px;}"])):null}}])&&bM(n.prototype,r),o&&bM(n,o),t}(),OM=Object(a.b)(function(e){return{appealBookId:e.refusedBooks.appealBookId}},function(e){return{appealRefusedBook:function(t,n){return e(Object(nb.c)(t,n))},onClose:function(){return e(Object(nb.s)(""))}}})(wM);function EM(e){return(EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kM(e){return(kM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SM(e,t){return(SM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CM={onClose:nb.t,onAccept:nb.i,onReject:nb.m},PM={display:"block",fontSize:14,marginBottom:16},IM={fontSize:15,fontWeight:"normal"},TM=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=kM(t).call(this,e))||"object"!==EM(o)&&"function"!=typeof o?_M(r):o).handleAccept=n.handleAccept.bind(_M(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SM(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleAccept",value:function(){var e=this.props;(0,e.onAccept)(e.freeBookId)}},{key:"render",value:function(){var e=this.props,t=e.canJoinFreePlan,n=e.freeBookId,r=e.onClose,o=e.onReject;return t&&n?f.a.createElement(ie.a,{noAction:!0,onClose:r},f.a.createElement("h2",{className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])+" title"},"这本书暂时不在付费收购范围",f.a.createElement("br",{className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])}),"欢迎加入多抓鱼 free 计划"),f.a.createElement("div",{className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])+" content"},f.a.createElement("img",{alt:"",src:"https://asset.duozhuayu.com/free_logo.png",className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])+" logo"}),f.a.createElement("div",{className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])+" desc"},"加入后这本书将以 0 元收，多抓鱼会以 free 书的形式再次售卖，促进书籍循环流通。"),f.a.createElement(ma.a,{colored:!0,withArrow:!0,to:"/support/free",style:PM},"了解更多"),f.a.createElement(D.a,{block:!0,primary:!0,large:!0,style:IM,onClick:this.handleAccept},"好的"),f.a.createElement("div",{onClick:o,className:P.a.dynamic([["433149911",[L.a.lightGreen,L.a.lightFont]]])+" reject-btn"},"暂不加入")),f.a.createElement(P.a,{id:"433149911",dynamic:[L.a.lightGreen,L.a.lightFont]},[".title.__jsx-style-dynamic-selector{padding:24px 28px 18px;font-size:18px;font-weight:normal;line-height:1.44;text-align:center;}",".content.__jsx-style-dynamic-selector{padding:20px 28px 18px;background:".concat(L.a.lightGreen,";}"),".logo.__jsx-style-dynamic-selector{width:118px;}",".desc.__jsx-style-dynamic-selector{margin:24px 0 8px;font-size:15px;font-weight:normal;line-height:1.6;text-align:left;}",".reject-btn.__jsx-style-dynamic-selector{margin-top:18px;font-size:15px;font-weight:normal;line-height:1.6;text-align:center;color:".concat(L.a.lightFont,";}")])):null}}])&&jM(n.prototype,r),o&&jM(n,o),t}(),NM=Object(a.b)(function(e){return{canJoinFreePlan:e.settings.canJoinFreePlan,freeBookId:e.refusedBooks.freeBookId}},CM)(TM),RM=n("J3ly"),LM=n("FuOl");function AM(e){return(AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FM(){return(FM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BM(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MM(e){return(MM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zM(e,t){return(zM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var GM=function(e){function t(e){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=MM(t).call(this,e))||"object"!==AM(o)&&"function"!=typeof o?UM(r):o).state={value:(a=e.value,null==a?"":(a/100).toFixed(2))},n.handleChange=n.handleChange.bind(UM(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zM(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleChange",value:function(e){var t;if(""===e)t=null;else if(t=100*Number(e),Number.isNaN(t)||t<0)return this.props.onError&&this.props.onError("请输入正确的金额"),void this.setState({value:e});this.setState({value:e}),this.props.onChange(t)}},{key:"render",value:function(){var e=this.props,t=(e.value,e.onChange,e.wrapStyle),n=BM(e,["value","onChange","wrapStyle"]);return f.a.createElement("div",{className:"Price-input",style:t},f.a.createElement(it,FM({value:this.state.value,onChange:this.handleChange},n)))}}])&&DM(n.prototype,r),o&&DM(n,o),t}(),HM={CNY:"人民币 ¥",USD:"美元 $",JPY:"日元 JPY",HKD:"港币 HKD",TWD:"台币 NTD",EUR:"欧元 €",GBP:"英镑 ￡",KRW:"韩元 ₩ "},WM=Object(a.b)(function(e){return{isVisible:Object(LM.d)(e.addBook),values:Object(LM.c)(e.addBook),errors:Object(LM.b)(e.addBook)}},function(e){return{showError:function(t){return e(Object(RM.d)(t))},onChange:function(t){return e(Object(RM.a)(t))},onSubmit:function(){return e(Object(RM.e)())},onClose:function(){return e(Object(RM.c)())}}})(function(e){var t=e.isVisible,n=e.values,r=e.errors,o=e.showError,a=e.onChange,i=e.onClose,c=e.onSubmit;if(!t)return null;var l=f.a.createElement(D.a,{primary:!0,key:"0",onClick:c},"提交"),s=n.isbn,u=n.title,p=n.currencyType,d=n.originalPrice,m=n.isTitleEditable;return f.a.createElement(po.a,{title:"抱歉，多抓鱼暂时无法获取这本书的关键信息，请补充",actions:l,onClose:i},f.a.createElement("div",{className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])+" wrapper"},f.a.createElement(Zm,null,f.a.createElement(Xm,null,"ISBN"),f.a.createElement("div",{className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])+" isbn-value"},s)),f.a.createElement(Zm,null,f.a.createElement(Xm,null,"书名"),m?f.a.createElement(it,{value:u,warn:"title"in r,onChange:function(e){return a({title:e})},placeholder:"必填"}):f.a.createElement("div",{className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])+" title-value"},u)),f.a.createElement(Zm,null,f.a.createElement(Xm,null,"价格"),f.a.createElement(it,{type:"select",value:p,onChange:function(e){return a({currencyType:e})},style:{marginRight:4}},Object.keys(HM).map(function(e){return f.a.createElement("option",{key:e,value:e,className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])},HM[e])})),f.a.createElement(GM,{value:d,placeholder:"如 32.00",onChange:function(e){return a({originalPrice:e})},style:{marginRight:4},onError:function(e){return o({originalPrice:e})},warn:"originalPrice"in r,className:"price"})),f.a.createElement(Zm,null,f.a.createElement(Xm,null),r.title||r.originalPrice?f.a.createElement("p",{className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])+" error"},r.title||r.originalPrice):f.a.createElement("div",{className:P.a.dynamic([["1575254116",[L.a.lighterFont,L.a.emphasis]]])+" tip"},"请准确填写书的定价，多抓鱼会在收到书后核实以上信息"))),f.a.createElement(P.a,{id:"1575254116",dynamic:[L.a.lighterFont,L.a.emphasis]},[".tip.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{min-height:32px;font-size:12px;text-align:left;color:".concat(L.a.lighterFont,";}"),".error.__jsx-style-dynamic-selector{color:".concat(L.a.emphasis,";}"),".title-value.__jsx-style-dynamic-selector{text-align:left;}"]))});function VM(){return(VM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var KM=function(e){return f.a.createElement("svg",VM({xmlns:"http://www.w3.org/2000/svg",width:"25",height:"12",viewBox:"0 0 25 12",color:L.a.golden},e),f.a.createElement("path",{fill:"currentColor",d:"M24.0271922,7.17546432 C21.6648938,11.0410434 15.4370164,15.3361314 5.34355976,8.0344819 C3.84027898,9.53776267 1.90748942,11.0410434 1.04847184,10.3967803 C-0.454808933,9.32300828 -0.240054538,2.23611321 1.04847184,1.37709563 C1.90748942,0.73283244 3.84027898,2.23611321 5.34355976,3.73939398 C15.8665252,-3.34750108 21.6648938,1.16234123 24.0271922,4.81316596 C24.456701,5.67218355 24.456701,6.53120113 24.0271922,7.17546432 Z M19.0878411,6.53120113 C19.680869,6.53120113 20.1616131,6.05045704 20.1616131,5.45742915 C20.1616131,4.86440126 19.680869,4.38365717 19.0878411,4.38365717 C18.4948132,4.38365717 18.0140691,4.86440126 18.0140691,5.45742915 C18.0140691,6.05045704 18.4948132,6.53120113 19.0878411,6.53120113 Z"}))};function qM(e){return(qM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){QM(e,t,n[t])})}return e}function QM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XM(e){return(XM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $M(e,t){return($M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eU={onShowReserveHint:nb.p,onHideReserveHint:nb.h},tU={transform:"rotate(180deg)"},nU={lineHeight:0},rU={display:"block",fontSize:20,lineHeight:"normal"},oU={position:"absolute",right:-18,top:"50%",transform:"translateY(-50%)"},aU={display:"flex",alignItems:"center",height:32,marginLeft:6,color:L.a.lightFont,padding:"0 16px",lineHeight:"32px",fontWeight:300},iU={height:32,padding:"0 16px",lineHeight:"32px",color:L.a.lightFont,fontWeight:300},cU={marginLeft:4},lU=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=XM(t).call(this,e))||"object"!==qM(o)&&"function"!=typeof o?JM(r):o).state={showVariantPrice:!1},n.hideVariantPrice=n.hideVariantPrice.bind(JM(n)),n.toggleVariantPrice=n.toggleVariantPrice.bind(JM(n)),n.hideReserveHint=n.hideReserveHint.bind(JM(n)),n.toggleReserveHint=n.toggleReserveHint.bind(JM(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$M(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.reserveHintId,n=e.onHideReserveHint;t&&n()}},{key:"toggleVariantPrice",value:function(){this.setState({showVariantPrice:!this.state.showVariantPrice})}},{key:"hideVariantPrice",value:function(){this.setState({showVariantPrice:!1})}},{key:"toggleReserveHint",value:function(){var e=this.props,t=e.userBookId,n=e.reserveHintId,r=e.onShowReserveHint,o=e.onHideReserveHint;n?o():r(t)}},{key:"hideReserveHint",value:function(){this.props.onHideReserveHint()}},{key:"renderVariantPrice",value:function(){var e=this.props,t=e.acquirePrice,n=e.acquirePriceMediumCondition,r=void 0===n?0:n,o=this.state.showVariantPrice;return f.a.createElement(kp,{show:o,content:f.a.createElement(M.a,{to:"/support/condition"},f.a.createElement("div",{className:P.a.dynamic([["540781649",[L.a.gray,L.a.font]]])+" popover-content"},f.a.createElement("div",{className:P.a.dynamic([["540781649",[L.a.gray,L.a.font]]])+" price-unit"},f.a.createElement("div",{className:P.a.dynamic([["540781649",[L.a.gray,L.a.font]]])+" price-condition"},"品相良好或全新",f.a.createElement(oe,{width:12,height:12,stroke:L.a.lighterFont,style:oU})),f.a.createElement(Mo.a,{normal:!0,n:t,style:rU})),f.a.createElement("div",{className:P.a.dynamic([["540781649",[L.a.gray,L.a.font]]])+" price-unit"},f.a.createElement("div",{className:P.a.dynamic([["540781649",[L.a.gray,L.a.font]]])+" price-condition"},"品相中等",f.a.createElement(oe,{width:12,height:12,stroke:L.a.lighterFont,style:oU})),f.a.createElement(Mo.a,{normal:!0,n:r,style:rU})),f.a.createElement(P.a,{id:"540781649",dynamic:[L.a.gray,L.a.font]},[".popover-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:255px;padding:21px 0;}",".price-unit.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-size:12px;font-weight:300;line-height:1.83;text-align:center;}",".price-unit.__jsx-style-dynamic-selector:last-child{border-left:0.5px solid ".concat(L.a.gray,";}"),".price-condition.__jsx-style-dynamic-selector{display:inline-block;position:relative;font-size:12px;font-weight:300;line-height:1.83;text-align:center;color:".concat(L.a.font,";}")]))),style:nU,onClose:this.hideVariantPrice},f.a.createElement("div",{onClick:this.toggleVariantPrice,className:P.a.dynamic([["3925315556",[L.a.lighterFont]]])+" variant-price-desc-wrap"},f.a.createElement(bs,{width:13,height:13,stroke:L.a.lighterFont,style:o?tU:null}),f.a.createElement("span",{className:P.a.dynamic([["3925315556",[L.a.lighterFont]]])+" variant-price-desc"},"品相好可卖"),f.a.createElement(P.a,{id:"3925315556",dynamic:[L.a.lighterFont]},[".variant-price-desc-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-directino:row;-ms-flex-directino:row;flex-directino:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}",".variant-price-desc.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;font-weight:300;line-height:1.83;color:".concat(L.a.lighterFont,";}"),"@media (max-width:360px){.variant-price-desc.__jsx-style-dynamic-selector{display:none;}}"])))}},{key:"renderReserveHint",value:function(){var e=this.props,t=e.speedUpCoupon,n=e.userBookId,r=e.reserveHintId;return t?f.a.createElement(kp,{show:r===n,align:Ep,content:f.a.createElement(M.a,{to:"/support/reserve"},f.a.createElement("div",{className:"jsx-360049476 popover-content"},"卖这本书会帮你加速获得预定券",f.a.createElement(oe,{width:12,height:12,stroke:L.a.lighterFont,style:YM({},oU,{right:"auto"})}),f.a.createElement(P.a,{id:"360049476"},[".popover-content.jsx-360049476{width:200px;padding:21px 27px 21px 21px;}"]))),style:nU,onClose:this.hideReserveHint},f.a.createElement("div",{onClick:this.toggleReserveHint,className:"jsx-2555894401 fish-icon-wrap"},f.a.createElement(KM,null),f.a.createElement(P.a,{id:"2555894401"},[".fish-icon-wrap.jsx-2555894401{margin-left:6px;cursor:pointer;}"]))):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.bookId,r=t.isRefuse,o=t.className,a=t.acquirePrice,i=t.label,c=t.isFree,l=t.canJoinFree,s=t.refuseFeedback,u=t.onDelete,p=t.onAppeal,d=t.onUpdateFreeBook,m=N()("root",o,{"root--refuse":r});return f.a.createElement(Nf,{id:n},function(t){var n=t.title,o=t.images,y=t.rawAuthor,b=t.originalPrice,h=Object(Do.h)(a,b,!0,!0),g=s&&s.hasRefuseFeedbacked;return f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" "+(m||"")},f.a.createElement(Ga.a,{mini:!0,fixHeight:!0,images:o,className:"image"}),f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" content"},f.a.createElement("h2",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" title"},n),f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" description"},y),f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" footer"},i,f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" footer-spacer"}),!c&&a&&f.a.createElement(f.a.Fragment,null,e.renderVariantPrice(),f.a.createElement(Mo.a,{medium:!0,normal:!0,n:a,style:{margin:"0 2px 0 4px"}}),h&&f.a.createElement(Ua.a,{following:!0},h),e.renderReserveHint()),r&&(g?f.a.createElement(D.a,{small:!0,style:iU},"已反馈"):f.a.createElement(D.a,{small:!0,onClick:p,style:iU},"这书应该收")),!c&&l&&r&&f.a.createElement(D.a,{small:!0,onClick:d,style:aU},"加入",f.a.createElement($i,{fill:L.a.font,height:14,style:cU})),c&&0===a&&f.a.createElement(rc,{withLink:!0}))),f.a.createElement("div",{className:P.a.dynamic([["2711732836",[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]]])+" remove-btn"},f.a.createElement(D.a,{flatIcon:!0,onClick:u},f.a.createElement(Fb.a,{width:10,height:10,stroke:L.a.lighterFont}))),f.a.createElement(P.a,{id:"2711732836",dynamic:[L.a.lightGray,L.a.lighterFont,L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:15px;color:inherit;font-size:14px;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid ".concat(L.a.lightGray,";}"),".root--refuse.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";}"),".image.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-left:15px;}",".title.__jsx-style-dynamic-selector{margin:0 24px 2px 0;font-size:inherit;font-weight:400;}",".description.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";font-size:12px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"),".footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".footer-spacer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".remove-btn.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;}"]))})}}])&&ZM(n.prototype,r),o&&ZM(n,o),t}();lU.propTypes={isRefuse:de.a.bool,className:de.a.string,acquirePrice:de.a.number,label:de.a.element,onDelete:de.a.func,onAppeal:de.a.func},lU.defaultProps={isRefuse:!1,className:null,acquirePrice:null,onDelete:null,onAppeal:null,label:null};var sU=Object(a.b)(function(e){return{reserveHintId:e.addedBooks.reserveHintId}},eU)(lU);function uU(e){return(uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pU(e){return(pU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mU(e,t){return(mU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yU={onUpdateFreeBook:nb.l,onUpdateAppealBook:nb.s,onDeleteRefusedBook:nb.e},bU=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pU(t).call(this,e))||"object"!==uU(o)&&"function"!=typeof o?dU(r):o).handleDelete=n.handleDelete.bind(dU(n)),n.handleAppeal=n.handleAppeal.bind(dU(n)),n.handleUpdateFree=n.handleUpdateFree.bind(dU(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mU(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleDelete",value:function(){var e=this.props,t=e.id;(0,e.onDeleteRefusedBook)(t)}},{key:"handleAppeal",value:function(){var e=this.props,t=e.id;(0,e.onUpdateAppealBook)(t)}},{key:"handleUpdateFree",value:function(){var e=this.props,t=e.id;(0,e.onUpdateFreeBook)(t)}},{key:"render",value:function(){var e=this.props,t=e.bookId,n=e.canJoinFree,r=e.refuseFeedback;return f.a.createElement(sU,{isRefuse:!0,bookId:t,canJoinFree:n,refuseFeedback:r,onAppeal:this.handleAppeal,onDelete:this.handleDelete,onUpdateFreeBook:this.handleUpdateFree})}}])&&fU(n.prototype,r),o&&fU(n,o),t}(),hU=Object(a.b)(function(e,t){var n=t.id,r=Object(_e.d)(e),o=Object(Pe.w)(e.entities,n);return{bookId:o.book,canJoinFree:r,refuseFeedback:o.refuseFeedback}},yU)(bU);function gU(e){return(gU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xU(e,t){return!t||"object"!==gU(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wU(e){return(wU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OU(e,t){return(OU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var EU,jU=["扫码提示不收或在安排快递前线上审核显示拒绝的就是暂时不收的。","不收有影响阅读的破损、污渍、老化、异味的书。","不收盗版、非卖品、非法出版物。"],kU=["多抓鱼在收到书时会进行品相审核，这一步会把书籍的品相分为全新、品相良好、品相中等、品相不合格，其中品相中等的收购价比全新和品相良好的要低 20%，品相不合格的书会被拒收。","卖家可以自付运费取回被拒的书（首次取回免费）。"],_U={fontSize:14,lineHeight:1.8},SU=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xU(this,wU(t).call(this,e))).state={isSpread:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OU(e,t)}(t,f.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.image,r=t.title,o=void 0===r?[]:r,a=t.question,i=t.rules,c=void 0===i?[]:i,l=this.state.isSpread;return f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" main"},f.a.createElement("img",{alt:"卖书说明",src:n,className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" left"}),f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" right"},f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" title"},o.map(function(e){return f.a.createElement("div",{key:e,className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])},e)}),a&&f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" toggle"},f.a.createElement("button",{onClick:function(){return e.setState({isSpread:!l})},className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" btn"},a," ",l?f.a.createElement(_u,{width:"16",height:"16"}):f.a.createElement(bs,{width:"16",height:"16"})))))),l&&f.a.createElement("div",{className:P.a.dynamic([["687380303",[L.a.lightGray,L.a.primary]]])+" secondary"},f.a.createElement(mm.a,{items:c,style:_U})),f.a.createElement(P.a,{id:"687380303",dynamic:[L.a.lightGray,L.a.primary]},[".root.__jsx-style-dynamic-selector{padding:15px;border-bottom:1px solid ".concat(L.a.lightGray,";}"),".left.__jsx-style-dynamic-selector{width:150px;height:130px;}",".right.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;height:130px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".main.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".secondary.__jsx-style-dynamic-selector{margin-top:16px;}",".title.__jsx-style-dynamic-selector{font-size:20px;font-weight:500;line-height:1.4;margin-top:-18px;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;}",".toggle.__jsx-style-dynamic-selector{margin-top:6px;position:absolute;font-size:14px;font-weight:300;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;color:".concat(L.a.primary,";}"),".btn.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))}}])&&vU(n.prototype,r),o&&vU(n,o),t}(),CU=function(){return f.a.createElement("div",null,f.a.createElement(SU,{title:["手机扫码","看收购价"],image:"https://asset.duozhuayu.com/sell_intro_1.png",question:"什么书不收",rules:jU}),f.a.createElement(SU,{title:["快递免费","上门取书"],image:"https://asset.duozhuayu.com/sell_intro_2.png"}),f.a.createElement(SU,{title:["审核通过","书款到账"],image:"https://asset.duozhuayu.com/sell_intro_3.png",question:"什么是审核",rules:kU}))},PU=[["书的收购价格是如何确定的？","图书价格会根据库存和市场情况动态调整，扫码后可获得该本书当前的预估收购价。"],["什么书不收？","扫码提示不收或在安排快递前线上审核显示拒绝的就是暂时不收的。有影响阅读及封面完整和美观的破损、污渍、老化、异味；非卖品和非法出版物。"],(EU=["品相会影响收购价吗？","多抓鱼在收到书时会进行品相审核，这一步会把书籍的品相分为全新、品相良好、品相中等、品相不合格，其中品相中等的收购价比全新和品相良好的要低 20%，品相不合格的书会被拒收。","/support/condition","品相审核分级细则"],function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(EU)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(EU)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())];function IU(e){return(IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NU(e){return(NU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LU(e,t){return(LU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var AU={onDeleteBook:nb.d},FU=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=NU(t).call(this,e))||"object"!==IU(o)&&"function"!=typeof o?RU(r):o;var a=e.hasSold,i=void 0!==a&&a;return n.state={showDumpingTip:i},n.handleDelete=n.handleDelete.bind(RU(n)),n.showDumpingTip=n.showDumpingTip.bind(RU(n)),n.hideDumpingTip=n.hideDumpingTip.bind(RU(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LU(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleDelete",value:function(){var e=this.props,t=e.id;(0,e.onDeleteBook)(t)}},{key:"showDumpingTip",value:function(){this.setState({showDumpingTip:!0})}},{key:"hideDumpingTip",value:function(){this.setState({showDumpingTip:!1})}},{key:"renderDumpingTip",value:function(){return this.state.showDumpingTip?f.a.createElement(ie.a,{onClose:this.hideDumpingTip},f.a.createElement("div",{className:"jsx-3747892040 content"},"啊喔，这本书你已经卖过一本了，多抓鱼不支持个人用户反复售卖相同的书籍。如有大宗书籍需要售卖，可联系多抓鱼 b2b 小组：b2b@duozhuayu.net"),f.a.createElement(P.a,{id:"3747892040"},[".content.jsx-3747892040{padding:28px 30px;font-size:15px;line-height:1.5;text-align:left;}"])):null}},{key:"render",value:function(){var e=this.props,t=e.userBookId,n=e.bookId,r=e.label,o=e.isFree,a=e.acquirePrice,i=e.acquirePriceMediumCondition,c=e.speedUpCoupon;return f.a.createElement(u.Fragment,null,this.renderDumpingTip(),f.a.createElement(sU,{userBookId:t,bookId:n,label:r,isFree:o,acquirePrice:a,acquirePriceMediumCondition:i,onDelete:this.handleDelete,speedUpCoupon:c}))}}])&&TU(n.prototype,r),o&&TU(n,o),t}(),BU=Object(a.b)(function(e,t){var n=t.id,r=Object(Pe.G)(e.entities,n);return{userBookId:n,bookId:r.book,isFree:r.isFree,acquirePrice:r.acquirePrice,acquirePriceMediumCondition:r.acquirePriceMediumCondition,speedUpCoupon:r.speedUpCoupon,hasSold:r.hasSold}},AU)(FU);function DU(e){return(DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UU(e,t){return!t||"object"!==DU(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zU(e){return(zU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GU(e,t){return(GU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HU=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=UU(this,zU(t).call(this,e))).state={showModal:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GU(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])},f.a.createElement("div",{onClick:function(){return e.setState({showModal:!0})},className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])+" root"},f.a.createElement("span",{className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])},"规则更新：有馆藏类印章或标签的书拒收"),f.a.createElement("div",{className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])},f.a.createElement(qn.a,null))),this.state.showModal&&f.a.createElement(ie.a,{title:"拒书规则更新",onClose:function(){return e.setState({showModal:!1})}},f.a.createElement("div",{className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])+" content"},f.a.createElement("p",{className:P.a.dynamic([["966274439",[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]]])},"新增了书籍拒收的类型："),f.a.createElement(mm.a,{style:{marginTop:12,marginBottom:12},items:["馆藏类印章或标签会拒收","被写过的习题册会拒收"]}),f.a.createElement(ma.a,{withArrow:!0,colored:!0,to:"/support/condition"},"查看更多审核规则"))),f.a.createElement(P.a,{id:"966274439",dynamic:[Object(mi.a)(L.a.emphasis,.1),L.a.emphasis]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:".concat(Object(mi.a)(L.a.emphasis,.1),";color:").concat(L.a.emphasis,";font-size:14px;font-weight:normal;padding:10px 18px;}"),".content.__jsx-style-dynamic-selector{padding:23px;font-size:16px;text-align:left;line-height:24px;}"]))}}])&&MU(n.prototype,r),o&&MU(n,o),t}();n("+UyT");function WU(e){return(WU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VU(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function KU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qU(e){return(qU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(e,t){return(QU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ZU={onUpdateAppealBook:nb.s,onDismissError:We.a,onScan:nb.o,onSubscribe:nb.q,onAddUserBook:nb.b,onManual:nb.g,onLoadRefused:nb.k,onLoad:nb.j,onHideGuide:Te.j,onNext:Object(He.c)(function(){Object(A.a)().push("/sell/order")})},XU=f.a.createElement("span",{style:{color:L.a.secondary}},"新增收购书"),JU=function(e){return f.a.createElement(hU,{key:e,id:e})},$U={width:100,height:42,fontSize:18},ez={lineHeight:1},tz={marginLeft:3,lineHeight:0},nz=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=qU(t).call(this,e))||"object"!==WU(o)&&"function"!=typeof o?YU(r):o).state={showRulesUpdateModal:!1},n.rescan=n.rescan.bind(YU(n)),n.manualType=n.manualType.bind(YU(n)),n.openRulesUpdateModal=n.openRulesUpdateModal.bind(YU(n)),n.hideVariantPriceModal=n.hideVariantPriceModal.bind(YU(n)),n.modalActions=[{label:"返回",onClick:n.hideVariantPriceModal},{label:"确认下单",onClick:function(){e.onHideGuide(),e.onNext()},primary:!0}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QU(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadStatus,n=e.history,r=e.onLoad,o=e.onLoadRefused;"initial"!==t&&"POP"===n.action||(o(!0),r())}},{key:"rescan",value:function(){this.props.onDismissError(),this.props.onScan()}},{key:"manualType",value:function(){this.props.onDismissError(),this.props.history.push("/sell/add")}},{key:"openRulesUpdateModal",value:function(){this.setState({showRulesUpdateModal:!0})}},{key:"hideVariantPriceModal",value:function(){this.setState({showRulesUpdateModal:!1})}},{key:"renderVariantPriceModal",value:function(){return this.state.showRulesUpdateModal?f.a.createElement(ie.a,{title:"提交前请确认",onClose:this.hideVariantPriceModal,actions:this.modalActions},f.a.createElement("div",{className:"jsx-2454103362 content"},f.a.createElement("p",{className:"jsx-2454103362"},"以下几种情况会被拒收，请不要寄出："),f.a.createElement(mm.a,{style:{marginTop:12,marginBottom:12},items:["有馆藏类印章或标签的书","被写过的习题册","主要附件缺失的书","音像制品","品相差到影响阅读的书"]}),f.a.createElement(ma.a,{withArrow:!0,colored:!0,to:"/support/condition"},"查看更多审核规则")),f.a.createElement(P.a,{id:"2454103362"},[".content.jsx-2454103362{padding:27px 23px 25px;font-size:16px;font-weight:300;line-height:1.5;text-align:left;}"])):null}},{key:"renderErrorTip",value:function(){var e,t=this,n=this.props,r=n.error,o=n.onDismissError,a=n.onUpdateAppealBook;if(!r)return null;var i,c=r.data&&r.data.isFree;if("BOOK_CANT_BUYBACK"===r.type&&c)return null;switch(r.type){case"BOOK_CANT_BUYBACK":case"BOOK_NOT_FOUND":case"BOOK_CANT_SELL":case"PUBLISHER_CANT_SELL":e="抱歉，多抓鱼暂时不收这本书";break;case"ISBN_FORMAT_ERROR":e="条形码读取失败，可尝试手动输入条形码号";break;case"ADD_USER_BOOK_TOO_FREQUENT":e="你扫码的书够多了，赶紧下单吧";break;case"NOT_ALLOW_DUMPING":e=f.a.createElement("div",{className:"jsx-447649184 content"},"啊喔，这本书你已经卖过一本了，多抓鱼不支持个人用户反复售卖相同的书籍。如有大宗书籍需要售卖，可联系多抓鱼 b2b 小组：b2b@duozhuayu.net",f.a.createElement(P.a,{id:"447649184"},[".content.jsx-447649184{line-height:1.5;text-align:left;}"]));break;case"DZY_CODE_NOT_EXIST":e="无效的 ISBN 或多抓鱼条码";break;case"ADDED_BOOK_IS_SET":e=f.a.createElement("div",{className:"jsx-3225330115 root"},f.a.createElement("h3",{className:"jsx-3225330115"},"这是套装书，只要扫一册即可"),f.a.createElement("div",{className:"jsx-3225330115 pic"},f.a.createElement($D,{width:120})),f.a.createElement("p",{className:"jsx-3225330115 desc"},"请在打包时将套装书的所有单册绑放在一起或放在一个袋子里寄出"),f.a.createElement(P.a,{id:"3225330115"},["h3.jsx-3225330115{font-size:18px;font-weight:500;}"]));break;case"ISBN_MULTIPLE_VERSIONS":var l=r.data.books[0];return f.a.createElement(pa.a,{onClose:o},f.a.createElement(lM,{versions:r.data.books,onClose:o,onSubmit:function(e){(0,t.props.onAddUserBook)({bookId:e,barcode:l.isbn13}).then(o)}}))}if(!e)return null;switch(r.type){case"ISBN_FORMAT_ERROR":i=[{primary:!0,label:"手动输入",onClick:this.manualType}];break;case"BOOK_NOT_FOUND":case"BOOK_CANT_SELL":case"PUBLISHER_CANT_SELL":i=[{primary:!0,label:"换本试试",onClick:this.rescan}];break;case"BOOK_CANT_BUYBACK":i=[{label:"好的",onClick:o}],r.data&&r.data.id&&(i=[].concat(VU(i),[{primary:!0,label:"这本书该收",onClick:function(){o(),a(r.data.id)}}]));break;default:i=null}return f.a.createElement(ie.a,{onClose:o,actions:i},f.a.createElement("div",{className:"jsx-3153392107 root"},e),f.a.createElement(P.a,{id:"3153392107"},[".root.jsx-3153392107{padding:28px 30px;font-size:15px;}"]))}},{key:"renderRefusedBooks",value:function(){var e=this.props,t=e.refuseBookIds,n=e.onLoadRefused,r=e.loadRefusedStatus;return t.length?f.a.createElement("div",{className:P.a.dynamic([["2376153983",[L.a.lighterFont]]])+" SellPage-refusedBooks"},f.a.createElement("div",{className:P.a.dynamic([["2376153983",[L.a.lighterFont]]])+" header"},f.a.createElement("h3",{className:P.a.dynamic([["2376153983",[L.a.lighterFont]]])},"以下书暂时不收"),f.a.createElement("span",{className:P.a.dynamic([["2376153983",[L.a.lighterFont]]])+" tip"},"收购时会通知你")),f.a.createElement(Ut.a,{noFooter:!0,loadStatus:r,items:t,loader:n,renderItem:JU}),f.a.createElement(P.a,{id:"2376153983",dynamic:[L.a.lighterFont]},[".header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".tip.__jsx-style-dynamic-selector{color:".concat(L.a.lighterFont,";margin-left:8px;font-size:14px;}")])):null}},{key:"renderActionBar",value:function(){var e=this.props,t=e.totalPrice,n=e.totalMediumPrice,r=e.userBookIds,o=e.isAddedBooksSufficient,a=e.onNext,i=e.isSeller,c=Object(Mo.b)(t,!0,2);return f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["2983019762",[L.a.lightGray,L.a.darkGray,L.a.lighterFont,L.a.lighterFont]]])+" bar-inner"},f.a.createElement("div",{className:P.a.dynamic([["2983019762",[L.a.lightGray,L.a.darkGray,L.a.lighterFont,L.a.lighterFont]]])+" bar-actions"},f.a.createElement("div",{className:P.a.dynamic([["2983019762",[L.a.lightGray,L.a.darkGray,L.a.lighterFont,L.a.lighterFont]]])+" bar-info"},f.a.createElement(fe.a,{centerAlign:!0},f.a.createElement(fe.a,{normal:!0,autoPadding:!0},r.length),f.a.createElement(fe.a,{lighter:!0},"本 最高可卖"),f.a.createElement(fe.a,{large:!0,emphasis:!0,style:ez},"".concat(c))),f.a.createElement("div",{className:P.a.dynamic([["2983019762",[L.a.lightGray,L.a.darkGray,L.a.lighterFont,L.a.lighterFont]]])+" price-range-hint"},"预估价格区间",f.a.createElement(Mo.a,{sign:!0,n:n}),"~",f.a.createElement(Mo.a,{sign:!0,n:t}),f.a.createElement(ma.a,{style:tz,to:"/support/condition"},f.a.createElement(oe,{height:12})))),f.a.createElement(D.a,{primary:!0,normal:!0,disabled:!o,onClick:i?a:this.openRulesUpdateModal,style:$U},"下一步"))),f.a.createElement(P.a,{id:"2983019762",dynamic:[L.a.lightGray,L.a.darkGray,L.a.lighterFont,L.a.lighterFont]},[".bar-inner.__jsx-style-dynamic-selector{padding:16px;background-color:".concat(L.a.lightGray,";}"),".bar-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".bar-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-size:14px;}",".price-desc.__jsx-style-dynamic-selector{margin-top:17px;padding:12px 0;border-top:0.5px solid ".concat(L.a.darkGray,";font-size:12px;font-weight:300;line-height:normal;text-align:left;color:").concat(L.a.lighterFont,";}"),".price-range-hint.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:6px;font-size:12px;font-weight:300;color:".concat(L.a.lighterFont,";}")]))}},{key:"render",value:function(){var e=this.props,t=e.city,n=e.source,r=e.userBookIds,o=e.refuseBookIds,a=e.isAddedBooksSufficient,c=e.wechatSDKLoadStatus,l=e.onScan,s=e.onSubscribe,u=e.onManual,p=0===r.length&&0===o.length,d=p?f.a.createElement(CU,null):f.a.createElement("div",{className:"SellPage-books"},r.map(function(e){return f.a.createElement(BU,{key:e,id:e,label:"recall_seller"===n?XU:null})})),m=O.m||Object(v.b)(),y=Object(O.j)()||m&&"loaded"!==c;return f.a.createElement("div",{className:"SellPage"},f.a.createElement(ue.a,{title:"卖书给多抓鱼"}),f.a.createElement(Fc.a,null),f.a.createElement(WM,null),f.a.createElement(OM,null),f.a.createElement(NM,null),this.renderErrorTip(),this.renderVariantPriceModal(),f.a.createElement(i.a,{path:"/sell/add",component:mM}),f.a.createElement(HU,null),d,this.renderRefusedBooks(),f.a.createElement(Ny,{to:"/support?section=sell",text:"了解更多卖书规则"}),f.a.createElement(Ze.a,null,f.a.createElement("div",{className:"SellPage-actions"},f.a.createElement(D.a,{icon:!0,primary:!0,disabled:y,onClick:Object(O.k)()?s:l,className:N()("SellPage-scanButton",{"SellPage-scanButton--huge":p})},f.a.createElement(tM,{className:"SellPage-scanIcon"}),"扫码卖书"),!p&&f.a.createElement(D.a,{icon:!0,className:"SellPage-typeButton",onClick:u},f.a.createElement(uM,{className:"SellPage-typeIcon"}),"手动输入")),p&&f.a.createElement("div",{className:"SellPage-actions"},f.a.createElement("span",{className:"SellPage-link",onClick:u},"手动输入 ISBN")),Boolean(r.length)&&!a&&f.a.createElement(XD,null,"北京市"===t?"继续扫描其他书，总价 20 元即可下单":"继续扫描其他书，总价 40 元即可下单"),0!==r.length&&this.renderActionBar()))}}])&&KU(n.prototype,r),o&&KU(n,o),t}(),rz=Object(a.b)(function(e){return{isAddedBooksSufficient:Object(F.t)(e),wechatSDKLoadStatus:Object(F.Y)(e),userBookIds:Object(F.W)(e),refuseBookIds:Object(F.C)(e),loadStatus:Object(Mc.m)(e.addedBooks),loadRefusedStatus:Object(Mc.m)(e.refusedBooks.refusedBooks),totalPrice:Object(F.Q)(e),totalMediumPrice:Object(F.R)(e),error:Object(F.f)(e),city:e.address.values.city,isSeller:e.session.user.isSeller}},ZU)(Object(Ne.a)(nz));function oz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var az=["运费怎么计算？","满 99 元免运费。基础运费 5 元。\n \n 偏远地区（甘肃、内蒙古、宁夏、青海、海南、新疆、西藏）：\n 满 199 元免运费。基础运费 10 元，超过 3 本，每本增加 1.6 元运费。"],iz=["运费参与哪些优惠？","买书包邮券可以减免运费。\n 运费不参与买书抵扣券和满减券的优惠；不参与余额支付的优惠。"],cz=[az,iz],lz=function(){return f.a.createElement("div",{className:"jsx-3983355938 shipping-cost-page"},cz.map(function(e){var t=oz(e,2),n=t[0],r=t[1];return f.a.createElement("div",{key:n,className:"jsx-3983355938 section-wrap"},f.a.createElement(jS,null,n),f.a.createElement(ch,null,r))}),f.a.createElement(P.a,{id:"3983355938"},[".shipping-cost-page.jsx-3983355938{box-sizing:border-box;padding:15px;background-color:#fff;min-height:100vh;}",".section-wrap.jsx-3983355938{margin-bottom:20px;}"]))};function sz(e){return(sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dz(e){return(dz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yz(e,t){return(yz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bz={flexShrink:0,marginLeft:"5px"},hz=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=dz(t).call(this,e))||"object"!==sz(o)&&"function"!=typeof o?mz(r):o).state={showContent:!1},n.toggleAccordion=n.toggleAccordion.bind(mz(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yz(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"toggleAccordion",value:function(){this.setState({showContent:!this.state.showContent})}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.className,r=fz(t,4),o=r[0],a=r[1],i=r[2],c=r[3],l=this.state.showContent,s=l?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uz(e,t,n[t])})}return e}({transform:"rotate(180deg)"},bz):bz;return f.a.createElement("div",{onClick:this.toggleAccordion,className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" "+(N()("accordion",n)||"")},f.a.createElement("div",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" main-section"},f.a.createElement("p",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" title"},o),f.a.createElement(bs,{width:24,height:24,stroke:L.a.lighterFont,style:s})),f.a.createElement("div",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" "+(N()("folded-section",{expanded:l})||"")},f.a.createElement("div",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" content"},f.a.createElement("p",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" text"},a),i&&f.a.createElement("div",{className:P.a.dynamic([["3106150681",[L.a.confusingGray,L.a.lightFont]]])+" link"},f.a.createElement(ma.a,{colored:!0,withArrow:!0,to:i},c)))),f.a.createElement(P.a,{id:"3106150681",dynamic:[L.a.confusingGray,L.a.lightFont]},[".accordion.__jsx-style-dynamic-selector{border-bottom:0.5px solid ".concat(L.a.confusingGray,";padding:22px 0;cursor:pointer;}"),".main-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".title.__jsx-style-dynamic-selector{font-size:16px;font-weight:500;}",".folded-section.__jsx-style-dynamic-selector{height:0;overflow:hidden;}",".folded-section.expanded.__jsx-style-dynamic-selector{height:auto;}",".content.__jsx-style-dynamic-selector{font-weight:400;opacity:0;}",".folded-section.expanded.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{opacity:1;-webkit-transition:opacity 0.4s;transition:opacity 0.4s;}",".text.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";font-size:15px;line-height:1.5;margin-top:12px;white-space:pre-line;}"),".link.__jsx-style-dynamic-selector{margin-top:6px;}"]))}}])&&pz(n.prototype,r),o&&pz(n,o),t}();function gz(e){return(gz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vz(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wz(e){return(wz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ez(e,t){return(Ez=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jz=function(e){return"scroll-nav-section-".concat(e)},kz=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=wz(t).call(this,e))||"object"!==gz(o)&&"function"!=typeof o?Oz(r):o).state={index:e.active||0,item:e.activeItem||"",fixed:!1},n.placeholderStyle={},n.$elem=null,n.getRef=n.getRef.bind(Oz(n)),n.handleLabelSticky=n.handleLabelSticky.bind(Oz(n)),n.handleScroll=n.handleScroll.bind(Oz(n)),n.scrollToItem=n.scrollToItem.bind(Oz(n)),n.navigateToSection=n.navigateToSection.bind(Oz(n)),n.getSectionElem=n.getSectionElem.bind(Oz(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ez(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.state,t=e.index,n=e.item;this.placeholderStyle={height:this.getLabelHeight()},n?this.scrollToItem():0!==t&&this.scrollToSection(t)}},{key:"getRef",value:function(e){this.$elem=e}},{key:"handleScroll",value:function(){this.detectActiveSection()}},{key:"detectActiveSection",value:function(){var e=this.placeholderStyle.height,t=this.getSectionElem().findIndex(function(t){var n=t.getBoundingClientRect(),r=n.top,o=n.bottom;return r<=e&&o>e});-1!==t&&this.setState({index:t})}},{key:"getSectionElem",value:function(e){return void 0===e?vz(this.$elem.querySelectorAll(".scroll-nav-section")):this.$elem.querySelector(".".concat(jz(e)))}},{key:"getLabelElem",value:function(){return this.$elem.querySelector(".label-wrap")}},{key:"getLabelHeight",value:function(){return this.getLabelElem().getBoundingClientRect().height}},{key:"navigateToSection",value:function(e){this.scrollToSection(e)}},{key:"scrollToElem",value:function(e){var t=e.getBoundingClientRect().top,n=Object(w.b)()+t+1,r=-this.placeholderStyle.height;window.scroll({top:n+r,left:0,behavior:"smooth"})}},{key:"scrollToSection",value:function(e){var t=this.getSectionElem(e);this.scrollToElem(t)}},{key:"scrollToItem",value:function(){var e=this.$elem.querySelector(".".concat(this.state.item));this.scrollToElem(e)}},{key:"handleLabelSticky",value:function(e){e||this.setState({index:0})}},{key:"renderLabels",value:function(){var e=this,t=this.props.navs,n=this.state.index;return t.map(function(t,r){return f.a.createElement(kd,{noLink:!0,key:"nav-label-".concat(t.label),active:r===n,onClick:function(t){t.preventDefault(),e.navigateToSection(r)}},t.label)})}},{key:"renderSections",value:function(){return this.props.navs.map(function(e,t){return f.a.createElement("section",{key:"nav-section-".concat(e.label),className:N()("scroll-nav-section",jz(t))},e.content)})}},{key:"render",value:function(){var e=this.state.fixed,t=this.props.navs,n=this.renderLabels(),r=this.renderSections();return f.a.createElement("div",{ref:this.getRef,className:N()("root",{fixed:e})},f.a.createElement(VO,{onScroll:this.handleScroll}),f.a.createElement(Ld,{onChange:this.handleLabelSticky},f.a.createElement("div",{className:"label-wrap"},f.a.createElement(Xe.a,null,f.a.createElement(jd,{even:t.length%2==0},n)))),f.a.createElement("div",{className:"section-wrap"},r))}}])&&xz(n.prototype,r),o&&xz(n,o),t}();var _z={sell:[].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(PU),[["如何卖书？","扫描书背面的 ISBN 码或手动输入书的 ISBN 号，扫码书籍达到收购数量后，提交卖书订单。"],["不经过扫码和下单，可以直接寄书过来卖吗？","强烈建议你把想卖的书扫码下单后再寄出，如果你把没有扫码的书直接寄过来，多抓鱼不一定会收这本书，并且也不能保证可以取回，请尽量走扫码流程卖书给多抓鱼哦。"],["如何收到卖书的钱？","快递签收后，我们会在 1-3 天内完成书籍的审核与打款。审核后，除去未收到的书以及审核拒绝的书，其余书费将即刻到你的多抓鱼账户，可以随时提现到微信零钱包或用来购买多抓鱼的其他商品。春节、促销活动等审核紧张时期，审核时间可能会延长，具体延时会在下单前通知。"],["卖书订单可否取消？","在顺丰或京东上门取货前，可以取消。已经在运送途中的卖书订单，不能取消。"],["卖书的物流费用谁承担？","卖书运费全部由多抓鱼承担，多抓鱼会安排顺丰或京东上门取件，选择「到付」即可。"],lF,jB,["收购杂志吗？","目前开放 5 种杂志的收购：《三联生活周刊》（2003 年以后）、《新视线》（2009 年以后）、《新知》、《中国国家地理》、《博物》，同一种杂志的每一期使用统一收购价，收购价可在扫码后获得。对于不在收购范围内的杂志，多抓鱼不会打款，也暂时不支持取回，请确认寄出的杂志在收购范围内。"]]),buy:[["书会消毒吗？","多抓鱼对上架售卖的书均进行清理、翻新、消毒和包装。"],["品相如何？","目前包括全新、良品、中品三个等级。良品总体较新，有轻微使用痕迹；中品是有明显使用痕迹或无法修复的瑕疵或问题。","/support/quality","不同品相示例"],["何时发货？","17:00 前下单的当天发货，17:00 后下单的第二天发货。发货后，会通过多抓鱼公众号推送物流信息。"],["使用什么快递？","统一使用中通快递，部分地区中通无法配送的会切换至 EMS / 顺丰，具体以发货通知显示的为准。暂不支持自选快递。"],["多久送达？","根据不同地区距离多抓鱼仓库的远近，中通快递一般时效为 2-5 天，顺丰 / EMS 为 1-3 天，具体以实际情况为准。"],az,iz,["买书订单可以取消吗？取消后如何退款？","在商品拣货前可以取消，开始拣货后无法取消。订单取消后，款项将原路退回。每天能取消的次数不超过 5 次（包括未支付、已支付和 30 分钟锁定期被动取消）。"],["可以退换货吗？","非品相或质量问题，不可以退换货。多抓鱼提供的是循环服务，会对所有出库书籍进行翻新、消毒、再包装。因服务造成的品相不达标或其他质量问题，请在收到书的 15 日内联系客服退款处理。如订单超出 15 日售后时效，则无法申请售后。如有疑问，请与客服联系。"],["到货提醒按什么规则发送？","每次有书上架时都会给标记过这本书「到货提醒」的用户发通知。当一本书被太多人标记了「到货提醒」时，通知是无法做到同时发送给所有人的。如果在发送过程中这本书已经被买走了，就不会继续给余下的人发送了，这会导致有时候书到货了却有部分用户没收到通知的情况。我们会用公平的轮换机制去安排每次书到货时的通知发送顺序。"]]},Sz=[{id:"protocol",text:"多抓鱼用户协议",link:"/support/user-protocol"},{id:"license",text:"营业执照 · 经营许可",link:"/support/license"}],Cz=function(e,t){return f.a.createElement("div",{className:"jsx-1228890194 section-wrap"},e.map(function(e,n){return f.a.createElement(hz,{key:n,item:e,className:"".concat(t,"-item-").concat(n)})}),f.a.createElement(P.a,{id:"1228890194"},[".section-wrap.jsx-1228890194{padding:0 15px;}"]))},Pz=function(e){var t=e.location.search,n=Object(Mt.a)(t),r=n.section,o=n.item,a="sell"===r?1:0,i=o&&"".concat(r,"-item-").concat(o);return f.a.createElement("div",{className:P.a.dynamic([["447338402",[L.a.confusingGray,L.a.lightFont]]])+" support-page"},f.a.createElement(ue.a,{title:"常见问题"}),f.a.createElement(kz,{active:a,activeItem:i,navs:[{label:"买书",content:Cz(_z.buy,"buy")},{label:"卖书",content:Cz(_z.sell,"sell")}]}),Sz.map(function(e){var t=e.id,n=e.text,r=e.link;return f.a.createElement("div",{key:t,className:P.a.dynamic([["447338402",[L.a.confusingGray,L.a.lightFont]]])+" link-wrap"},f.a.createElement(ma.a,{to:r},f.a.createElement("div",{className:P.a.dynamic([["447338402",[L.a.confusingGray,L.a.lightFont]]])+" link-content"},f.a.createElement("p",{className:P.a.dynamic([["447338402",[L.a.confusingGray,L.a.lightFont]]])+" text"},n),f.a.createElement(qn.a,{stroke:L.a.lighterFont}))))}),f.a.createElement(P.a,{id:"447338402",dynamic:[L.a.confusingGray,L.a.lightFont]},[".support-page.__jsx-style-dynamic-selector{background:#fff;}",".link-wrap.__jsx-style-dynamic-selector{margin:0 15px;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".link-wrap.__jsx-style-dynamic-selector:last-child{border-bottom:none;}",".link-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 0;}",".text.__jsx-style-dynamic-selector{color:".concat(L.a.lightFont,";font-weight:400;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}")]))},Iz=n("B8iD"),Tz=Object(Mc.j)({selector:function(e){return e.tag.tagBooks},types:[Uo.of,Uo.pf,Uo.nf],schema:Ve.a.books,url:function(e){var t=e.id,n=e.nextUrlFromPath;return n||"/tags/".concat(t,"/books")},getQuery:function(e,t){var n=t.id,r=void 0===n?"":n,o=e.bookFilter.sorters,a=(void 0===o?{}:o)[r];if(!a)return"";var i={sortBy:a};return Object(Mt.b)(i)}});function Nz(e){return(Nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lz(e){return(Lz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Az(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fz(e,t){return(Fz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bz={selectSorter:function(e,t){return{type:Uo.Sf,tagId:e,sorter:t}}},Dz=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Lz(t).call(this,e))||"object"!==Nz(o)&&"function"!=typeof o?Az(r):o).handleSelectOpen=n.handleSelectOpen.bind(Az(n)),n.handleSorterSelect=n.handleSorterSelect.bind(Az(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fz(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.tag.id,n=e.selectSorter;"PUSH"===Object(A.a)().action&&n(t,"")}},{key:"handleSelectOpen",value:function(e){var t=this.props.forceSticky;e&&"function"==typeof t&&t()}},{key:"handleSorterSelect",value:function(e){var t=this.props,n=t.sorter,r=t.tag,o=t.selectSorter,a=t.resetSticky,i=t.onChange;e!==n&&(o(r.id,e),"function"==typeof a&&a(),i&&i())}},{key:"render",value:function(){var e=this.props,t=e.sorter,n=e.sorterOptions;return f.a.createElement("div",{className:"jsx-2099078796 tag-panel"},!!n.length&&f.a.createElement(Jj,{style:{flexGrow:1},options:n,selectedValue:t,onSelect:this.handleSorterSelect,onActiveChange:this.handleSelectOpen}),f.a.createElement(P.a,{id:"2099078796"},[".tag-panel.jsx-2099078796{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]))}}])&&Rz(n.prototype,r),o&&Rz(n,o),t}(),Mz=Object(a.b)(function(e,t){var n=e.bookFilter,r=n.sorters,o=n.sorterOptions;return{sorter:r[t.tag.id]||"",sorterOptions:o}},Bz)(Dz);function Uz(e){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gz(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wz(e){return(Wz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kz(e,t){return(Kz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qz=function(e){return e.querySelectorAll(".BookItem")},Yz=function(e){return f.a.createElement(Nf,{key:e,id:e},function(e){return f.a.createElement(ij,{fixHeight:!0,bottomLabel:!0,showFreeLabel:!0,showWishlistButton:!0,book:e})})},Qz=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Wz(t).call(this,e))||"object"!==Uz(o)&&"function"!=typeof o?Vz(r):o).getTrackItemData=n.getTrackItemData.bind(Vz(n)),n.renderSSRFooter=n.renderSSRFooter.bind(Vz(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kz(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.booksLoadStatus,n=e.history;"initial"!==t&&"PUSH"!==n.action||this.props.onLoadBooks(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sorter,r=t.onLoadBooks;n!==e.sorter&&r(!0)}},{key:"getTrackItemData",value:function(e){var t=this;return e.map(function(e){var n=e.index;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zz(e,t,n[t])})}return e}({},Gz(e,["index"]),{index:n,objectType:"book",objectId:t.props.bookIds[n]})})}},{key:"renderWechatShare",value:function(){var e=this.props.tag,t=e.name,n=e.itemsCount,r=e.booksCount,o=this.isItemTag?{desc:"".concat(n," 件商品在售"),title:"多抓鱼二手商店 - ".concat(t)}:{desc:"".concat(r," 本书在售"),title:"".concat(t," 分类")};return f.a.createElement(Bc.a,o)}},{key:"renderHeader",value:function(){var e=this.props.tag,t=e.name,n=e.itemsCount,r=e.booksCount,o=e.type;return f.a.createElement("header",{className:P.a.dynamic([["1491550636",[L.a.lighterFont]]])+" header"},f.a.createElement("h1",{className:P.a.dynamic([["1491550636",[L.a.lighterFont]]])+" title"},f.a.createElement(DB,{className:"icon"}),t),f.a.createElement("div",{className:P.a.dynamic([["1491550636",[L.a.lighterFont]]])+" meta"},"itemTag"===o?f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{padEnd:!0},n),"件在售"):f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{padEnd:!0},r),"本在售")),f.a.createElement(P.a,{id:"1491550636",dynamic:[L.a.lighterFont]},[".header.__jsx-style-dynamic-selector{padding:26px 0 14px;text-align:center;}",".title.__jsx-style-dynamic-selector{margin:0;font-size:18px;font-weight:400;}",".icon.__jsx-style-dynamic-selector{margin-right:5px;vertical-align:-1px;}",".meta.__jsx-style-dynamic-selector{font-size:13px;color:".concat(L.a.lighterFont,";}")]))}},{key:"renderFilter",value:function(){var e=this.props.tag;return this.isItemTag?null:f.a.createElement(Ld,null,function(t){var n=t.resetSticky,r=t.forceSticky;return f.a.createElement(Mz,{tag:e,resetSticky:n,forceSticky:r})})}},{key:"renderSSRFooter",value:function(){var e=this.props.booksNextUrl;return f.a.createElement(gj,{nextUrl:e})}},{key:"renderBookList",value:function(){var e=this.props,t=e.bookIds,n=e.booksLoadStatus,r=e.onLoadBooks,o=!["initial","failed","loading"].includes(n);return f.a.createElement(iE,{module:"tag_books",direction:"column",active:o,getTrackDOMItems:qz,getTrackItemData:this.getTrackItemData},f.a.createElement(Ut.a,{loadStatus:n,loader:r,items:t,renderItem:Yz,renderSSRFooter:this.renderSSRFooter}))}},{key:"renderItemList",value:function(){var e=this.props,t=e.items,n=e.itemsLoadStatus,r=e.onLoadItems;return f.a.createElement(SO,{loadStatus:n,loader:r,items:t})}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.loadStatus,r=e.onLoad;if(!t)return"loading"===n?f.a.createElement("div",{className:"jsx-2591618721 tag-page empty"},f.a.createElement(q.a,null),f.a.createElement(P.a,{id:"2591618721"},[".empty.jsx-2591618721{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;height:100vh;background:#fff;}"])):"notFound"===n?f.a.createElement(gc.a,null):f.a.createElement(ZP,{loadStatus:n,loader:r});var o=this.isItemTag?this.renderItemList():this.renderBookList();return f.a.createElement("div",{className:"jsx-1353912066 tag-page"},f.a.createElement(ue.a,{title:this.pageTitle,withSuffix:!0}),f.a.createElement(Fc.a,null),this.renderWechatShare(),f.a.createElement(ZP,{loadStatus:n,loader:r}),this.renderHeader(),this.renderFilter(),f.a.createElement("div",{className:"jsx-1353912066 main"},o),this.isItemTag&&f.a.createElement(G,{to:"/item/list"}),f.a.createElement(P.a,{id:"1353912066"},[".tag-page.jsx-1353912066{box-sizing:border-box;min-height:100vh;padding-bottom:51px;background:#fff;}",".main.jsx-1353912066{padding-top:5px;}"]))}},{key:"pageTitle",get:function(){this.props.tag;return""}},{key:"isItemTag",get:function(){var e=this.props.tag;return"itemTag"===(void 0===e?{}:e).type}}])&&Hz(n.prototype,r),o&&Hz(n,o),t}(),Zz=Object(a.b)(function(e,t){var n=t.match.params.id,r=e.entities;return{sorter:e.bookFilter.sorters[n],tag:Object(Pe.z)(r,n),bookIds:Object(Iz.b)(e,n),items:Object(Qw.f)(e,n),loadStatus:Object(Pe.A)(r,n),booksLoadStatus:Object(Iz.c)(e,n),itemsLoadStatus:Object(Qw.g)(e,n),booksNextUrl:Object(Iz.d)(e,n)}},function(e,t){var n=t.match.params.id;return{onLoad:function(){return e(function(e){return{id:e,fetch:{types:[Uo.rf,Uo.sf,Uo.qf],from:"/tags/".concat(e),schema:Ve.a.tag}}}(n))},onLoadBooks:function(t){return e(Tz(t,{id:n}))},onLoadItems:function(t){e(Jw(t,{id:n}))}}})(Object(Ne.a)(Qz));function Xz(e){return(Xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $z(e){return($z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(e,t){return(tG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nG={soldBook:{},joke:"",recommendBook:{},qrcodeImageUrl:""},rG={onLoadTarot:PL,onLoadUser:Te.l},oG={border:"0 none"},aG={width:266,height:44,borderRadius:100,border:"solid 1px ".concat(L.a.font),backgroundColor:L.a.golden},iG={display:"block",marginBottom:11,fontSize:12,lineheight:1.5,textAlign:"center"},cG=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=$z(t).call(this,e))||"object"!==Xz(o)&&"function"!=typeof o?eG(r):o).leavePage=n.leavePage.bind(eG(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tG(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.userId,n=e.orderId,r=e.user,o=e.loadStatus,a=e.onLoadTarot,i=e.onLoadUser;"loaded"!==o&&a(n),r||i(t)}},{key:"leavePage",value:function(){var e=this.props,t=e.orderId,n=e.isCurrentUser?"/orders/sell/".concat(t):"/sell";Object(A.a)().push(n)}},{key:"renderContent",value:function(){var e,t=this.props,n=t.orderId,r=t.userId,o=t.name,a=t.gender,i=t.avatar,c=t.explain,l=t.loadStatus,s=t.soldBookTitle,p=t.recommendBookTitle,d=t.qrcodeImageUrl,m=t.currentUserId,y=t.isCurrentUser,b=t.isUserLoaded;if("loading"!==l&&b){if("loaded"===l){var h="".concat(o,"卖掉了").concat(a,"的「").concat(s,"」，").concat(c),g=Object(Mt.b)({user_id:r,order_id:n}),v="/tarot/landing?".concat(g);e=f.a.createElement(u.Fragment,null,f.a.createElement(Bc.a,{title:h,link:"".concat(Object(Qr.a)(v,"invitation")),gaSource:"1111_".concat(m)}),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" header"},f.a.createElement(Zt.a,{large:!0,url:i,style:oG})),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" main"},f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" content"},f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" left"},f.a.createElement("img",{alt:"",src:"https://asset.duozhuayu.com/1111/left_text.png",className:P.a.dynamic([["1020342413",[L.a.golden]]])})),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" explain-content"},h),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" right"},f.a.createElement("img",{alt:"",src:"https://asset.duozhuayu.com/1111/right_text.png",className:P.a.dynamic([["1020342413",[L.a.golden]]])}))),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" tips"},f.a.createElement("img",{alt:"",src:"https://asset.duozhuayu.com/1111/center_text.png",className:P.a.dynamic([["1020342413",[L.a.golden]]])})),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" recommend"},"推荐阅读《".concat(p,"》"))),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" share-qrcode"},"多抓鱼",f.a.createElement("br",{className:P.a.dynamic([["1020342413",[L.a.golden]]])}),"轻松买卖二手书的循环商店",f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" qrcode"},f.a.createElement("img",{alt:"",src:d,className:P.a.dynamic([["1020342413",[L.a.golden]]])+" qrcode-img"}))),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" holder"}),f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" footer"},y?f.a.createElement("div",{className:P.a.dynamic([["1020342413",[L.a.golden]]])+" order-hint"},"你卖的书已经下单成功了"):f.a.createElement(ma.a,{withArrow:!0,to:"/",style:iG},"去多抓鱼首页"),f.a.createElement(D.a,{style:aG,onClick:this.leavePage},y?"查看订单":"去多抓鱼卖书")),f.a.createElement(P.a,{id:"1020342413",dynamic:[L.a.golden]},[".header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:266px;height:50px;margin:30px 0 35px;background-image:url(https://asset.duozhuayu.com/1111/title_bg.png);background-size:contain;background-position:center;background-repeat:no-repeat;}",".main.__jsx-style-dynamic-selector{box-sizing:border-box;width:310px;border:solid 4px #000;}",".content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-height:162px;}",".left.__jsx-style-dynamic-selector{border-right:1px solid #000;}",".right.__jsx-style-dynamic-selector{border-left:1px solid #000;}",".left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:44px;}",".left.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:50%;}",".explain-content.__jsx-style-dynamic-selector{padding:29px 19px;font-size:18px;font-weight:500;line-height:1.56;-webkit-letter-spacing:0.4px;-moz-letter-spacing:0.4px;-ms-letter-spacing:0.4px;letter-spacing:0.4px;text-align:left;color:rgb(35,24,21);}",".tips.__jsx-style-dynamic-selector{height:20px;background-color:#000;text-align:center;}",".tips.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{height:100%;}",".recommend.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:75px;font-size:18px;font-weight:500;line-height:1.56;-webkit-letter-spacing:0.4px;-moz-letter-spacing:0.4px;-ms-letter-spacing:0.4px;letter-spacing:0.4px;text-align:left;color:rgb(35,24,21);}",".share-qrcode.__jsx-style-dynamic-selector{box-sizing:border-box;width:310px;margin-top:10px;padding-right:80px;position:relative;font-size:12px;font-weight:normal;line-height:1.5;text-align:right;}",".qrcode.__jsx-style-dynamic-selector{width:69px;height:69px;position:absolute;right:0;top:-25px;background-size:cover;background-position:center;background-repeat:no-repeat;}",".qrcode-img.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;}",".qrcode.__jsx-style-dynamic-selector:before{content:'';width:69px;height:69px;position:absolute;left:-5px;bottom:-5px;background-color:".concat(L.a.golden,";}"),".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".order-hint.__jsx-style-dynamic-selector{margin-bottom:11px;font-size:12px;line-height:1.5;text-align:center;}",".footer.__jsx-style-dynamic-selector{margin-top:20px;}"]))}}else e=f.a.createElement(q.a,null);return e}},{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-1273085435 tarot-page"},this.renderContent(),f.a.createElement(P.a,{id:"1273085435"},[".tarot-page.jsx-1273085435{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:100vh;padding-bottom:30px;background:url(https://asset.duozhuayu.com/1111/bg.png);}"]))}}])&&Jz(n.prototype,r),o&&Jz(n,o),t}(),lG=Object(a.b)(function(e,t){var n=t.location.search,r=Object(Mt.a)(n),o=r.orderId,a=r.userId,i=e.entities,c=e.session.user,l=c.id,s=a===l,u=s?c:Object(Pe.F)(i,a),f=u||{},p=f.name,d=f.avatar,m="male"===f.gender?"他":"她",y=Object(Pe.C)(i)[o]||nG,b=Object(Pe.B)(i,o),h=y.joke,g=y.qrcodeImageUrl,v=y.soldBook.title,x=void 0===v?"":v,w=y.recommendBook.title;return{name:p,gender:m,avatar:d,soldBookTitle:x,recommendBookTitle:void 0===w?"":w,orderId:o,userId:a,explain:h,qrcodeImageUrl:g,loadStatus:b,isCurrentUser:s,currentUserId:l,isUserLoaded:!!u}},rG)(Object(Ne.a)(cG)),sG=n("2l0V");function uG(e){return(uG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pG(e,t){return!t||"object"!==uG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dG(e){return(dG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mG(e,t){return(mG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pG(this,dG(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mG(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.userBook,n=e.id;if(!t)return f.a.createElement(gc.a,null);var r=t.book;return f.a.createElement("div",{className:P.a.dynamic([["556792390",[L.a.gray]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["556792390",[L.a.gray]]])+" wrap"},f.a.createElement(DR,{isSellOrderReviewed:!0,key:n,id:n,bookId:r.id,type:r.type,orderType:"retrieval",title:r.title,images:r.images,author:r.rawAuthor,status:t.status,reasons:t.reasons,source:t.source,price:t.acquirePrice||r.price,condition:t.condition,flawFlag:t.flawFlag,flawReasons:t.flawReasons,acquirePriceFineCondition:r.acquirePriceFineCondition,withRejectedLink:!1})),f.a.createElement("div",{className:P.a.dynamic([["556792390",[L.a.gray]]])+" wrap"},f.a.createElement("p",{className:P.a.dynamic([["556792390",[L.a.gray]]])+" remark"},t.rejectionRemarks),t.images.map(function(e){return f.a.createElement("div",{key:e.id,className:P.a.dynamic([["556792390",[L.a.gray]]])+" photo"},f.a.createElement("div",{className:P.a.dynamic([["556792390",[L.a.gray]]])+" photo-title"},e.description.replace(/\d$/,"")),f.a.createElement(gr.a,{ratio:.75,style:{backgroundImage:"url(".concat(e.url,")"),backgroundSize:"cover"}}))})),f.a.createElement(Ny,{text:"书籍审核标准细则",to:"/support/condition"}),f.a.createElement(P.a,{id:"556792390",dynamic:[L.a.gray]},[".root.__jsx-style-dynamic-selector{background-color:#fff;padding-bottom:30px;}",".wrap.__jsx-style-dynamic-selector{padding:6px 16px;border-bottom:0.5px solid ".concat(L.a.gray,";}"),".photo.__jsx-style-dynamic-selector{margin-bottom:18px;}",".photo-title.__jsx-style-dynamic-selector{padding:6px 0;}",".remark.__jsx-style-dynamic-selector{margin:15px 0;}"]))}}])&&fG(n.prototype,r),o&&fG(n,o),t}(),bG=Object(a.b)(function(e,t){var n=t.match.params.id;return{id:n,userBook:Object(F.q)(e,n)}},null)(yG);function hG(e){return(hG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vG(e,t){return!t||"object"!==hG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xG(e){return(xG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wG(e,t){return(wG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var OG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vG(this,xG(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wG(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.images,r=e.title;return f.a.createElement("div",{className:"jsx-3971472642 book"},f.a.createElement(ma.a,{to:"/books/".concat(t)},f.a.createElement(Ga.a,{shadowed:!0,fixHeight:!0,responsive:!0,inStock:!0,images:n}),f.a.createElement("div",{className:"jsx-3971472642 title"},r)),f.a.createElement(P.a,{id:"3971472642"},[".book.jsx-3971472642{position:relative;display:inline-block;width:100px;width:calc((100% - (10px * 6)) / 3);margin:10px;vertical-align:top;text-align:center;}","@media (max-width:359px){.book.jsx-3971472642{width:calc((100% - (10px * 4)) / 2);}}","@media (min-width:480px){.book.jsx-3971472642{width:calc((100% - (10px * 8)) / 4);}}",".title.jsx-3971472642{margin-top:6px;font-size:13px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-weight:400;}"]))}}])&&gG(n.prototype,r),o&&gG(n,o),t}();function EG(e){return(EG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kG(e){return(kG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(e,t){return(SG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CG=function(e){var t=e.children;return f.a.createElement("div",{className:"jsx-2911125218 bookshelf-list-container"},t,f.a.createElement(P.a,{id:"2911125218"},[".bookshelf-list-container.jsx-2911125218{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:-10px;}"]))},PG=function(e){var t=e.id,n=e.images,r=e.title;return f.a.createElement(OG,{key:t,id:t,images:n,title:r})},IG=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=kG(t).call(this,e))||"object"!==EG(o)&&"function"!=typeof o?_G(r):o).renderEmptyContent=n.renderEmptyContent.bind(_G(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SG(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldLoad,n=e.loadStatus,r=e.onLoad;"initial"!==n&&t&&r(!0)}},{key:"renderEmptyContent",value:function(){return this.props.isCurrentUser?f.a.createElement("div",{className:P.a.dynamic([["128499626",[L.a.lighterFont]]])},f.a.createElement("div",{className:P.a.dynamic([["128499626",[L.a.lighterFont]]])+" scan-hint"},"把家里书架上的书扫上来吧"),f.a.createElement("div",{className:P.a.dynamic([["128499626",[L.a.lighterFont]]])+" shelf-tips"},"你在多抓鱼买过的书也会在这里"),f.a.createElement(P.a,{id:"128499626",dynamic:[L.a.lighterFont]},[".scan-hint.__jsx-style-dynamic-selector{margin-top:57px;font-size:15px;font-weight:300;line-height:1;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;text-align:center;}",".shelf-tips.__jsx-style-dynamic-selector{margin-top:6px;font-size:13px;font-weight:300;text-align:center;color:".concat(L.a.lighterFont,";}")])):f.a.createElement("div",{className:P.a.dynamic([["1315879270",[L.a.lighterFont]]])+" empty-hint"},"没有添加藏书",f.a.createElement(P.a,{id:"1315879270",dynamic:[L.a.lighterFont]},[".empty-hint.__jsx-style-dynamic-selector{margin-top:90px;font-size:13px;font-weight:300;line-height:1.15;text-align:center;color:".concat(L.a.lighterFont,";}")]))}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.loadStatus,r=e.onLoad;return f.a.createElement("div",{className:"bookshelf"},f.a.createElement(Ut.a,{loadStatus:n,loader:r,items:t,contentContainer:CG,renderEmptyContent:this.renderEmptyContent,renderItem:PG}))}}])&&jG(n.prototype,r),o&&jG(n,o),t}();function TG(){return(TG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var NG=function(e){return f.a.createElement("svg",TG({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"15",viewBox:"0 0 18 15"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"},f.a.createElement("path",{d:"M15.444 4.611V14h-13V4.611"}),f.a.createElement("path",{d:"M1 1h15.889v3.611H1zM7.5 7.5h2.889"})))},RG=function(e){var t=e.children,n=e.style,r=e.onClick;return f.a.createElement("div",{style:n,onClick:r,className:"jsx-3410511937 action-btn"},t,f.a.createElement(P.a,{id:"3410511937"},[".action-btn.jsx-3410511937{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 22px;white-space:nowrap;}"]))},LG={borderLeft:"0.5px solid ".concat(L.a.confusingGray)},AG=function(e){var t=e.isEmpty,n=e.isRecommend,r=e.addBook,o=e.manageBook,a=e.recommendBook,i=f.a.createElement(u.Fragment,null,f.a.createElement(RG,{onClick:r},f.a.createElement(Tw,{width:18}),f.a.createElement(fe.a,{padStart:!0},"添加藏书")),f.a.createElement(RG,{style:LG,onClick:o},f.a.createElement(NG,{width:18}),f.a.createElement(fe.a,{padStart:!0},"管理书架")));return t?i=f.a.createElement(RG,{onClick:r},f.a.createElement(Tw,{width:18}),f.a.createElement(fe.a,{padStart:!0},"添加藏书")):n&&(i=f.a.createElement(RG,{onClick:a},f.a.createElement(Tw,{width:18}),f.a.createElement(fe.a,{padStart:!0},"写读书笔记"))),f.a.createElement(Ze.a,null,f.a.createElement("div",{className:P.a.dynamic([["36006979",[L.a.confusingGray]]])+" shelf-actions"},f.a.createElement("div",{className:P.a.dynamic([["36006979",[L.a.confusingGray]]])+" actions"},i),f.a.createElement(P.a,{id:"36006979",dynamic:[L.a.confusingGray]},[".shelf-actions.__jsx-style-dynamic-selector{position:absolute;top:-108px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}",".actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:44px;border-radius:100px;background-color:#fff;border:0.5px solid ".concat(L.a.confusingGray,";box-shadow:3px 4px 8px rgba(0,0,0,0.08);}")])))};function FG(e){return(FG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DG(e,t){return!t||"object"!==FG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MG(e){return(MG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UG(e,t){return(UG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),DG(this,MG(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UG(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.lastOwningBookId,r=t.onLoad;n&&n!==e.lastOwningBookId&&(Object(w.f)(0),r(!0))}},{key:"renderErrorTip",value:function(){var e=this,t=this.props,n=t.error,r=t.onDismissError;return n&&"ADD_OWNINGBOOK_MULTIPLE_VERSIONS"===n.type?f.a.createElement(pa.a,{onClose:r},f.a.createElement(lM,{versions:n.data.books,onClose:r,onSubmit:function(t){(0,e.props.onAddBook)(t).then(r)}})):null}},{key:"render",value:function(){var e=this.props,t=e.currentId,n=e.user,r=e.books,o=e.history,a=e.loadStatus,i=e.onLoad,c=e.onScanQRCodeAndAdd,l=e.beginManaging;return f.a.createElement("div",{className:"jsx-293887170 owning-book-shelf"},t===n.id&&f.a.createElement(AG,{isEmpty:!n.owningBooksCount,addBook:c,manageBook:l}),f.a.createElement(IG,{isCurrentUser:t===n.id,items:r,loadStatus:0===n.owningBooksCount?"drained":a,onLoad:i,shouldLoad:"POP"!==o.action}),this.renderErrorTip(),f.a.createElement(P.a,{id:"293887170"},[".owning-book-shelf.jsx-293887170{padding:20px 20px 60px;background-color:#fff;}"]))}}])&&BG(n.prototype,r),o&&BG(n,o),t}(),GG=Object(a.b)(function(e,t){var n=t.match.params.id,r=e.entities,o=e.session.user,a=e.bookshelf.lastOwningBookId;return{user:Object(Pe.F)(r,n),error:Object(F.f)(e),isShowAddOwningBookGuide:o.showTips.addOwningBook,currentId:e.session.user.id,books:Object(eb.b)(e,n),loadStatus:Object(eb.c)(e,n),lastOwningBookId:a}},function(e,t){var n=t.match.params.id;return{onLoad:function(t){return e(function(e,t){return function(n,r){var o=(r().bookshelf.userOwningBooks[e]||{}).nextUrl,a="/users/".concat(e,"/owning-books");n({userId:e,fetch:{from:t||!o?a:o,types:[Uo.Uc,Uo.Vc,Uo.Tc],schema:Ve.a.books},isReset:t})}}(n,t))},onDismissError:function(){return e(Object(We.a)())},onAddBook:function(t){return e(rb(null,n,t))},onScanQRCodeAndAdd:function(){return e((t=n,function(e){return e(Object(nb.n)()).then(function(n){e(n?rb(n,t):Object(We.d)("SCAN_CODE_FAILURE"))})}));var t},beginManaging:function(){return Object(A.a)().push("/users/".concat(n,"/bookshelf-manage"))}}},null,{areOwnPropsEqual:function(e,t){return e.match.params.id===t.match.params.id}})(zG);function HG(e){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VG(e){return(VG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(e,t){return(qG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var YG={onLoad:Ie.d},QG=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=VG(t).call(this,e))||"object"!==HG(o)&&"function"!=typeof o?KG(r):o).handleClickMask=n.handleClickMask.bind(KG(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qG(e,t)}(t,u["Component"]),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.books,r=t.loadStatus;return n.length!==e.books.length||r!==e.loadStatus}},{key:"handleClickMask",value:function(){var e=this.props,t=e.id,n=e.userId;(0,e.onLoad)(n,t)}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.count,r=e.loadStatus,o=t.length!==n?10:0;return f.a.createElement(kr,{limit:o,books:t,count:n,loadStatus:r,onMaskClick:this.handleClickMask})}}])&&WG(n.prototype,r),o&&WG(n,o),t}(),ZG=Object(a.b)(function(e,t){var n=t.id,r=Object(ke.c)(e,n).item;return{books:r.data,count:r.count,loadStatus:Object(Pe.b)(e.entities,n)}},YG)(QG);function XG(e){return(XG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $G(e){return($G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tH(e,t){return(tH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nH={remove:Ie.i},rH={position:"absolute",right:0,top:4},oH={marginRight:40},aH=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=$G(t).call(this,e),(n=!o||"object"!==XG(o)&&"function"!=typeof o?eH(r):o).state={showConfirmModal:!1},n.handleRemove=n.handleRemove.bind(eH(n)),n.hideConfirmModal=n.hideConfirmModal.bind(eH(n)),n.actions=[{label:"取消",onClick:function(){return n.hideConfirmModal()}},{label:"确认删除",onClick:function(){n.doRemove(),n.hideConfirmModal()},primary:!0}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tH(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleRemove",value:function(){this.setState({showConfirmModal:!0})}},{key:"doRemove",value:function(){var e=this.props;(0,e.remove)(e.currentUserId,e.id)}},{key:"hideConfirmModal",value:function(){this.setState({showConfirmModal:!1})}},{key:"renderConfirmModal",value:function(){return f.a.createElement(ie.a,{onClose:this.hideConfirmModal,actions:this.actions},f.a.createElement("div",{className:"jsx-680474056 content"},"确认删除这条动态吗？"),f.a.createElement(P.a,{id:"680474056"},[".content.jsx-680474056{padding:47px 23px 45px;font-size:16px;font-weight:300;line-height:1.5;text-align:center;}"]))}},{key:"renderActivityBrief",value:function(){var e=this.props,t=e.type,n=e.count,r=e.hasRated;switch(t){case"purchased_books":return"买了 ".concat(n," 本书");case"sold_books":return"卖了 ".concat(n," 本书");case"contribution":return r?"评论这本书":"推荐这本书";default:return null}}},{key:"renderActivitySection",value:function(){var e=this.props,t=e.type,n=e.id,r=e.userId,o=e.data;switch(t){case"purchased_books":case"sold_books":return f.a.createElement(ZG,{id:n,userId:r});case"contribution":var a=o.id;return f.a.createElement(bE,{contribId:a});default:return null}}},{key:"renderActivityActions",value:function(){var e=this.props,t=e.id,n=e.userId,r=e.type,o=e.data;switch(r){case"purchased_books":case"sold_books":return f.a.createElement(Kn,{disableComment:!0,activityId:t,userId:n});case"contribution":var a=o.id;return f.a.createElement(Ks,{contribId:a,commentStyle:oH});default:return null}}},{key:"render",value:function(){var e=this.state.showConfirmModal,t=this.props,n=t.isCurrentUser,r=t.userId,o=t.created,a=t.hasRated,i=t.rating;return f.a.createElement("div",{className:P.a.dynamic([["2957002853",[L.a.confusingGray,L.a.lighterFont]]])+" activity-card"},f.a.createElement(kn,{userId:r,activityBrief:this.renderActivityBrief()},Object(vs.b)(a,i)&&f.a.createElement("div",{style:{margin:"0 0 -2px 9px"},className:P.a.dynamic([["2957002853",[L.a.confusingGray,L.a.lighterFont]]])},f.a.createElement(vs.a,{rating:i}))),f.a.createElement("div",{className:P.a.dynamic([["2957002853",[L.a.confusingGray,L.a.lighterFont]]])+" activity-content-wrap"},this.renderActivitySection()),f.a.createElement("div",{className:P.a.dynamic([["2957002853",[L.a.confusingGray,L.a.lighterFont]]])+" activity-card-footer"},this.renderActivityActions(),f.a.createElement("div",{className:P.a.dynamic([["2957002853",[L.a.confusingGray,L.a.lighterFont]]])+" holder"}),f.a.createElement(be,{relative:!0,value:1e3*o})),n&&f.a.createElement(D.a,{style:rH,flatIcon:!0,onClick:this.handleRemove},f.a.createElement(Fb.a,{width:10,height:10,stroke:L.a.lighterFont})),e&&this.renderConfirmModal(),f.a.createElement(P.a,{id:"2957002853",dynamic:[L.a.confusingGray,L.a.lighterFont]},[".activity-card.__jsx-style-dynamic-selector{margin-bottom:16px;padding:23px 15px;position:relative;background:#fff;}",".activity-card.__jsx-style-dynamic-selector:last-child{margin-bottom:0;}",".activity-content-wrap.__jsx-style-dynamic-selector{margin-top:18px;}",".activity-card-footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:18px;padding:21px 0 0 15px;border-top:0.5px solid ".concat(L.a.confusingGray,";font-size:13px;color:").concat(L.a.lighterFont,";}"),".activity-actions.__jsx-style-dynamic-selector{width:108px;}",".holder.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}"]))}}])&&JG(n.prototype,r),o&&JG(n,o),t}(),iH=Object(a.b)(function(e,t){var n=t.id,r=t.userId,o=Object(ke.c)(e,n),a=e.session.user.id,i=a===r,c=o.type,l=o.item;return{userId:r,currentUserId:a,isCurrentUser:i,type:c,created:l.created,count:l.count,data:l.data,hasRated:l.hasRated,rating:l.rating}},nH)(aH);function cH(e){return(cH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sH(e){return(sH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(e,t){return(fH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pH=function(){Object(A.a)().push("/book/new-contrib?source=activity")},dH=function(e){var t=e.children;return f.a.createElement("div",{className:P.a.dynamic([["1328065651",[L.a.gray]]])+" activity-list-wrap"},t,f.a.createElement(P.a,{id:"1328065651",dynamic:[L.a.gray]},[".activity-list-wrap.__jsx-style-dynamic-selector{background-color:".concat(L.a.gray,";}")]))},mH=function(){return f.a.createElement("div",{className:P.a.dynamic([["3416131298",[L.a.lighterFont]]])+" activity-hint"},"没有抓鱼动态",f.a.createElement(P.a,{id:"3416131298",dynamic:[L.a.lighterFont]},[".activity-hint.__jsx-style-dynamic-selector{margin-top:57px;font-size:13px;font-weight:300;line-height:1.15;text-align:center;color:".concat(L.a.lighterFont,";}")]))},yH=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=sH(t).call(this,e))||"object"!==cH(o)&&"function"!=typeof o?uH(r):o).renderItem=n.renderItem.bind(uH(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fH(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldReloadActivity,n=e.onLoad;t&&n(!0)}},{key:"renderItem",value:function(e){var t=e.item,n=this.props.id;return f.a.createElement(iH,{key:t.id,id:t.id,userId:n})}},{key:"render",value:function(){var e=this.props,t=e.isCurrentUser,n=e.items,r=e.loadStatus,o=e.onLoad;return f.a.createElement("div",{className:"jsx-4257208405 user-activity"},t&&f.a.createElement(AG,{isRecommend:!0,recommendBook:pH}),f.a.createElement(Ut.a,{loader:o,items:n,loadStatus:r,renderItem:this.renderItem,contentContainer:dH,renderEmptyContent:mH}),f.a.createElement(P.a,{id:"4257208405"},[".user-activity.jsx-4257208405{padding-bottom:60px;background-color:#fff;}"]))}}])&&lH(n.prototype,r),o&&lH(n,o),t}(),bH=Object(a.b)(function(e,t){var n=t.match.params.id,r=t.history,o=e.session.user.id===n,a=o&&"POP"!==r.action;return{id:n,items:Object(ke.h)(e,n),loadStatus:Object(ke.e)(e,n),isCurrentUser:o,shouldReloadActivity:a}},function(e,t){var n=t.match.params.id;return{onLoad:function(t){e(Object(Ie.g)(n,t))}}})(yH);function hH(){return(hH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gH(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vH=function(e){var t=e.style,n=gH(e,["style"]);return f.a.createElement("svg",hH({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",style:t},n),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2",transform:"translate(1 1)"},f.a.createElement("circle",{cx:"9",cy:"9",r:"2.455"}),f.a.createElement("path",{d:"M15.0545455,11.4545455 C14.8317165,11.9594373 14.938637,12.5491199 15.3245455,12.9436364 L15.3736364,12.9927273 C15.6809079,13.2996571 15.85356,13.7161485 15.85356,14.1504545 C15.85356,14.5847606 15.6809079,15.0012519 15.3736364,15.3081818 C15.0667065,15.6154533 14.6502151,15.7881054 14.2159091,15.7881054 C13.781603,15.7881054 13.3651117,15.6154533 13.0581818,15.3081818 L13.0090909,15.2590909 C12.6145745,14.8731825 12.0248919,14.766262 11.52,14.9890909 C11.0254331,15.2010559 10.7039642,15.686474 10.7018182,16.2245455 L10.7018182,16.3636364 C10.7018182,17.267375 9.96919323,18 9.06545455,18 C8.16171586,18 7.42909091,17.267375 7.42909091,16.3636364 L7.42909091,16.29 C7.41612813,15.7358216 7.06571327,15.2458897 6.54545455,15.0545455 C6.04056267,14.8317165 5.45088006,14.938637 5.05636364,15.3245455 L5.00727273,15.3736364 C4.70034285,15.6809079 4.2838515,15.85356 3.84954545,15.85356 C3.41523941,15.85356 2.99874806,15.6809079 2.69181818,15.3736364 C2.38454666,15.0667065 2.21189456,14.6502151 2.21189456,14.2159091 C2.21189456,13.781603 2.38454666,13.3651117 2.69181818,13.0581818 L2.74090909,13.0090909 C3.12681754,12.6145745 3.23373801,12.0248919 3.01090909,11.52 C2.79894413,11.0254331 2.31352603,10.7039642 1.77545455,10.7018182 L1.63636364,10.7018182 C0.732624955,10.7018182 1.81672859e-16,9.96919323 0,9.06545455 C-9.08364293e-17,8.16171586 0.732624955,7.42909091 1.63636364,7.42909091 L1.71,7.42909091 C2.26417842,7.41612813 2.75411031,7.06571327 2.94545455,6.54545455 C3.16828346,6.04056267 3.06136299,5.45088006 2.67545455,5.05636364 L2.62636364,5.00727273 C2.31909211,4.70034285 2.14644002,4.2838515 2.14644002,3.84954545 C2.14644002,3.41523941 2.31909211,2.99874806 2.62636364,2.69181818 C2.93329351,2.38454666 3.34978487,2.21189456 3.78409091,2.21189456 C4.21839695,2.21189456 4.63488831,2.38454666 4.94181818,2.69181818 L4.99090909,2.74090909 C5.38542551,3.12681754 5.97510812,3.23373801 6.48,3.01090909 L6.54545455,3.01090909 C7.04002141,2.79894413 7.36149035,2.31352603 7.36363636,1.77545455 L7.36363636,1.63636364 C7.36363636,0.732624955 8.09626132,1.81672859e-16 9,0 C9.90373868,0 10.6363636,0.732624955 10.6363636,1.63636364 L10.6363636,1.71 C10.6385096,2.24807148 10.9599786,2.73348959 11.4545455,2.94545455 C11.9594373,3.16828346 12.5491199,3.06136299 12.9436364,2.67545455 L12.9927273,2.62636364 C13.2996571,2.31909211 13.7161485,2.14644002 14.1504545,2.14644002 C14.5847606,2.14644002 15.0012519,2.31909211 15.3081818,2.62636364 C15.6154533,2.93329351 15.7881054,3.34978487 15.7881054,3.78409091 C15.7881054,4.21839695 15.6154533,4.63488831 15.3081818,4.94181818 L15.2590909,4.99090909 C14.8731825,5.38542551 14.766262,5.97510812 14.9890909,6.48 L14.9890909,6.54545455 C15.2010559,7.04002141 15.686474,7.36149035 16.2245455,7.36363636 L16.3636364,7.36363636 C17.267375,7.36363636 18,8.09626132 18,9 C18,9.90373868 17.267375,10.6363636 16.3636364,10.6363636 L16.29,10.6363636 C15.7519285,10.6385096 15.2665104,10.9599786 15.0545455,11.4545455 Z"})))};function xH(){return(xH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wH=function(e){return f.a.createElement("svg",xH({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 18 17"},e),f.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.2",transform:"translate(2 1)"},f.a.createElement("path",{d:"M13 1L8 6M14 6L14 .87668517C14 .392545599 13.6070711 0 13.1237445 0L8 0M3.83953916 0C1.71931875 0 0 1.74525424 0 3.89745763L0 10.1025424C0 12.2547458 1.71931875 14 3.83953916 14L10.1604608 14C12.2806812 14 14 12.2547458 14 10.1025424L14 9.96491525"})))},OH=function(e){var t=e.user,n=t.id,r=t.owningBooksCount,o=t.activitiesCount;return f.a.createElement("div",{className:"jsx-2169318294 Bookshelf-tab"},f.a.createElement("div",{className:"jsx-2169318294 wrap"},f.a.createElement(wd.a,{replace:!0,className:"user-bookshelf-nav",to:"/users/".concat(n,"/activities")},f.a.createElement("span",{className:"jsx-2169318294 text"},o>0?"动态 ".concat(o):"动态"),f.a.createElement("span",{className:"jsx-2169318294 icon"},f.a.createElement(np,{fill:"#fff",width:20,height:10}))),f.a.createElement(wd.a,{replace:!0,className:"user-bookshelf-nav",to:"/users/".concat(n,"/owning-bookshelf")},f.a.createElement("span",{className:"jsx-2169318294 text"},r>0?"书架 ".concat(r):"书架"),f.a.createElement("span",{className:"jsx-2169318294 icon"},f.a.createElement(np,{fill:"#fff",width:20,height:10})))),f.a.createElement(P.a,{id:"2169318294"},[".wrap.jsx-2169318294{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;height:56px;font-size:16px;}",".user-bookshelf-nav{position:relative;}",".user-bookshelf-nav .icon{display:none;}",".user-bookshelf-nav.active{font-weight:400;}",".user-bookshelf-nav.active .icon{display:block;position:absolute;left:50%;bottom:-18px;margin-left:-10px;line-height:0;}"]))};function EH(){return(EH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jH=function(e){return f.a.createElement("svg",EH({width:"15px",height:"17px",viewBox:"0 0 30 34",version:"1.1"},e),f.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"Artboard-Copy-29",transform:"translate(-81.000000, -554.000000)",fillRule:"nonzero",fill:"#FFFFFF"},f.a.createElement("g",{id:"Group-6",transform:"translate(0.000000, 520.000000)"},f.a.createElement("g",{id:"Group-2",transform:"translate(81.000000, 34.000000)"},f.a.createElement("path",{d:"M0,1 L0,33 L0,33 C6.76353751e-17,33.5522847 0.44771525,34 1,34 L29,34 L29,34 C29.5522847,34 30,33.5522847 30,33 L30,1 L30,1 C30,0.44771525 29.5522847,-1.01453063e-16 29,0 L1,0 L1,0 C0.44771525,1.01453063e-16 -6.76353751e-17,0.44771525 0,1 Z M1.77762983,32.1109632 L1.77762983,1.88903684 L28.229028,1.88903684 L28.229028,11.1269419 L24.713715,11.1269419 C21.6746781,11.1269419 19.2110519,13.7548098 19.2110519,16.9964492 C19.2110519,20.2380886 21.6746781,22.8659565 24.713715,22.8659565 L28.229028,22.8659565 L28.229028,32.1109632 L1.77762983,32.1109632 Z M28.229028,13.0159787 L28.229028,20.969818 L24.713715,20.969818 C22.6545975,20.969818 20.9853529,19.1892904 20.9853529,16.9928984 C20.9853529,14.7965063 22.6545975,13.0159787 24.713715,13.0159787 L28.229028,13.0159787 Z",id:"Shape"}),f.a.createElement("ellipse",{id:"Oval",cx:"25.5",cy:"16.9937439",rx:"1.5",ry:"1.59375"}))))))};function kH(){return(kH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _H=function(e){return f.a.createElement("svg",kH({width:"15px",height:"18.5px",viewBox:"0 0 30 37",version:"1.1"},e),f.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"Artboard-Copy-29",transform:"translate(-455.000000, -554.000000)",fillRule:"nonzero",fill:"#FFFFFF"},f.a.createElement("g",{id:"Group-6",transform:"translate(0.000000, 520.000000)"},f.a.createElement("path",{d:"M459.409917,34 C456.980519,34 455,36.0013893 455,38.4468507 L455,66.5669134 C455,69.0074612 456.982079,70.999911 459.409917,70.999911 L484.105455,70.999911 C484.42353,71.0044329 484.719387,70.8364439 484.879737,70.5602703 C485.040088,70.2840968 485.040088,69.9425261 484.879737,69.6663526 C484.719387,69.390179 484.42353,69.22219 484.105455,69.2267119 L459.409917,69.2267119 C457.928805,69.2267119 456.763967,68.0557817 456.763967,66.5669134 L456.763967,66.275998 C456.78223,66.2265406 456.796066,66.1755436 456.80531,66.1236137 C457.012242,64.8589805 458.078952,63.9071149 459.409917,63.9071149 L484.105455,63.9071149 C484.592541,63.9070659 484.98739,63.5101505 484.987438,63.0205154 L484.987438,34.8865995 C484.98739,34.3969644 484.592541,34.000049 484.105455,34 L459.409917,34 Z M459.409917,35.773199 L483.223471,35.773199 L483.223471,62.1339159 L459.409917,62.1339159 C458.411934,62.1339159 457.505062,62.4973512 456.763967,63.0620747 L456.763967,38.4468507 C456.763967,36.9499409 457.930365,35.773199 459.409917,35.773199 Z M459.327231,65.6803139 C459.012084,65.6951003 458.728731,65.8777943 458.583933,66.1595609 C458.439136,66.4413274 458.454898,66.7793476 458.625281,67.0462628 C458.795664,67.3131779 459.094776,67.468426 459.409917,67.4535129 L484.105455,67.4535129 C484.42353,67.4580348 484.719387,67.2900459 484.879737,67.0138723 C485.040088,66.7376987 485.040088,66.3961281 484.879737,66.1199545 C484.719387,65.843781 484.42353,65.675792 484.105455,65.6803139 L459.409917,65.6803139 C459.382371,65.6790146 459.354778,65.6790146 459.327231,65.6803139 Z",id:"Shape"})))))};function SH(){return(SH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var CH=function(e){return f.a.createElement("svg",SH({width:"14.5px",height:"18px",viewBox:"0 0 29 36",version:"1.1"},e),f.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"Artboard-Copy-29",transform:"translate(-266.000000, -553.000000)",fillRule:"nonzero",fill:"#FFFFFF"},f.a.createElement("g",{id:"Group-6",transform:"translate(0.000000, 520.000000)"},f.a.createElement("path",{d:"M274.955888,33 C273.553054,33 272.397065,34.1088818 272.397065,35.4545455 L272.397065,35.8636364 L266.852949,35.8636364 C266.826309,35.8624373 266.799626,35.8624373 266.772986,35.8636364 C266.333418,35.9033761 265.998104,36.258299 266.000008,36.6818182 L266.000008,68.1818182 C266.000055,68.6336688 266.381902,68.9999549 266.852949,69 L294.147059,69 C294.618106,68.9999549 294.999953,68.6336688 295,68.1818182 L295,36.6818182 C294.999953,36.2299675 294.618106,35.8636815 294.147059,35.8636364 L288.602943,35.8636364 L288.602943,35.4545455 C288.602943,34.1088818 287.446954,33 286.04412,33 L274.955888,33 Z M274.955888,34.7659091 L286.04412,34.7659091 C286.531402,34.7659091 286.897061,35.1444361 286.897061,35.6488636 L286.897061,38.2977273 C286.897061,38.8021548 286.531402,39.1806818 286.04412,39.1806818 L274.955888,39.1806818 C274.468606,39.1806818 274.102947,38.8021548 274.102947,38.2977273 L274.102947,35.6488636 C274.102947,35.1444361 274.468606,34.7659091 274.955888,34.7659091 Z M267.70589,37.85625 L272.397065,37.85625 L272.397065,38.2574829 C272.397065,39.5772984 273.553054,40.6648802 274.955888,40.6648802 L286.04412,40.6648802 C287.446954,40.6648802 288.602943,39.5772984 288.602943,38.2574829 L288.602943,37.85625 L293.294118,37.85625 L293.294118,67.1462509 L267.70589,67.1462509 L267.70589,37.85625 Z M271.761854,45.64375 C271.480444,45.6584756 271.227425,45.8404185 271.098128,46.1210267 C270.968832,46.4016349 270.982907,46.7382654 271.13505,47.0040832 C271.287193,47.269901 271.554283,47.4245108 271.835688,47.4096591 L289.162101,47.4096591 C289.446124,47.4141601 289.710307,47.2468613 289.85349,46.9718241 C289.996673,46.6967868 289.996673,46.3566223 289.85349,46.081585 C289.710307,45.8065478 289.446124,45.6392489 289.162101,45.64375 L271.835688,45.64375 C271.81109,45.642456 271.786452,45.642456 271.761854,45.64375 L271.761854,45.64375 Z M271.761854,51.6653409 C271.480444,51.6800665 271.227425,51.8620094 271.098128,52.1426176 C270.968832,52.4232258 270.982907,52.7598563 271.13505,53.0256741 C271.287193,53.2914919 271.554283,53.4461018 271.835688,53.43125 L289.162101,53.43125 C289.446124,53.4357511 289.710307,53.2684522 289.85349,52.993415 C289.996673,52.7183777 289.996673,52.3782132 289.85349,52.1031759 C289.710307,51.8281387 289.446124,51.6608399 289.162101,51.6653409 L271.835688,51.6653409 C271.81109,51.6640469 271.786452,51.6640469 271.761854,51.6653409 Z M271.761854,57.6869318 C271.480444,57.7016574 271.227425,57.8836003 271.098128,58.1642085 C270.968832,58.4448167 270.982907,58.7814472 271.13505,59.047265 C271.287193,59.3130828 271.554283,59.4676927 271.835688,59.4528409 L289.162101,59.4528409 C289.446124,59.457342 289.710307,59.2900431 289.85349,59.0150059 C289.996673,58.7399686 289.996673,58.3998041 289.85349,58.1247668 C289.710307,57.8497296 289.446124,57.6824308 289.162101,57.6869318 L271.835688,57.6869318 C271.81109,57.6856378 271.786452,57.6856378 271.761854,57.6869318 Z",id:"Shape"})))))};function PH(){return(PH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var IH=function(e){return f.a.createElement("svg",PH({width:"16px",height:"19px",viewBox:"0 0 32 38",version:"1.1"},e),f.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("g",{id:"Artboard-Copy-29",transform:"translate(-639.000000, -552.000000)",fillRule:"nonzero",fill:"#FFFFFF"},f.a.createElement("g",{id:"Group-6",transform:"translate(0.000000, 520.000000)"},f.a.createElement("path",{d:"M668.052632,56.9955556 C668.052632,56.9533333 668.052632,56.9533333 668.052632,56.9111111 L668.052632,49.3955556 C668.052632,46.1444444 666.831579,43.02 664.6,40.6555556 C663.042105,38.9666667 661.021053,37.7844444 658.831579,37.1511111 C658.957895,36.7711111 659,36.3911111 659,36.0111111 C659,33.8155556 657.189474,32 655,32 C652.810526,32 651,33.8155556 651,36.0111111 C651,36.3911111 651.042105,36.7711111 651.168421,37.1511111 C648.978947,37.7844444 646.957895,38.9666667 645.4,40.6555556 C643.168421,43.02 641.947368,46.1444444 641.947368,49.3955556 L641.947368,56.9111111 C641.947368,56.9533333 641.947368,56.9955556 641.947368,56.9955556 C640.263158,57.3755556 639,58.8955556 639,60.7111111 C639,62.8222222 640.684211,64.5111111 642.789474,64.5111111 L649.947368,64.5111111 C649.947368,64.6377778 649.947368,64.8066667 649.947368,64.9333333 C649.947368,67.72 652.221053,70 655,70 C657.778947,70 660.052632,67.72 660.052632,64.9333333 C660.052632,64.8066667 660.052632,64.6377778 660.052632,64.5111111 L667.210526,64.5111111 C669.315789,64.5111111 671,62.8222222 671,60.7111111 C671,58.8955556 669.736842,57.3755556 668.052632,56.9955556 Z M655,33.6888889 C656.263158,33.6888889 657.315789,34.7444444 657.315789,36.0111111 C657.315789,36.2644444 657.273684,36.5177778 657.189474,36.7711111 C656.810526,36.7288889 656.431579,36.6866667 656.010526,36.6444444 C655.968421,36.6444444 655.884211,36.6444444 655.842105,36.6444444 L655.336842,36.6444444 L654.621053,36.6444444 L654.157895,36.6444444 C654.115789,36.6444444 654.031579,36.6444444 653.989474,36.6444444 C653.610526,36.6444444 653.189474,36.6866667 652.810526,36.7711111 C652.726316,36.5177778 652.684211,36.2644444 652.684211,36.0111111 C652.684211,34.7444444 653.736842,33.6888889 655,33.6888889 Z M643.631579,49.3955556 C643.631579,46.5666667 644.684211,43.8644444 646.621053,41.8377778 C648.684211,39.6 651.631579,38.3333333 654.663158,38.3333333 L655.378947,38.3333333 C658.410526,38.3333333 661.315789,39.6 663.421053,41.7955556 C665.357895,43.8644444 666.410526,46.5244444 666.410526,49.3533333 L666.410526,56.9111111 L643.631579,56.9111111 L643.631579,49.3955556 Z M655,68.3111111 C653.147368,68.3111111 651.631579,66.7911111 651.631579,64.9333333 C651.631579,64.8066667 651.631579,64.6377778 651.673684,64.5111111 L658.326316,64.5111111 C658.326316,64.6377778 658.368421,64.8066667 658.368421,64.9333333 C658.368421,66.7911111 656.852632,68.3111111 655,68.3111111 Z M667.210526,62.8222222 L642.789474,62.8222222 C641.610526,62.8222222 640.684211,61.8933333 640.684211,60.7111111 C640.684211,59.5288889 641.610526,58.6 642.789474,58.6 L667.210526,58.6 C668.389474,58.6 669.315789,59.5288889 669.315789,60.7111111 C669.315789,61.8933333 668.389474,62.8222222 667.210526,62.8222222 Z",id:"Shape"})))))},TH=function(e){var t=e.hasNewNotification;return f.a.createElement("div",{className:"jsx-1103602240 Info-tab"},f.a.createElement("div",{className:"jsx-1103602240 wrap"},f.a.createElement("div",{className:"jsx-1103602240 item"},f.a.createElement(ma.a,{to:"/account"},f.a.createElement(jH,null),f.a.createElement("span",{className:"jsx-1103602240 text"},"余额"))),f.a.createElement("div",{className:"jsx-1103602240 item"},f.a.createElement(ma.a,{to:"/orders"},f.a.createElement(CH,null),f.a.createElement("span",{className:"jsx-1103602240 text"},"订单"))),f.a.createElement("div",{className:"jsx-1103602240 item"},f.a.createElement(ma.a,{to:"/user/books"},f.a.createElement(_H,null),f.a.createElement("span",{className:"jsx-1103602240 text"},"买卖的书"))),f.a.createElement("div",{className:"jsx-1103602240 item"},f.a.createElement(ma.a,{to:"/notifications"},f.a.createElement("span",{className:"jsx-1103602240 icon"},f.a.createElement(IH,null),t&&f.a.createElement("span",{className:"jsx-1103602240 meta-tip"})),f.a.createElement("span",{className:"jsx-1103602240 text"},"通知")))),f.a.createElement(P.a,{id:"1103602240"},[".Info-tab.jsx-1103602240{color:#fff;border-top:0.5px solid rgba(255,255,255,0.6);border-bottom:0.5px solid rgba(255,255,255,0.6);}",".wrap.jsx-1103602240{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:72px;}",".item.jsx-1103602240{-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;}",".text.jsx-1103602240{display:block;}",".icon.jsx-1103602240{position:relative;}",".meta-tip.jsx-1103602240{position:absolute;top:-4px;right:-6px;width:7px;height:7px;background-color:rgb(255,139,139);border-radius:50%;}"]))};function NH(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var RH=function(e){var t=e.images,n=e.noIncome;if(!t.length)return null;var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=[],r=0,o=0;r<15&&o<15;r++,o++)e[r]||(r=0),n.push(e[r]),(o+1)%3==0&&(t.push(NH(n)),n=[]);return t}(t);return f.a.createElement("div",{className:"jsx-3245295784 "+(N()("User-book-background",{noIncome:n})||"")},f.a.createElement("div",{className:"jsx-3245295784 wrap"},r.map(function(e,t){return f.a.createElement("div",{key:t,className:"jsx-3245295784 items"},e.map(function(e,t){return f.a.createElement("div",{key:t,className:"jsx-3245295784 item"},f.a.createElement("div",{style:{backgroundImage:"url(".concat(e||"",")")},className:"jsx-3245295784 img"}))}))})),f.a.createElement(P.a,{id:"3245295784"},[".User-book-background.jsx-3245295784{position:absolute;width:100%;height:252px;overflow:hidden;}",".noIncome.jsx-3245295784{height:230px;}",".wrap.jsx-3245295784{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:115%;left:-50px;top:-50px;-webkit-transform:rotate(20deg);-ms-transform:rotate(20deg);transform:rotate(20deg);}",".items.jsx-3245295784:nth-child(2){margin-top:-5px;}",".items.jsx-3245295784:nth-child(4){margin-top:-7px;}",".item.jsx-3245295784{margin:1px;width:calc(115vw/5);height:calc(115vw / 5 * 1.42);}","@media (min-width:600px){.item.jsx-3245295784{margin:1px;width:calc(600px/5);height:calc(600px / 5 * 1.42);}}",".img.jsx-3245295784{display:block;width:100%;height:100%;background-position:center;background-size:cover;}"]))},LH=O.f&&O.h,AH=function(){return f.a.createElement("div",{className:"jsx-3409656272 Splitter"},f.a.createElement("span",{className:"jsx-3409656272 left"}),f.a.createElement("div",{className:"jsx-3409656272 circle"}),f.a.createElement("span",{className:"jsx-3409656272 right"}),f.a.createElement(P.a,{id:"3409656272"},[".Splitter.jsx-3409656272{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 5%;}",".circle.jsx-3409656272{width:3px height:3px;border-radius:50%;background-color:#fff;margin:0 5px;}",".left.jsx-3409656272,.right.jsx-3409656272{display:block;content:'';-webkit-flex:1;-ms-flex:1;flex:1;border-top:0.5px solid rgba(255,255,255,0.5);}"]))},FH={position:"absolute",zIndex:2,margin:15,padding:"4px 12px",right:0},BH=function(e){var t=e.user,n=e.currentUser,r=e.isCurrentUser,o=e.onLogout,a=e.user,i=a.avatar,c=a.name,l=a.incomeRank,s=a.income,u=a.level;return f.a.createElement("div",{className:"jsx-2627412291 Me"},f.a.createElement("div",{className:"jsx-2627412291 wrap-book"},f.a.createElement(RH,{images:t.backgroundImages,noIncome:s<=0}),!(O.c||O.f)&&r&&f.a.createElement(D.a,{tiny:!0,inverse:!0,style:FH,onClick:o},"登出帐号"),O.f&&r&&f.a.createElement("div",{className:"jsx-2627412291 user-actions"},f.a.createElement("span",{style:{marginRight:18},onClick:function(){return Jr.c.callOutMenu()},className:"jsx-2627412291"},f.a.createElement(wH,{style:{color:"#fff"}})),f.a.createElement(M.a,{to:"/app-setting"},f.a.createElement(vH,null))),f.a.createElement("div",{className:"jsx-2627412291 wrap-shadow"},f.a.createElement("div",{className:"jsx-2627412291 "+(N()("wrap-color",{"wrap-pink":0===u,"wrap-green":1===u,"wrap-blue":2===u,"wrap-golden":3===u})||"")},f.a.createElement("div",{className:"jsx-2627412291 basic-info"},f.a.createElement(Bu,{appHeight:28,calcFn:function(e){return"calc(".concat(e," - 32px)")}}),f.a.createElement("div",{className:"jsx-2627412291 avatar"},f.a.createElement(Zt.a,{huge:!0,url:i})),f.a.createElement("div",{className:"jsx-2627412291 name"},c),f.a.createElement("div",{className:"jsx-2627412291 info"},f.a.createElement("span",{className:"jsx-2627412291 income"},s>0?"卖书收入 ".concat((s/100).toFixed(2)," 元"):""),l&&f.a.createElement("span",{className:"jsx-2627412291 income-rank"},"，排第 ",l," 名"))),!r&&f.a.createElement(AH,null),r&&f.a.createElement(TH,{hasNewNotification:n.hasNewNotification}),f.a.createElement(OH,{isCurrentUser:r,user:t})))),f.a.createElement(P.a,{id:"2627412291"},[".wrap-book.jsx-2627412291{position:relative;}",".wrap-shadow.jsx-2627412291{position:relative;z-index:1;background-image:radial-gradient( circle at top center, rgba(93,93,93,0.5) 0%, rgba(93,93,93,1) 82% );}",".wrap-color.jsx-2627412291{color:#fff;}",".wrap-blue.jsx-2627412291{background-image:radial-gradient( circle at top center, rgba(189,194,232,0.6) 0%, rgba(189,194,232,0.8) 82% );}",".wrap-green.jsx-2627412291{background-image:radial-gradient( circle at top center, rgba(193,223,196,0.6) 0%, rgba(193,223,196,0.8) 82% );}",".wrap-pink.jsx-2627412291{background-image:radial-gradient( circle at top center, rgba(240,155,136,0.6) 0%, rgba(240,155,136,0.8) 82% );}",".wrap-golden.jsx-2627412291{background-image:radial-gradient( circle at top center, rgba(250,222,157,0.6) 0%, rgba(250,222,157,0.8) 82% );}",".basic-info.jsx-2627412291{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:32px 0 19px 0;}",".name.jsx-2627412291{margin:8px 15px;font-size:20px;font-weight:400;}",".user-actions.jsx-2627412291{position:absolute;right:24px;color:#fff;z-index:3;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;font-size:0;line-height:1;padding-top:30px;padding-top:".concat(LH?"calc(constant(safe-area-inset-top) / 2)":"30px",";padding-top:").concat(LH?"calc(env(safe-area-inset-top) / 2)":"30px",";}"),".user-actions.jsx-2627412291 span.jsx-2627412291{font-size:15px;}"]))};function DH(e){return(DH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UH(e,t){return!t||"object"!==DH(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zH(e){return(zH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GH(e,t){return(GH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UH(this,zH(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GH(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.user,r=e.currentUser,o=e.shouldLoad,a=e.match,i=e.onLoad,c=e.history;t===JI.a&&r.id&&r.id!==t&&c.replace("/users/".concat(r.id)),n&&!o||a.params.id===JI.a||i()}},{key:"componentWillReceiveProps",value:function(e){e.id!==JI.a&&this.props.id!==e.id&&(e.user&&!e.shouldLoad||e.onLoad())}},{key:"renderWechatShare",value:function(){var e=this.props,t=e.user,n=e.id,r=e.currentUser,o=e.location.pathname,a=t.owningBooksCount,i=t.soldBooksCount,c=t.name,l=t.avatar,s=t.gender,u=n===r.id,p="".concat(c," in 多抓鱼"),d="我",m=" ";u||(d="male"===s?"他":"她"),a&&i&&(m="卖了 ".concat(i," 本书，书架还有 ").concat(a," 本")),a&&!i&&(m="书架有 ".concat(a," 本书")),!a&&i&&(m="卖了 ".concat(i," 本书"));var y=/activities$/.test(o)?p:"".concat(p,"，欢迎参观").concat(d,"的书架");return f.a.createElement(Bc.a,{desc:m,imgUrl:l,link:o,title:y})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.currentUser,r=e.user,o=e.loadStatus,a=e.onLogout,c=f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,replace:!0,path:"/users/:id",component:function(e){var t=e.match.params;return f.a.createElement(xd.a,{to:"/users/".concat(t.id,"/activities")})}}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/owning-bookshelf",component:GG}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/activities",component:bH}));if(!n.id)return f.a.createElement(Dm,{type:"login"});if(!r||void 0===r.income)return"loading"===o?f.a.createElement(se,{empty:!0},f.a.createElement(ue.a,null),f.a.createElement(q.a,null)):"notFound"===o?f.a.createElement(gc.a,null):t===JI.a?f.a.createElement(Dm,{type:"login"}):null;var l=t===n.id;return f.a.createElement(se,{hasHeader:!0,style:{backgroundColor:"#fff"}},f.a.createElement(ue.a,{title:l?"我的":r.name}),l&&f.a.createElement(Dm,{type:"userinfo"}),f.a.createElement(Fc.a,null),this.renderWechatShare(),f.a.createElement(BH,{user:r,id:t,currentUser:n,isCurrentUser:l,onLogout:a}),c)}}])&&MH(n.prototype,r),o&&MH(n,o),t}(),WH=Object(a.b)(function(e,t){var n=t.match,r=t.history,o=n.params.id,a=Object(Pe.F)(e.entities,o),i=e.session.user,c={id:o,user:a,currentUser:i,shouldLoad:"PUSH"===r.action};return i.id!==o&&(c.loadStatus=Object(Pe.I)(e.entities,o)),c},function(e,t){return{onLoad:function(){return e(Object(Te.l)(t.match.params.id))},onLogout:function(){e(Object(Eo.c)()).then(function(){O.f?Jr.d.logout():window.location.pathname="/"})}}})(Object(Ne.a)(HH)),VH=[{title:"使用规则",content:["用户在多抓鱼注册成功后将获得一个用户账号及相应的密码，该用户账号和密码由用户负责保管。","用户在注册及使用多抓鱼服务时，必须向多抓鱼提供真实、准确、完整、合法有效的资料，且有义务维持并及时更新相关资料。用户应当保证在账号名称、头像和简介等注册信息中不得出现违法和不良信息。如果用户提供的资料违反本款要求，用户需承担因此引起的相应责任及后果，并且多抓鱼保留终止用户使用多抓鱼各项服务或采取其他处理措施的权利。","作为多抓鱼服务的提供者，为使用户更好地使用多抓鱼的各项服务，保障用户的账号安全，多抓鱼有权要求用户按照我国法律规定完成实名认证。","用户应当对以其用户账号进行的所有活动和事件负法律责任。用户同意在任何情况下不使用其他用户的账号或密码，不得冒充他人，也不得恶意使用注册账号导致其他用户误认，否则多抓鱼有权立即停止提供服务，收回其账号并由用户独自承担由此而产生的一切法律责任。在用户怀疑他人使用其账号或密码时，用户同意立即通知多抓鱼并按照多抓鱼的要求提供相关身份证明文件等材料，同意授权多抓鱼采取一切合理措施以保证用户的利益不受损害，并认可该等措施所产生的法律效果归于用户自身。因黑客行为或用户的保管疏忽等非多抓鱼的原因导致账号、密码遭他人非法使用，多抓鱼不承担任何责任。","用户直接或通过各类方式（如 RSS 源和站外 API 引用等）间接使用多抓鱼服务和数据的行为，都将被视作已无条件接受本协议全部内容；若用户对本协议的任何条款存在异议，请停止使用多抓鱼所提供的全部服务。",["多抓鱼有权利",["根据实际情况决定多抓鱼提供服务的具体内容；","随时变更、中断或终止部分或全部服务；","对于部分功能要求验证真实身份后使用（真实身份包括但不限于身份证号、姓名、手机号等信息）；","对于相同真实身份的多个账号的功能使用进行限制（功能使用包括但不限于卖书、买书或多抓鱼提供的其他服务等）；","对于同一本书在不同时间对于不同用户做不同的定价；","将部分功能设定为要求部分用户输入验证码后才能使用；","将部分功能设定为部分用户短时间不能使用。"]],"多抓鱼是一个信息分享、传播及获取的平台，用户通过多抓鱼发表的信息为公开的信息，其他第三方均可以通过多抓鱼获取用户发表的信息，用户对任何信息的发表即认可该信息为公开的信息，并单独对此行为承担法律责任；任何用户不愿被其他第三人获知的信息都不应该在多抓鱼上进行发表。","用户承诺不得以任何方式利用多抓鱼直接或间接从事违反中国法律以及社会公德的行为，多抓鱼有权对违反上述承诺的内容予以删除。",["用户不得利用多抓鱼服务制作、上载、复制、发布、传播或者转载如下内容：",["反对宪法所确定的基本原则的；","危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的；","损害国家荣誉和利益的；","煽动民族仇恨、民族歧视，破坏民族团结的；","侮辱、滥用英烈形象，否定英烈事迹，美化粉饰侵略战争行为的；","破坏国家宗教政策，宣扬邪教和封建迷信的；","散布谣言，扰乱社会秩序，破坏社会稳定的；","散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；","侮辱或者诽谤他人，侵害他人合法权益的；","含有法律、行政法规禁止的其他内容的信息。"]],["用户不得在多抓鱼有以下行为",["采用包括但不限于机器爬虫等方式批量获取多抓鱼数据；","利用多个账号对多抓鱼进行拒绝式访问攻击；","投机行为、恶意交易；","使用工具、软件、插件等工具作弊（包括但不限于使用自动工具、软件、插件等抢书）；","恶意或不友善行为（包括但不限于对多抓鱼客服人员有侮辱行为等）；","用户恶意或无正当理由拒收；","其他扰乱或破坏多抓鱼服务的行为；"]],"多抓鱼有权对用户使用多抓鱼的情况进行审查和监督，如用户在使用多抓鱼时违反任何上述规定，多抓鱼或其授权的人有权要求用户改正或直接采取一切必要的措施（包括但不限于暂停或终止用户使用多抓鱼的权利、封禁ip等）以减轻用户不当行为造成的影响。"]},{title:"侵权行为的举报与投诉",content:["如果多抓鱼发现或收到他人举报或投诉用户违反本协议约定的，多抓鱼有权在不通知涉嫌侵权的用户的情况下，对涉嫌侵权的内容及用户资料进行审查。多抓鱼有权根据实际情况按照法律规定对相关侵权内容采取删除、屏蔽、断开链接等处理措施，并有权对违规账号作出相应处理。","多抓鱼有权对用户使用服务的情况进行审查和监督，如用户在使用服务时存在任何违反本协议规定的情形，多抓鱼有权要求用户改正或直接采取一切必要的措施（包括但不限于更改或删除用户发布的内容、暂停或终止用户使用服务的权利等）以消除或减轻用户不当行为造成的影响。同时，多抓鱼作为网络服务提供者，对非法转载、虚假发布、盗版行为的发生不具备充分的监控能力；多抓鱼对他人在网站上实施的此类侵权行为不承担法律责任，侵权责任概由实施方承担。","如果任何第三方侵犯了多抓鱼用户的相关权利，用户同意授权多抓鱼或其指定的代理人代表多抓鱼自身或用户对该第三方提出警告、投诉、发起行政执法、诉讼、进行上诉或谈判和解，并且用户同意在多抓鱼认为必要的情况下参与共同维权或签署、出具授权文件等相关材料。"]},{title:"知识产权",content:["用户在多抓鱼上发表的内容（包括但不限于原创文章和评论等），知识产权均归用户本人或其他合法知识产权人所有。","用户承诺，其发布在多抓鱼上的全部内容（包括但不限于：文字、图片或影音资料等）系用户原创或已经取得相关权利人的事先书面许可，不存在任何权利瑕疵或负担。如果第三方提出关于知识产权的异议，多抓鱼有权根据相关法律法规的要求并结合实际情况对相关内容采取删除、屏蔽、断开链接等处理措施，且有权追究用户的法律责任；如因此给多抓鱼或任何第三方造成损失的，用户应负责赔偿。","用户同意，将其在多抓鱼上发布的全部内容（包括已发布及未来可能发布的内容）授予多抓鱼在全球范围内免费的、不可撤销的、非独家、可转授权的使用许可，以使用、复制、修改、改编、出版、翻译、据以创作衍生作品、传播、表演和展示此等内容（整体或部分），和/或将此等内容编入当前已知的或以后开发的其他任何形式的作品、读物、期刊、报道或技术中；同时多抓鱼有权将上述内容在与多抓鱼合作的第三方网站中使用或者授权给该等第三方网站使用。多抓鱼依据本款约定使用用户发布的内容时，无需另行取得用户的事先同意。","用户同意，多抓鱼在使用用户发布的内容时，有权在不影响原文整体意思的前提下，根据实际需要自行修改文章标题，以及删减或修改部分内容的文字表述等，其他规则另有规定的除外。多抓鱼保证其任何编辑、修改均不会故意歪曲、篡改用户表达的原意，或故意使用任何可能引发侵权的内容。根据本项规定进行修改后的内容依旧代表用户的观点，多抓鱼不为修改后的文章和内容承担任何法律和经济上可能产生的纠纷。如用户发现多抓鱼编辑、修改后的内容与用户的原意相违背或者可能导致任何侵权纠纷的，用户可及时以有效方式通知多抓鱼，多抓鱼将采取适当处理措施。","多抓鱼提供的服务中使用的商业标识、版面设计、排版方式、文字、图片、图形、音频、视频、有关数据等内容及资源的著作权、商标权、专利权、商业秘密等知识产权均归多抓鱼或多抓鱼指定的第三方所有，均受法律法规和相应的国际条约的保护，但相关权利人依照法律规定应享有的权利除外。","除法律法规另有强制性规定外，未经多抓鱼或相关权利人许可，任何单位或个人不得以任何形式非法地全部或部分复制、转载、引用、链接、抓取、反向工程、反向编译、反汇编或以其他方式使用多抓鱼提供的服务中包含的任何文本、图片、图形、音频和/或视频资料等信息内容，否则，多抓鱼或相关权利人有权追究其法律责任。多抓鱼不就由上述资料产生或在传送或递交全部或部分上述资料过程中产生的延误、不准确、错误和遗漏或从中产生或由此产生的任何损害赔偿向用户或任何第三方负责。"]},{title:"个人隐私",content:["尊重用户个人隐私信息的私有性是多抓鱼的一贯原则，多抓鱼将通过技术手段、强化内部管理等办法充分保护用户的个人隐私信息，除法律或有法律赋予权限的政府部门要求或事先得到用户明确授权等原因外，多抓鱼保证不对外公开或向第三方透露用户个人隐私信息，或用户在使用服务时存储的非公开内容。同时，为了运营和改善多抓鱼的技术与服务，多抓鱼将可能会自行收集使用或向第三方提供用户的非个人隐私信息，这将有助于多抓鱼向用户提供更好的用户体验和服务质量。","用户选择匿名卖书和买书后，对平台其他用户和互联网及搜索引擎均不可见，且订单系统在无特殊情况需要联系用户时，对内部操作人员不可见。","用户使用或继续使用我们的服务，即意味着同意我们按照多抓鱼上述条约收集、使用、储存和分享用户的相关信息。"]},{title:"免责申明",content:["多抓鱼将根据法律法规的要求对多抓鱼网站上的商品、服务等信息进行合理审核。用户在多抓鱼发表的内容仅表明其个人的立场和观点，并不代表多抓鱼的立场或观点。作为内容的发表者，需自行对所发表内容负责，因所发表内容引发的一切纠纷，由该内容的发表者承担全部法律及连带责任。多抓鱼不承担任何法律及连带责任。多抓鱼服务的内容可能涉及由第三方个人或单位提供，该等包含的第三方所提供的服务品质及内容由第三方自行负责；用户应当知晓并按照第三方服务协议使用第三方服务。第三方的内容、商品、服务、广告和其他任何信息均需由用户自行判断并承担风险，多抓鱼不保证其内容及网络服务的及时性、安全性、准确性，若因此引发任何争议或损害，多抓鱼对此不承担责任。","多抓鱼不保证服务一定能满足用户的要求，对于因不可抗力或多抓鱼不能控制的原因造成的服务中断或其它缺陷，多抓鱼不承担任何责任，但将合理审慎地采取必要措施减少因此而给用户造成的损失和影响。","用户理解，多抓鱼需要定期或不定期地对提供网络服务的平台（如互联网网站、移动网络等）或相关的设备进行检修、维护或升级，如因此类情况造成网络服务在合理时间内的中断，多抓鱼无需为此承担任何责任，但多抓鱼将尽可能事先进行通告。","用户理解并确认，在使用多抓鱼服务过程中存在来自任何他人的包括误导性的、欺骗性的、威胁性的、诽谤性的、令人反感的或非法的信息，或侵犯他人权利的匿名或冒名的信息，以及伴随该等信息的行为，对此还请用户谨慎判断，不要轻信该等信息以致产生损失，因此导致用户或第三方的任何损失的，多抓鱼将会向用户提供必要的帮助，但不承担任何责任。","在任何情况下，多抓鱼均不对任何间接性、后果性、惩罚性、偶然性、特殊性或刑罚性的损害承担责任，包括因用户使用多抓鱼服务而遭受的利润损失等，即使多抓鱼已被告知该等损失的可能性亦然。"]},{title:"协议修改",content:["根据互联网的发展和有关法律、法规及规范性文件的变化，或者因业务发展需要，多抓鱼有权对本协议的条款作出修改或变更，一旦本协议的内容发生变动，多抓鱼将会直接在多抓鱼网站上公布修改之后的协议内容，该公布行为视为多抓鱼已经通知用户修改内容。多抓鱼也可采用电子邮件或私信的传送方式，提示用户协议条款的修改、服务变更、或其它重要事项。","如果不同意多抓鱼对本协议相关条款所做的修改，用户有权并应当停止使用多抓鱼。如果用户继续使用多抓鱼，则视为用户接受多抓鱼对本协议相关条款所做的修改。"]},{title:"其他",content:["本协议的效力、解释及纠纷的解决，适用于中华人民共和国法律。若用户和多抓鱼之间发生任何纠纷或争议，首先应友好协商解决，协商不成的，用户同意将纠纷或争议提交多抓鱼所在地有管辖权的人民法院管辖。","本协议的任何条款无论因何种原因无效或不具可执行性，其余条款仍有效，对双方具有约束力。"]}],KH={lineHeight:1.67,fontSize:12},qH=Object(Ne.a)(function(){return f.a.createElement("div",{className:"jsx-2895534148 user-protocol-page"},f.a.createElement("h1",{className:"jsx-2895534148 title"},"多抓鱼用户协议"),f.a.createElement("div",{className:"jsx-2895534148 duration"},"版本更新日期：2018年10月22日",f.a.createElement("br",{className:"jsx-2895534148"}),"版本生效日期：2018年10月22日"),f.a.createElement("div",{className:"jsx-2895534148 intro"},"本「多抓鱼用户协议」（即「本协议」）是由您（即「用户」）与「多抓鱼运营实体」（即「多抓鱼」）就用户使用多抓鱼提供的服务（包括但不限于：多抓鱼网站www.duozhuayu.com、多抓鱼微信公众号等）所订立的相关权利义务规范。本协议对用户和多抓鱼均具有法律效力。本协议连同所有更新材料、补充条款以及多抓鱼的其他规则和政策共同构成了用户与多抓鱼之间的协议。"),f.a.createElement("div",{className:"jsx-2895534148 intro"},"多抓鱼在此特别提醒，在您注册使用多抓鱼服务前，请务必审慎阅读本协议的全部条款、充分理解各条款内容后再点击同意。如用户按照注册页面提示填写信息、点击同意本协议且完成全部注册流程，或者在多抓鱼更新本协议后继续使用多抓鱼提供的服务，即表示用户已充分阅读、理解并接受本协议的全部内容，成为具有法律约束力的本协议的一方。如果您对本协议的任何条款表示异议，您应立即停止注册流程且停止使用多抓鱼提供的服务。"),VH.map(function(e){var t=e.title,n=e.content.map(function(e){return Array.isArray(e)?f.a.createElement("div",{className:"jsx-2895534148"},f.a.createElement("div",{className:"jsx-2895534148"},e[0]),f.a.createElement(mm.a,{items:e[1],color:L.a.font,bgColor:"#fff",style:KH})):e});return f.a.createElement("div",{key:t,className:"jsx-2895534148"},f.a.createElement("h2",{className:"jsx-2895534148 rules-header"},t),f.a.createElement(mm.a,{items:n,color:L.a.font,style:KH}))}),f.a.createElement(P.a,{id:"2895534148"},[".user-protocol-page.jsx-2895534148{min-height:100vh;box-sizing:border-box;padding:23px 15px 100px;background:#fff;}",".duration.jsx-2895534148{font-size:12px;font-weight:300;line-height:1.67;}",".title.jsx-2895534148{margin-bottom:14px;font-size:20px;font-weight:normal;line-height:normal;}",".intro.jsx-2895534148{margin-top:20px;font-size:12px;font-weight:300;line-height:1.67;}",".rules-header.jsx-2895534148{margin:20px 0 8px;font-size:16px;font-weight:normal;line-height:1.25;}"]))}),YH={display:"block",fontSize:12,fontWeight:300,lineHeight:1.33,color:L.a.lighterFont},QH=function(e){var t=e.location.pathname;if(O.c||"/redirect"===t)return null;var n=t.startsWith("/search"),r=N()("root",{"search-page":n});return f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" "+(r||"")},f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" wrap"},f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" hd"},f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" logo-wrap"},f.a.createElement("img",{alt:"多抓鱼",src:"//img.duozhuayu.com/eb77c5e8affa11e7b58200163e067c99_l.jpeg",className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" logo"}))),f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" content"},f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" qrcode-wrap"},f.a.createElement("img",{alt:"多抓鱼",width:"140px",src:"https://asset.duozhuayu.com/mp_qrcode/pc_mp_subscribe.png",className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" qrcode"})),f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" desc"},f.a.createElement("p",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])},"关注微信公众号「多抓鱼」"),f.a.createElement("p",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])},"买书和卖书吧")))),f.a.createElement("div",{className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" permit-info"},f.a.createElement(M.a,{className:"license",to:"/support/license",style:YH},"营业执照 ・ 经营许可"),f.a.createElement("a",{href:"http://bcainfo.miitbeian.gov.cn",target:"_blank",rel:"noopener noreferrer",className:P.a.dynamic([["2446484869",[L.a.lighterFont]]])+" icp"},"京ICP备17013768号")),f.a.createElement(P.a,{id:"2446484869",dynamic:[L.a.lighterFont]},["@media (max-width:960px){.root.__jsx-style-dynamic-selector{display:none;}}",".root.__jsx-style-dynamic-selector{position:absolute;top:0;left:-184px;}",".search-page.__jsx-style-dynamic-selector{top:63px;}",".wrap.__jsx-style-dynamic-selector{width:164px;height:220px;margin-top:50px;text-align:center;background-color:#fff;border-radius:6px;}",".logo-wrap.__jsx-style-dynamic-selector{display:inline-block;width:96px;height:96px;border-radius:50%;background-color:#fff;margin-top:-22px;padding-top:10px;}",".logo.__jsx-style-dynamic-selector{width:50px;}",".qrcode-wrap.__jsx-style-dynamic-selector{display:inline-block;width:140px;height:140px;}",".content.__jsx-style-dynamic-selector{margin-top:-60px;}",".desc.__jsx-style-dynamic-selector{margin-top:-5px;font-size:12px;color:#333;line-height:1.5;}",".permit-info.__jsx-style-dynamic-selector{margin-top:11px;text-align:center;}",".icp.__jsx-style-dynamic-selector{display:block;font-size:12px;margin-top:3px;color:".concat(L.a.lighterFont,";}")]))};function ZH(e){return(ZH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JH(e){return(JH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(e,t){return(eW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tW={hideWechatFollowMPGuide:_.b},nW=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=JH(t).call(this,e))||"object"!==ZH(o)&&"function"!=typeof o?$H(r):o).handleGuideClick=n.handleGuideClick.bind($H(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eW(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"handleGuideClick",value:function(){this.props.hideWechatFollowMPGuide()}},{key:"render",value:function(){var e=this.props.showFollowGuide;return e?f.a.createElement(S.a,{fixWindow:!0,onClose:this.handleGuideClick},f.a.createElement("div",{onClick:this.handleGuideClick,className:P.a.dynamic([["2646995015",[Object(mi.a)(L.a.black,.5)]]])+" bg"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/miniprogram/follow_guide_".concat(e,".png"),alt:"关注公众号",className:P.a.dynamic([["2646995015",[Object(mi.a)(L.a.black,.5)]]])+" content"}),f.a.createElement(P.a,{id:"2646995015",dynamic:[Object(mi.a)(L.a.black,.5)]},[".bg.__jsx-style-dynamic-selector{background-color:".concat(Object(mi.a)(L.a.black,.5),";height:100vh;width:100vw;}"),".content.__jsx-style-dynamic-selector{width:100vw;}"]))):null}}])&&XH(n.prototype,r),o&&XH(n,o),t}(),rW=Object(a.b)(function(e){return{showFollowGuide:e.miniProgram.showFollowGuide}},tW)(nW),oW={width:"80px",height:"30px",fontSize:"13px",fontWeight:500,padding:"5px"},aW=function(e){var t=e.location,n=t.pathname,r=t.search,o=n.startsWith("/search");if(!Object(O.i)()||o)return null;var a=encodeURIComponent("".concat(n).concat(r)),i="https://".concat("oia.duozhuayu.com","/dispatch?uri=").concat(a);return f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" banner"},f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" content"},f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" wrap"},f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" logo"},f.a.createElement("img",{src:"https://asset.duozhuayu.com/logo_small.png",alt:"",className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])})),f.a.createElement("div",{className:P.a.dynamic([["377791145",[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]]])+" text"},"多抓鱼其实有 App 了")),f.a.createElement(D.a,{primary:!0,style:oW,onClick:function(){Object(_l.a)("app_guide_banner",i),window.location.replace(i)}},"打开 App"))),f.a.createElement(P.a,{id:"377791145",dynamic:[Object(mi.a)(L.a.primary,.05),L.a.gray,L.a.primary]},[".root.__jsx-style-dynamic-selector,.banner.__jsx-style-dynamic-selector{width:100%;max-width:600px;height:66px;}",".banner.__jsx-style-dynamic-selector{position:fixed;top:0;z-index:3;background-color:white;}",".content.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:".concat(Object(mi.a)(L.a.primary,.05),";width:100%;height:100%;padding:0 15px;}"),".wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".logo.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:white;width:40px;height:40px;border-radius:8px;border:1px solid ".concat(L.a.gray,";}"),"img.__jsx-style-dynamic-selector{width:80%;}",".text.__jsx-style-dynamic-selector{color:".concat(L.a.primary,";font-size:15px;font-weight:500;margin-left:12px;}")]))};function iW(e){return(iW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lW(e){return(lW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(e,t){return(uW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fW={loader:function(){return Object(FO.b)({withPaginationState:!0,limit:12})}},pW=function(e){return f.a.createElement(vC,{key:e,collectionId:e})},dW=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=lW(t).call(this,e))||"object"!==iW(o)&&"function"!=typeof o?sW(r):o).renderContainer=n.renderContainer.bind(sW(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uW(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderContainer",value:function(e){var t=e.children,n=this.props,r=n.location,o=n.ocCount,a=n.collectionsName;return f.a.createElement(At.a,{alignTop:!0,style:{flexWrap:"wrap"}},t,f.a.createElement(Bc.a,{link:r.pathname,title:"多抓鱼所有的书单",desc:"".concat(a,"等 ").concat(o," 个书单")}))}},{key:"render",value:function(){var e=this.props,t=e.collectionIds,n=e.loadStatus,r=e.loader;return f.a.createElement(Ut.a,{loadStatus:n,loader:r,items:t,renderItem:pW,contentContainer:this.renderContainer})}}])&&cW(n.prototype,r),o&&cW(n,o),t}(),mW=Object(a.b)(function(e){var t=e.openCollections,n=e.entities,r=Object(JS.a)(e),o=r.slice(0,2).map(function(e){return Object(JS.g)(n,e).name}).join("、");return{collectionIds:r,collectionsName:o,ocCount:Object(JS.b)(t),loadStatus:Object(JS.e)(t)}},fW)(dW),yW=function(e){var t=e.location;return f.a.createElement("div",null,f.a.createElement(ue.a,{title:"书单"}),f.a.createElement(mW,{location:t}))};function bW(){return(bW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gW(e,t,n[t])})}return e}function gW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xW=function(e){var t=e.color,n=e.style,r=vW(e,["color","style"]);return f.a.createElement("svg",bW({className:"Icon Icon--HandRaised",viewBox:"0 0 36 31",style:hW({overflow:"visible",fillRule:"evenodd",fill:t},n)},r),f.a.createElement("path",{d:"M3.71742,23.4994C3.71742,23.4994 5.13652,32.3632 5.13652,32.3632C5.13652,32.4147 5.1872,32.5178 5.1872,32.5693C5.1872,32.5693 8.32948,39.9902 8.32948,39.9902C8.48152,40.2994 8.78561,40.5055 9.08971,40.5055C9.19107,40.5055 9.34312,40.5055 9.44448,40.454C9.90062,40.2479 10.0527,39.7325 9.90062,39.3202L6.80902,32.0025C6.80902,32.0025 5.38993,23.1387 5.38993,23.1387C5.38993,23.0871 5.38993,23.0356 5.33924,22.984C5.33924,22.984 1.74083,12.5227 1.74083,12.5227C1.5381,12.0074 1.79151,11.389 2.29833,11.1828C2.29833,11.1828 2.6531,11.0282 2.6531,11.0282C3.15992,10.8221 3.7681,11.0798 3.97083,11.5951C3.97083,11.6466 3.97083,11.6466 4.02151,11.6982C4.02151,11.6982 8.88698,21.1288 8.88698,21.1288C9.03902,21.438 9.34312,21.5926 9.64721,21.5926C9.64721,21.5926 9.64721,21.5926 9.69789,21.5926C9.74857,21.5926 9.79925,21.5926 9.84993,21.5926C10.3061,21.4896 10.6102,21.0258 10.5088,20.562C10.5088,20.562 7.72129,5.51411 7.72129,5.51411C7.56925,4.7411 8.12675,3.9681 8.88698,3.8135C8.88698,3.8135 9.34312,3.71043 9.34312,3.71043C9.69789,3.6589 10.1033,3.71043 10.4074,3.9681C10.7115,4.22577 10.9143,4.53497 11.0156,4.89571C11.0156,4.89571 13.499,18.6037 13.499,18.6037C13.499,18.6037 13.499,18.6037 13.499,18.6037C13.499,18.6037 13.499,18.6552 13.499,18.6552C13.499,18.6552 13.499,18.7067 13.499,18.7067C13.499,18.7583 13.499,18.7583 13.5497,18.8098C13.5497,18.8098 13.5497,18.8613 13.6004,18.8613C13.6004,18.9129 13.6511,18.9129 13.6511,18.9644C13.6511,18.9644 13.7018,19.016 13.7018,19.016C13.7018,19.016 13.7524,19.0675 13.7524,19.0675C13.7524,19.0675 13.8031,19.119 13.8031,19.119C13.8031,19.119 13.8538,19.1706 13.8538,19.1706C13.8538,19.1706 13.9045,19.1706 13.9045,19.2221C13.9552,19.2221 13.9552,19.2736 14.0059,19.2736C14.0059,19.2736 14.0565,19.2736 14.0565,19.2736C14.1072,19.2736 14.1072,19.2736 14.1579,19.3252C14.2086,19.3252 14.2086,19.3252 14.2593,19.3252C14.2593,19.3252 14.3099,19.3252 14.3099,19.3252C14.3099,19.3252 14.3099,19.3252 14.3099,19.3252C14.3099,19.3252 14.3099,19.3252 14.3099,19.3252C14.3099,19.3252 14.3099,19.3252 14.3099,19.3252C14.3606,19.3252 14.3606,19.3252 14.4113,19.3252C14.4113,19.3252 14.462,19.3252 14.462,19.3252C14.462,19.3252 14.462,19.3252 14.462,19.3252C14.5127,19.3252 14.5634,19.2736 14.614,19.2736C14.614,19.2736 14.614,19.2736 14.6647,19.2736C14.7154,19.2736 14.7661,19.2221 14.7661,19.2221C14.7661,19.2221 14.8168,19.1706 14.8168,19.1706C14.8168,19.1706 14.8674,19.119 14.8674,19.119C14.8674,19.119 14.9181,19.0675 14.9181,19.0675C14.9181,19.0675 14.9688,19.016 14.9688,18.9644C14.9688,18.9644 14.9688,18.9129 15.0195,18.9129C15.0195,18.8613 15.0702,18.8613 15.0702,18.8098C15.0702,18.8098 15.0702,18.7583 15.0702,18.7583C15.0702,18.7067 15.0702,18.7067 15.1209,18.6552C15.1209,18.6552 15.1209,18.6037 15.1209,18.6037C15.1209,18.5521 15.1209,18.5521 15.1209,18.5006C15.1209,18.5006 15.9318,3.19509 15.9318,3.19509C15.9318,2.78282 16.0838,2.37055 16.3879,2.11288C16.692,1.80368 17.0974,1.64908 17.5029,1.64908C17.5029,1.64908 18.0097,1.64908 18.0097,1.64908C18.8713,1.64908 19.5302,2.37055 19.5302,3.24663C19.5302,3.24663 19.1247,17.8307 19.1247,17.8307C19.1247,17.8307 19.1247,17.8307 19.1247,17.8822C19.1247,17.9337 19.1247,17.9337 19.1247,17.9853C19.1247,18.0368 19.1247,18.0368 19.1247,18.0883C19.1247,18.1399 19.1247,18.1399 19.1247,18.1914C19.1247,18.2429 19.1247,18.2429 19.1754,18.2945C19.1754,18.2945 19.1754,18.346 19.2261,18.346C19.2261,18.346 19.2768,18.3975 19.2768,18.3975C19.2768,18.3975 19.3275,18.4491 19.3275,18.4491C19.3275,18.4491 19.3781,18.5006 19.3781,18.5006C19.3781,18.5006 19.4288,18.5521 19.4288,18.5521C19.4288,18.5521 19.4795,18.6037 19.4795,18.6037C19.4795,18.6037 19.5302,18.6552 19.5302,18.6552C19.5809,18.6552 19.5809,18.7067 19.6315,18.7067C19.6315,18.7067 19.6315,18.7067 19.6822,18.7067C19.6822,18.7067 19.7329,18.7067 19.7329,18.7067C19.7836,18.7067 19.7836,18.7067 19.8343,18.7067C19.885,18.7067 19.885,18.7067 19.9356,18.7067C19.9356,18.7067 19.9863,18.7067 19.9863,18.7067C19.9863,18.7067 20.037,18.7067 20.037,18.7067C20.0877,18.7067 20.0877,18.7067 20.1384,18.7067C20.189,18.7067 20.189,18.7067 20.2397,18.7067C20.2397,18.7067 20.2904,18.7067 20.2904,18.7067C20.3411,18.7067 20.3411,18.7067 20.3918,18.6552C20.3918,18.6552 20.4425,18.6552 20.4425,18.6552C20.4931,18.6552 20.4931,18.6037 20.5438,18.6037C20.5438,18.6037 20.5945,18.6037 20.5945,18.5521C20.6452,18.5521 20.6452,18.5006 20.6959,18.5006C20.6959,18.5006 20.7465,18.4491 20.7465,18.4491C20.7465,18.3975 20.7972,18.3975 20.7972,18.346C20.7972,18.346 20.7972,18.2945 20.8479,18.2945C20.8479,18.2429 20.8986,18.2429 20.8986,18.1914C20.8986,18.1914 20.8986,18.1914 20.8986,18.1399C20.8986,18.1399 24.6997,6.90552 24.6997,6.90552C25.0038,6.08098 25.8654,5.66871 26.6763,5.92638C26.6763,5.92638 27.1325,6.08098 27.1325,6.08098C27.5379,6.23558 27.842,6.49325 27.9941,6.90552C28.1461,7.31779 28.1968,7.73006 28.0447,8.14233C28.0447,8.14233 24.3956,20.6135 24.3956,20.6135C23.3313,25.2515 23.9902,26.746 24.7504,27.1583C25.1052,27.3644 25.5613,27.2613 25.8147,26.9521C25.8147,26.9521 30.7816,21.1288 30.7816,21.1288C30.8322,21.0773 30.8322,21.0258 30.8829,20.9742C31.0857,20.6135 31.4404,20.3558 31.8459,20.2528C32.2513,20.1497 32.6568,20.2012 33.0116,20.4074C33.0116,20.4074 33.4677,20.665 33.4677,20.665C33.8225,20.8712 34.0759,21.2319 34.1773,21.6442C34.2786,22.0564 34.2279,22.4687 34.0252,22.8294L28.0954,31.384C28.0954,31.384 23.23,38.9595 23.23,38.9595C23.1286,39.1141 23.0779,39.2687 23.0779,39.4233C23.0779,39.4233 23.0779,41.1239 23.0779,41.1239C23.0779,41.5877 23.4834,42 23.9395,42C24.3956,42 24.8011,41.5877 24.8011,41.1239L24.8011,39.681L29.5145,32.3632C29.5145,32.3632 35.495,23.8601 35.495,23.8601C35.495,23.8601 35.5457,23.8086 35.5457,23.8086C36.0018,23.0356 36.1032,22.1595 35.9004,21.2834C35.6977,20.4074 35.1402,19.6859 34.38,19.2736C34.38,19.2736 33.9238,19.016 33.9238,19.016C33.1636,18.5521 32.302,18.4491 31.4404,18.6552C30.6295,18.8613 29.92,19.3767 29.5145,20.0982C29.5145,20.0982 25.5613,24.6847 25.5613,24.6847C25.5613,23.7571 25.7641,22.4172 26.0681,21.1804C26.0681,21.1804 29.7172,8.81227 29.7172,8.81227C30.0213,7.98773 29.9707,7.06012 29.5652,6.28712C29.1597,5.51411 28.5516,4.89571 27.69,4.5865C27.69,4.5865 27.2338,4.4319 27.2338,4.4319C25.5613,3.8135 23.6861,4.7411 23.0779,6.44172L21.1013,12.3166C21.1013,12.3166 21.3547,3.34969 21.3547,3.34969C21.3547,1.54601 19.9356,0 18.1618,0C18.1618,0 17.6549,0 17.6549,0C16.7934,0 15.9824,0.309202 15.3236,0.927607C14.7154,1.54601 14.3606,2.37055 14.3606,3.19509L13.9552,11.1313C13.9552,11.1313 12.7895,4.63804 12.7895,4.63804C12.6374,3.8135 12.1813,3.04049 11.4718,2.57669C10.7622,2.06135 9.9513,1.90675 9.14039,2.06135C9.14039,2.06135 8.63357,2.16442 8.63357,2.16442C6.91038,2.47362 5.79538,4.1227 6.09947,5.87485L7.82266,15.254C7.82266,15.254 5.59265,10.9767 5.59265,10.9767C5.33924,10.3067 4.83242,9.79141 4.17356,9.48221C3.51469,9.17301 2.75447,9.17301 2.0956,9.43067C2.0956,9.43067 1.74083,9.58528 1.74083,9.58528C0.321734,10.1521 -0.337131,11.7497 0.169688,13.1411L3.71742,23.4994Z"}))};xW.defaultProps={color:"#333",style:{}};var wW=xW;n("hwNL");function OW(){return(OW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function EW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jW(e,t,n[t])})}return e}function jW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _W=function(e){var t=e.children,n=e.style,r=kW(e,["children","style"]);return f.a.createElement(ma.a,OW({},r,{outerClassName:"AnnoyingButton",style:EW({zIndex:20},n)}),t)},SW=function(e){var t=e.id;return f.a.createElement(D.a,{floating:!0,underline:!1,to:{pathname:"/open-collections/".concat(t,"/new-contrib"),state:{fromOCPage:!0},search:"?source=collection"},component:_W},f.a.createElement(wW,{style:{position:"relative",top:"-0.3em",marginRight:"6.5px",width:"16px"}}),f.a.createElement("span",{style:{fontSize:"15px",color:L.a.font}},"我来推荐一本"))};function CW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){PW(e,t,n[t])})}return e}function PW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IW=function(e){var t={backgroundImage:"linear-gradient(\n      to top,\n      ".concat(Object(mi.a)(e.maskColor,.6),",\n      ").concat(e.maskColor," 56%\n    )"),backgroundSize:"cover",backgroundPosition:"top"},n={backgroundImage:"url(".concat(e.image,")"),backgroundSize:"cover",backgroundPosition:"center"};return Object.keys(t).reduce(function(e,r){return CW({},e,PW({},r,"".concat(t[r],", ").concat(n[r])))},{})},TW=function(e){var t=e.collection;return f.a.createElement(At.a,{column:!0,evenBetween:!0,className:"OCHeader",style:CW({color:"white"},IW(t))},f.a.createElement(Bu,{appHeight:40,calcFn:function(e){return"calc(".concat(e," - 12px)")}}),f.a.createElement("header",{style:{marginTop:"32px",marginBottom:"80px"},className:"jsx-1937838249"},f.a.createElement(jS,{style:{marginBottom:"12px",fontSize:"30px",fontWeight:"500"}},t.name),f.a.createElement(fe.a,{style:{lineHeight:"1.6"}},t.description)),f.a.createElement(At.a,{component:"footer",evenBetween:!0,alignCenter:!0,style:{marginBottom:"30px"}},f.a.createElement(pC,{itemsCount:t.itemsCount,contributorsCount:t.contributorsCount,style:{fontSize:"inherit"}}),f.a.createElement(sr,{limit:5,userIds:t.contributors})),f.a.createElement(P.a,{id:"1937838249"},[".OCHeader{padding:0 15px;}"]))},NW=function(){return f.a.createElement(At.a,{column:!0,alignCenter:!0,style:{width:"100vh",backgroundColor:"#fff",margin:"-30px -15px -130px",marginBottom:"calc(-130px - env(safe-area-inset-bottom))"}},f.a.createElement(ma.a,{to:"/open-collections",style:{boxSizing:"border-box",color:"#18C3AA",fontSize:"15px",display:"block",width:"calc(100% - 32px)",padding:"15px 0",textAlign:"center",margin:"0 0 130px",marginBottom:"calc(130px + env(safe-area-inset-bottom))",borderBottom:"0.5px solid ".concat(L.a.confusingGray)}},"逛逛其他书单"))},RW=n("LAhb"),LW={display:"flex",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden"},AW={marginLeft:"4px",overflow:"hidden",textOverflow:"ellipsis"},FW={flexShrink:0},BW={display:"flex",alignItems:"center",flex:1,minWidth:0,marginRight:4,color:L.a.lighterFont},DW=function(e){var t=e.contributor,n=e.isContributor,r=e.onDelete;return f.a.createElement(At.a,{style:BW},f.a.createElement(M.a,{to:"/users/".concat(t.id),style:LW},f.a.createElement(Zt.a,{small:!0,url:t.avatarSmall,style:FW}),f.a.createElement(fe.a,{style:AW},"".concat(t.name,"的推荐"))),n&&f.a.createElement(u.Fragment,null,f.a.createElement(fe.a,{style:{padding:"0 0.5em"}},"·"),f.a.createElement(D.a,{cleanText:!0,onClick:r},"删除")))},MW=n("nRwk"),UW={lineHeight:0,marginRight:"30px"},zW=Object(a.b)(function(e,t){var n=t.contrib.contributor,r=Object(R.d)(e.session),o="string"==typeof n?n:n.id;return{isContributor:r&&r.id===o}},function(e,t){var n=t.contrib.id;return{onDelete:function(){return e(Object(Ds.b)(n))}}})(function(e){var t=e.contrib,n=e.isContributor,r=e.onDelete;if(!t)return null;var o=t.id,a=t.reason,i=t.contributor;return f.a.createElement("div",{className:P.a.dynamic([["403256288",[L.a.confusingGray,L.a.lighterFont]]])+" contrib-for-list"},f.a.createElement(MW.a,{foldReason:!0,id:o,reason:a,contributor:i}),f.a.createElement("footer",{className:P.a.dynamic([["403256288",[L.a.confusingGray,L.a.lighterFont]]])+" contrib-footer"},f.a.createElement(DW,{contributor:i,isContributor:n,onDelete:r}),f.a.createElement(At.a,{alignCenter:!0},f.a.createElement(M.a,{to:"/oc-contrib/".concat(o),style:UW},f.a.createElement(wH,{width:18,height:18,style:{color:"#aaa"}})),f.a.createElement(Ks,{contribId:o}))),f.a.createElement(P.a,{id:"403256288",dynamic:[L.a.confusingGray,L.a.lighterFont]},[".contrib-for-list.__jsx-style-dynamic-selector{padding:16px 16px 26px 16px;border-bottom:0.5px solid ".concat(L.a.confusingGray,";}"),".contrib-footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:1em;font-size:14px;color:".concat(L.a.lighterFont,";white-space:nowrap;width:100%;}")]))}),GW={marginLeft:"16px",borderBottom:"none"},HW={small:!0},WW={boxShadow:"2px 2px 16px 0 rgba(0,0,0,0.2)"},VW=function(e){e.style;var t=e.book,n=e.contributions;return f.a.createElement("div",{className:"jsx-526238464 oc-item"},f.a.createElement(RW.a,{book:t,style:GW,coverStyle:WW,imageProps:HW}),f.a.createElement("div",{className:"jsx-526238464 contribs-wrap"},n.map(function(e){return f.a.createElement(zW,{key:e.id,contrib:e})})),f.a.createElement(P.a,{id:"526238464"},[".oc-item.jsx-526238464{margin-top:30px;}",".contribs-wrap.jsx-526238464{position:relative;}"]))};function KW(e){return(KW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function QW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZW(e){return(ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(e,t){return(JW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $W=function(e){var t=e.book,n=e.contributions;return f.a.createElement(VW,{key:t.id,book:t,contributions:n})},eV={padding:"0 16px",backgroundColor:"white"},tV=function(e){return e.querySelectorAll(".oc-item")},nV=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ZW(t).call(this,e))||"object"!==KW(o)&&"function"!=typeof o?XW(r):o).getTrackItemData=n.getTrackItemData.bind(XW(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JW(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"getTrackItemData",value:function(e){var t=this;return e.map(function(e){var n=e.index;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qW(e,t,n[t])})}return e}({},YW(e,["index"]),{index:n,objectType:"book",objectId:t.props.ocItems[n].book.id})})}},{key:"render",value:function(){var e=this.props,t=e.ocItems,n=e.loader,r=e.loadStatus,o=e.renderItem,a=void 0===o?$W:o,i=!["initial","failed","loading"].includes(r);return f.a.createElement(iE,{module:"open_collection",direction:"column",active:i,getTrackDOMItems:tV,getTrackItemData:this.getTrackItemData},f.a.createElement(Ut.a,{loadStatus:r,loader:n,items:t,renderDrainedList:NW,style:eV,renderItem:a}))}}])&&QW(n.prototype,r),o&&QW(n,o),t}(),rV=Object(a.b)(function(e,t){var n=t.id;return{ocItems:Object(Is.e)(e,n),loadStatus:Object(Is.g)(e,n)}},function(e,t){var n=t.id;return{loader:function(t){return e(Object(Ds.e)(t,n))}}})(nV);function oV(){return(oV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function aV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var iV=Object(a.b)(function(e,t){var n=t.id;return{collection:Object(JS.g)(e.entities,n),loadStatus:Object(JS.c)(e.entities,n)}},function(e,t){var n=t.id;return{loader:function(){return e(Object(FO.a)(n))}}})(function(e){var t=e.id,n=e.loadStatus,r=e.loader,o=e.component,a=aV(e,["id","loadStatus","loader","component"]);return f.a.createElement(Im.a,{id:t,loadStatus:n,loader:r},f.a.createElement(o,oV({id:t},a)))});function cV(e){return(cV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sV(e){return(sV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(e,t){return(fV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pV=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=sV(t).call(this,e))||"object"!==cV(o)&&"function"!=typeof o?uV(r):o).state={scrollTop:0},n.handleScroll=n.handleScroll.bind(uV(n)),n.throttleHandleScroll=W()(n.handleScroll,100),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fV(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleScroll",value:function(){this.setState({scrollTop:Object(w.b)()})}},{key:"render",value:function(){var e=this.props,t=e.collection,n=e.path;return f.a.createElement("div",{className:"jsx-2146344807 collection-detail-page"},f.a.createElement(ue.a,{title:this.pageTitle,withSuffix:!0}),f.a.createElement(Bc.a,{link:n,title:"".concat(t.name," - ").concat(t.description),desc:"".concat(t.contributorsCount," 人向书单推荐了 ").concat(t.itemsCount," 本书"),imgUrl:t.image}),f.a.createElement(VO,{onScroll:this.throttleHandleScroll}),f.a.createElement(TW,e),f.a.createElement(rV,e),f.a.createElement(SW,e),f.a.createElement(P.a,{id:"2146344807"},[".collection-detail-page.jsx-2146344807{min-height:100vh;background:#fff;}"]))}},{key:"pageTitle",get:function(){var e=this.props.collection.name;return O.f?e:this.state.scrollTop<=250?"书单":e}}])&&lV(n.prototype,r),o&&lV(n,o),t}(),dV=Object(Ne.a)(function(e){var t=e.match.params.id,n=e.location.pathname,r=e.history.action;return f.a.createElement(iV,{id:t,component:pV,path:n,action:r})});function mV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yV(e,t,n[t])})}return e}function yV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bV(){return(bV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var gV={marginRight:"14px"},vV=function(e){var t=e.component,n=e.book,r=e.book,o=r.id,a=r.title,i=r.images,c=r.publisher,l=r.rawAuthor,s=r.publishDate,u=e.showPopularity,p=e.children,d=e.style,m=hV(e,["component","book","book","showPopularity","children","style"]);return f.a.createElement(At.a,bV({book:n,component:t,className:N()("SearchBookItem"),style:mV({minHeight:"71px"},d)},m),f.a.createElement(At.a,{item:!0,noShrink:!0,component:Ga.a,little:!0,images:i,className:"SearchBookItem-image"}),f.a.createElement(At.a,{column:!0,evenBetween:!0,grow:!0},f.a.createElement("h2",{className:"SearchBookItem-title"},a),f.a.createElement(At.a,{grow:!0},f.a.createElement(At.a,{column:!0,grow:!0,evenBetween:!0},f.a.createElement("div",{className:"SearchBookItem-description"},[l,c,s].filter(Boolean).join(" / ")),u&&f.a.createElement("div",{className:"SearchBookItem-description"},f.a.createElement(cE.a,{style:gV,bookId:o}),function(e){var t=[];return e.wishCount&&t.push("".concat(e.wishCount," 人想买")),e.receivedCount&&t.push("收过 ".concat(e.receivedCount," 本")),t.join("，")}(n))))),p)};vV.defaultProps={component:function(e){var t=e.book,n=hV(e,["book"]);return f.a.createElement(M.a,bV({to:"/books/".concat(t.id)},n))},showPopularity:!1};var xV=vV;function wV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){OV(e,t,n[t])})}return e}function OV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(){return(EV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var kV={display:"block",marginTop:4},_V=function(e){var t=e.component,n=e.book,r=e.book,o=r.id,a=r.title,i=r.images,c=r.publisher,l=r.rawAuthor,s=r.publishDate,u=r.wishCount,p=e.children,d=e.style,m=jV(e,["component","book","book","children","style"]);return f.a.createElement(At.a,EV({book:n,component:t,className:N()("SearchBookItem"),style:wV({minHeight:"71px"},d)},m),f.a.createElement(At.a,{item:!0,noShrink:!0,small:!0,component:Ga.a,images:i,className:"SearchBookItem-image",style:{boxShadow:"2px 2px 16px 0 rgba(0,0,0,0.20)"}}),f.a.createElement(At.a,{column:!0,evenBetween:!0,grow:!0},f.a.createElement("h2",{className:"SearchBookItem-title",style:{fontSize:"15px"}},a),f.a.createElement(At.a,{grow:!0},f.a.createElement(At.a,{column:!0,grow:!0,evenBetween:!0},f.a.createElement("div",{className:"SearchBookItem-description",style:{fontSize:"13px",lineHeight:"1.5"}},f.a.createElement("p",null,[l,c,s].filter(Boolean).join(" / ")),f.a.createElement(cE.a,{style:kV,bookId:o})),f.a.createElement("div",{className:"SearchBookItem-description",style:{fontSize:"13px"}},Boolean(u)&&"".concat(u," 人想买"))))),p)};_V.defaultProps={component:function(e){var t=e.book,n=jV(e,["book"]);return f.a.createElement(M.a,EV({to:"/books/".concat(t.id)},n))}};var SV=_V;function CV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var PV=Object(a.b)(function(e,t){var n=t.id;return{book:Object(Pe.c)(e.entities,n),loadStatus:Object(Pe.d)(e.entities,n)}},function(e,t){var n=t.id;return{loader:function(){return e(Ho(n))}}})(function(e){var t=e.id,n=e.loadStatus,r=e.loader,o=e.large,a=CV(e,["id","loadStatus","loader","large"]);return f.a.createElement(Im.a,{id:t,loadStatus:n,loader:r},o?f.a.createElement(SV,a):f.a.createElement(xV,a))});function IV(e){return(IV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TV(e){return(TV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LV(e,t,n){return t&&RV(e.prototype,t),n&&RV(e,n),e}function AV(e,t){return(AV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var FV=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=TV(t).call(this,e))||"object"!==IV(o)&&"function"!=typeof o?NV(r):o).onSubmit=n.onSubmit.bind(NV(n)),n.onChange=n.onChange.bind(NV(n)),n.showConfirmModal=n.showConfirmModal.bind(NV(n)),n.hideConfirmModal=n.hideConfirmModal.bind(NV(n)),n.state={isConfirmModalVisible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AV(e,t)}(t,f.a.Component),LV(t,null,[{key:"defaultProps",get:function(){return{onSubmitSuccess:Dt.a}}}]),LV(t,[{key:"onChange",value:function(e){var t,n,r,o=e.target;this.props.onChange((t={},n=o.name,r=o.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(e).then(this.props.onSubmitSuccess),this.hideConfirmModal()}},{key:"showConfirmModal",value:function(){this.setState({isConfirmModalVisible:!0})}},{key:"hideConfirmModal",value:function(){this.setState({isConfirmModalVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.children;return f.a.createElement("form",{action:"#",onChange:this.onChange,onInput:this.onChange,onSubmit:function(t){t.preventDefault(),e.showConfirmModal()}},t,this.state.isConfirmModalVisible&&f.a.createElement(po.a,{onClose:this.hideConfirmModal,footer:f.a.createElement("div",{className:"jsx-4237362434 footer-root"},f.a.createElement("div",{className:"jsx-4237362434 footer-container"},f.a.createElement(D.a,{className:"footer-btn Modal-button",onClick:this.hideConfirmModal},"再检查一下"),f.a.createElement(D.a,{className:"footer-btn Modal-button",primary:!0,onClick:this.onSubmit},"确认提交")),f.a.createElement(P.a,{id:"4237362434"},[".footer-container.jsx-4237362434{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}",".footer-container.jsx-4237362434 .footer-btn{font-size:15px;}",".footer-root.jsx-4237362434{width:100%;}"]))},"提交之后内容不可修改"))}}]),t}(),BV=Object(a.b)(null,function(e){return{onChange:function(t){return e(Object(Ds.c)(t))},onSubmit:function(){return e(Object(Ds.a)())}}})(FV);function DV(e){return(DV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UV(e,t){return!t||"object"!==DV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zV(e){return(zV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GV(e,t){return(GV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){WV(e,t,n[t])})}return e}function WV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(){return(VV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function KV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var qV={marginBottom:100},YV=function(e){return e?"/open-collections/".concat(e,"/search-book-to-contrib"):"/book/search-book-to-contrib"},QV=function(e){return e.bookId?f.a.createElement(JV,e):f.a.createElement($V,e)},ZV=function(e){var t=e.children,n=KV(e,["children"]);return f.a.createElement(ih.a,VV({large:!0,style:{marginBottom:"12px"}},n),t)},XV=function(e){var t=e.children,n=e.source,r=KV(e,["children","source"]);return f.a.createElement("section",r,f.a.createElement(ZV,null,"collection"===n?"想推荐的书":"选择一本书"),t)},JV=function(e){var t=e.collectionId,n=e.bookId,r=e.source;return f.a.createElement(XV,{source:r,style:{position:"relative"}},f.a.createElement(PV,{id:n,component:function(e){e.book;var t=KV(e,["book"]);return f.a.createElement(M.a,VV({to:"/books/".concat(n)},t))},large:!0,style:{marginBottom:"32px",padding:0,background:"none"}}),t&&f.a.createElement(rK,{collectionId:t,style:{position:"absolute",bottom:0,right:0}}))},$V=function(e){var t=e.collectionId,n=e.source;return f.a.createElement(XV,{source:n},f.a.createElement(Zm,null,f.a.createElement(M.a,{to:YV(t),replace:!0,style:{position:"relative",width:"100%",height:"48px"}},f.a.createElement(it,{style:{background:"transparent"},placeholder:"输入书名"}),f.a.createElement(Ym,{width:"16",style:{width:"1em",position:"absolute",right:"12px",top:"12px"}}))))},eK=function(e){var t=e.collection;return f.a.createElement("section",null,f.a.createElement(ZV,null,"推荐到这个书单: "),f.a.createElement(At.a,{style:{alignItems:"center",borderTop:"0.5px solid ".concat(L.a.confusingGray),borderBottom:"0.5px solid ".concat(L.a.confusingGray),padding:"22px 0"}},f.a.createElement(At.a,{alignCenter:!0,component:M.a,to:"/open-collections/".concat(t.id)},f.a.createElement("div",{style:{minWidth:"50px",width:"50px",height:"50px",borderRadius:"6px",marginRight:"10px",background:"url(".concat(t.image,") center/cover")}}),f.a.createElement(At.a,{column:!0},f.a.createElement("p",{style:{fontSize:"15px",fontWeight:"400"}},t.name),f.a.createElement("p",{style:{fontSize:"13px",color:L.a.lighterFont,WebkitLineClamp:"2",overflow:"hidden"}},t.description))),f.a.createElement(At.a,{style:{flexGrow:"1",flexDirection:"column",alignItems:"flex-end"}},f.a.createElement(lt,{style:{color:L.a.primary,paddingLeft:"23px"}}))))},tK=function(e){var t=e.reason,n="collection"===e.source;return f.a.createElement("section",{style:{marginBottom:"32px"}},f.a.createElement(ZV,null,n?"为什么推荐这本书？":"关于这本书的想法"),f.a.createElement(Zm,null,f.a.createElement(it,{type:"textarea",name:"reason",value:t,placeholder:n?"说说你和这本书的故事，鱼编会选择有趣的推荐展示在书单里":"写什么都行：推荐、评价、摘抄",style:{height:"8em",background:"transparent"},onChange:Dt.a})))},nK=function(){return f.a.createElement(Ze.a,{style:{height:"calc(92px + 130px + env(safe-area-inset-bottom))",backgroundColor:"#fff",boxShadow:"0 -1px 8px 0 rgba(0,0,0,0.08)",margin:"0 0 -130px",marginBottom:"calc(-130px - env(safe-area-inset-bottom))"}},f.a.createElement(Xe.a,{style:{marginBottom:"600px"}},f.a.createElement(D.a,{type:"submit",large:!0,primary:!0,block:!0,style:{width:"calc(100% - 106px)",fontSize:"15px",margin:"17px auto 147px",marginBottom:"calc(130px + 17px + env(safe-area-inset-bottom))"}},"推荐")))},rK=function(e){var t=e.collectionId,n=e.style;return f.a.createElement(D.a,{small:!0,component:M.a,style:HV({},n,{padding:"7px 21px"}),to:YV(t),replace:!0},"修改")},oK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UV(this,zV(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GV(e,t)}(t,f.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.scrollIfNeeded()}},{key:"scrollIfNeeded",value:function(){var e=this.props.navState;(e.fromOCPage||e.fromSearchResult)&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.collection,n=e.collectionId,r=e.bookId,o=e.reason,a=e.source;return f.a.createElement("div",{className:"jsx-650128642 root"},f.a.createElement(BV,{collectionId:n,bookId:r,onSubmitSuccess:this.props.onSubmitSuccess},f.a.createElement(QV,{collection:t,collectionId:n,bookId:r,source:a}),f.a.createElement(tK,{reason:o,source:a}),t&&f.a.createElement(eK,{collection:t}),f.a.createElement(nK,null)),f.a.createElement(ht,{style:qV}),f.a.createElement(P.a,{id:"650128642"},[".root.jsx-650128642{padding:0.8em;font-size:1.25em;}"]))}}])&&MV(n.prototype,r),o&&MV(n,o),t}(),aK=Object(a.b)(function(e){return Object(Is.h)(e.entities)})(oK);function iK(){return(iK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cK(e){return(cK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uK(e,t){return!t||"object"!==cK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fK(e){return(fK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pK(e,t){return(pK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dK={editContrib:Ds.c},mK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uK(this,fK(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pK(e,t)}(t,f.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props.location.search,t=Object(Mt.a)(e),n=t.source,r=t.bookId;window.scrollTo(0,0);var o={collectionId:this.collectionId,bookId:r,reason:""},a=n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lK(e,t,n[t])})}return e}({},o,{source:n}):o;this.props.editContrib(a)}},{key:"render",value:function(){return f.a.createElement("div",{className:"jsx-1435278873 root"},f.a.createElement(ue.a,{title:"我来推荐"}),f.a.createElement(Dm,{type:"subscribeAndUserinfo"}),f.a.createElement(aK,{navState:this.navState,collection:this.props.collection}),f.a.createElement(P.a,{id:"1435278873"},[".root.jsx-1435278873{background:white;min-height:100vh;}"]))}},{key:"collectionId",get:function(){return this.props.match.params.id}},{key:"navState",get:function(){return this.props.location.state||{}}}])&&sK(n.prototype,r),o&&sK(n,o),t}(),yK=Object(a.b)(null,dK)(mK),bK=function(e){var t=e.match.params.id;return t?f.a.createElement(iV,iK({id:t,path:e.location.pathname,component:yK},e)):f.a.createElement(yK,e)};function hK(e){return(hK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gK(e){return(gK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wK(e,t,n){return t&&xK(e.prototype,t),n&&xK(e,n),e}function OK(e,t){return(OK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var EK={onUpdateKeyword:AC.m,onReplaceSearch:AC.h,onResetSearch:AC.j,onReplaceUrl:AC.i,onClearSearchResults:AC.a},jK=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gK(t).call(this,e))||"object"!==hK(o)&&"function"!=typeof o?vK(r):o).handleInputKeydown=n.handleInputKeydown.bind(vK(n)),n.handleChange=n.handleChange.bind(vK(n)),n.reset=n.reset.bind(vK(n)),n.debounceReplaceSearch=MO()(e.onReplaceSearch,600),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OK(e,t)}(t,u["PureComponent"]),wK(t,null,[{key:"propTypes",get:function(){return{keyword:de.a.string,basePath:de.a.string.isRequired}}},{key:"defaultProps",get:function(){return{keyword:"",placeholder:"你想推荐哪本书？"}}}]),wK(t,[{key:"componentDidMount",value:function(){this.props.autofocus&&this.inputElement.focus()}},{key:"handleChange",value:function(e){var t=this.props,n=t.basePath,r=t.searchType,o=t.onUpdateKeyword,a=t.onClearSearchResults;if(e)return o(e),a(),void this.debounceReplaceSearch(e,n,r);this.handleResetSearch()}},{key:"handleInputKeydown",value:function(e){var t=this.props,n=t.keyword,r=t.basePath,o=t.searchType,a=t.onReplaceSearch,i=t.onClearSearchResults;"Enter"===e.key&&n&&(e.preventDefault(),this.inputElement.blur(),i(),a(n,r,o))}},{key:"handleResetSearch",value:function(){var e=this.props,t=e.onReplaceUrl,n=e.onResetSearch,r=e.basePath;n(),t("",r)}},{key:"reset",value:function(){this.handleResetSearch(),this.inputElement.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.keyword,r=t.placeholder;return f.a.createElement("div",{className:"Search-header"},f.a.createElement(Xe.a,null,f.a.createElement("form",{action:"#",className:"Search-form"},f.a.createElement(XC,{value:n,placeholder:r,domRef:function(t){e.inputElement=t},onKeyDown:this.handleInputKeydown,onChange:this.handleChange}),n&&f.a.createElement(kK,{reset:this.reset}))))}}]),t}(),kK=function(e){var t=e.reset;return f.a.createElement(D.a,{icon:!0,className:"Search-resetButton",onClick:t},f.a.createElement(Fb.a,{className:"Search-removeIcon"}))},_K=Object(a.b)(function(e){return{keyword:Object(FB.d)(e.search)}},EK)(jK);function SK(e){return(SK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CK(){return(CK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function PK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IK(e){return(IK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NK(e,t){return(NK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var RK=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=IK(t).call(this,e))||"object"!==SK(o)&&"function"!=typeof o?TK(r):o).renderItem=n.renderItem.bind(TK(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NK(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"renderItem",value:function(e){var t=this.props,n=t.style,r=t.ocId,o=e.book;return f.a.createElement(Nf,{key:o,id:o},function(e){return f.a.createElement("div",{className:"Search-section",style:n},f.a.createElement(xV,{component:function(e){return f.a.createElement(M.a,CK({},e,{replace:!0,to:{state:{fromSearchResult:!0},pathname:r?"/open-collections/".concat(r,"/new-contrib"):"/book/new-contrib",search:"?bookId=".concat(o)}}))},book:e}))})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.loader,r=e.loadStatus,o=e.renderEmptyContent;return f.a.createElement(Ut.a,{items:t,loader:n,loadStatus:r,renderItem:this.renderItem,renderEmptyContent:o})}}])&&PK(n.prototype,r),o&&PK(n,o),t}();function LK(e){return(LK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FK(e,t){return!t||"object"!==LK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BK(e){return(BK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DK(e,t){return(DK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FK(this,BK(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DK(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){(0,this.props.onLoadRec)(!0)}},{key:"render",value:function(){var e=this.props,t=e.ocId,n=e.loadStatus,r=e.keyword,o=e.results,a=e.onLoadRec;return r||0===o.length?null:f.a.createElement("div",{style:{marginTop:"18px"}},f.a.createElement(RK,{style:{marginTop:0},ocId:t,items:o,loader:a,loadStatus:n}))}}])&&AK(n.prototype,r),o&&AK(n,o),t}(),UK=Object(a.b)(function(e){var t=Object(Pe.x)(e.entities),n=Object(FB.b)(e),r=Object(FB.c)(e);return{results:n.map(function(e){return t[e]}).filter(function(e){return"book"===e.type}),loadStatus:r}},function(e,t){var n=t.ocId;return{onLoadRec:function(t){return e(Object(AC.e)(t,{id:n}))}}})(MK),zK=function(){return f.a.createElement("div",{className:"jsx-2169421039 empty-hint"},"没有找到相关内容",f.a.createElement(P.a,{id:"2169421039"},[".empty-hint.jsx-2169421039{height:80px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))},GK=Object(a.b)(function(e){var t=Object(Pe.x)(e.entities),n=Object(FB.f)(e),r=Object(FB.e)(e);return{results:n.map(function(e){return t[e]}).filter(function(e){return"book"===e.type}),loadStatus:r}},function(e,t){var n=t.keyword;return{onLoadSearchResults:function(t){return e(Object(AC.g)(t,{keyword:n}))}}})(function(e){var t=e.ocId,n=e.results,r=e.loadStatus,o=e.onLoadSearchResults;return f.a.createElement(RK,{ocId:t,items:n,loader:o,loadStatus:r,renderEmptyContent:zK})});function HK(){return(HK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function WK(e){return(WK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KK(e,t){return!t||"object"!==WK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qK(e){return(qK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YK(e,t){return(YK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QK={onInitSearch:AC.c,loadOC:FO.a},ZK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KK(this,qK(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YK(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.keywordInUrl,n=e.keyword,r=e.onInitSearch,o=e.loadOC,a=e.openCollection,i=e.ocId;!a&&i&&o(i),n===t&&"POP"===history.action||r(t,"book")}},{key:"render",value:function(){var e=this.props,t=e.ocId,n=e.openCollection,r=e.keyword,o=e.basePath,a=e.loadStatus;if(!n&&t)return null;var i,c=(n||{}).type;return r?"initial"!==a&&(i=f.a.createElement(GK,{ocId:t,keyword:r})):i=f.a.createElement(UK,{ocId:t,keyword:r}),f.a.createElement("div",{className:"jsx-3239309895 root Search"},f.a.createElement(ue.a,{title:"选择要推荐的书"}),f.a.createElement(_K,{autofocus:"sold"!==c,basePath:o,placeholder:"输入书名",searchType:"book"}),i,f.a.createElement(P.a,{id:"3239309895"},[".root.jsx-3239309895{padding-top:66px;}"]))}}])&&VK(n.prototype,r),o&&VK(n,o),t}(),XK=Object(a.b)(function(e,t){var n=t.ocId,r=t.match.params,o=e.entities,a=e.search;return{keyword:Object(FB.d)(a),keywordInUrl:decodeURIComponent(r.keyword||""),openCollection:n?Object(JS.g)(o,n):null,loadStatus:Object(FB.e)(e)}},QK)(ZK),JK=function(e,t){return function(e,t){return function(n){return f.a.createElement(e,HK({},n,t))}}(e,{basePath:t.url,ocId:t.params.id})},$K=function(e){var t=e.match;return f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:"".concat(t.url,"/:keyword"),render:JK(XK,t)}),f.a.createElement(i.a,{exact:!0,path:t.url,render:JK(XK,t)}),f.a.createElement(xd.a,{from:"".concat(t.url,"/"),to:t.url}))},eq=n("7EGn");function tq(){return(tq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rq(e,t,n[t])})}return e}function rq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var aq=function(e){var t=e.ocId,n=e.style,r=oq(e,["ocId","style"]);return f.a.createElement(D.a,tq({fuckThisShit:!0,component:ma.a,to:"/open-collections/".concat(t),style:nq({display:"block",width:"60%",marginTop:"33px",color:"#ffffff"},n)},r),"回书单")};aq.propTypes={ocId:de.a.string.isRequired};var iq=aq;function cq(){return(cq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lq=function(e){return f.a.createElement("svg",cq({width:"44",viewBox:"0 0 88 88"},e),f.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},f.a.createElement("path",{d:"M85.554799,43.4912908 C87.4173497,45.3868394 88.2936284,48.0450071 87.9123188,50.6775098 C87.5310093,53.3100125 85.9471079,55.6125357 83.6262525,56.9104549 C80.3667889,58.7253418 78.669228,62.4467767 79.4281807,66.0948828 C79.9708135,68.6980539 79.2668574,71.4038854 77.5252992,73.4130936 C75.783741,75.4259682 73.2062349,76.5075675 70.5517336,76.3389113 C66.8302988,76.1042592 63.3911797,78.318788 62.0602626,81.7982379 C61.1069886,84.2804166 59.0501168,86.1796316 56.4946093,86.927585 C53.9464347,87.6792049 51.1892731,87.195235 49.0480731,85.6186666 C46.0489266,83.4078043 41.9535151,83.4078043 38.9507021,85.6186666 C36.8095022,87.1915686 34.0523406,87.6755384 31.504166,86.927585 C28.9486585,86.1796316 26.8917867,84.284083 25.9421791,81.7982379 C24.6075956,78.318788 21.172143,76.1079257 17.4470417,76.3389113 C14.7998732,76.5075675 12.2187007,75.4259682 10.4734761,73.4130936 C8.73191789,71.4038854 8.03162818,68.6980539 8.57059461,66.0948828 C9.33321377,62.4467767 7.63198641,58.7253418 4.37618922,56.9104549 C2.05166735,55.6162022 0.464099582,53.3100125 0.0864564398,50.6775098 C-0.291186702,48.0450071 0.581425607,45.3868394 2.44764269,43.4912908 C5.05814674,40.8294566 5.64111042,36.7817088 3.88488649,33.4929136 C2.6309646,31.1500596 2.54297008,28.3562336 3.646568,25.9363843 C4.75016592,23.5165351 6.92069738,21.7493118 9.51653568,21.1626817 C13.149976,20.3413995 15.8264759,17.2505921 16.1271239,13.5328237 C16.3397773,10.8819888 17.7806875,8.48047173 20.0172149,7.04322792 C22.2537422,5.60598412 25.0329025,5.29433687 27.5334134,6.20361356 C31.0385283,7.47586764 34.9616173,6.32093958 37.209144,3.35479102 C38.8223768,1.24292257 41.3302206,0 43.9883883,0 C46.6502225,0 49.1580663,1.24292257 50.7712991,3.35479102 C53.0298251,6.31727315 56.9529141,7.4722012 60.4580291,6.19994712 C62.9622064,5.28700399 65.7413666,5.59865124 67.9742275,7.03956149 C70.2144213,8.47680529 71.6516651,10.8783224 71.867985,13.5291572 C72.1649665,17.2469256 74.8451328,20.3340667 78.4785732,21.1590153 C81.0744115,21.7456454 83.2449429,23.5128686 84.3485408,25.9327179 C85.4558052,28.3562336 85.3678107,31.1463931 84.1138888,33.4929136 C82.3576649,36.7853752 82.9406285,40.8294566 85.554799,43.4912908 Z M30.8349164,41.7823973 C29.614604,40.5620849 27.6360867,40.5620849 26.4157743,41.7823973 C25.1954619,43.0027097 25.1954619,44.981227 26.4157743,46.2015394 L38.1337943,57.9195595 C39.3833357,59.1691009 41.4195854,59.1347317 42.6262458,57.8437328 L63.5538973,35.4533633 C64.7323318,34.1925632 64.6655613,32.2151729 63.4047613,31.0367384 C62.1439612,29.8583039 60.1665709,29.9250744 58.9881364,31.1858744 L40.2674956,51.2149765 L30.8349164,41.7823973 Z",fill:"#D6BA8C",fillRule:"nonzero"})))};function sq(){return(sq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fq(e,t,n[t])})}return e}function fq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dq=function(e){e.contrib;var t=e.style,n=pq(e,["contrib","style"]);return f.a.createElement(At.a,sq({column:!0,alignCenter:!0,style:uq({color:"white",textAlign:"center",padding:"34px 0 30px"},t)},n),f.a.createElement(lq,{style:{marginBottom:"20px"}}),f.a.createElement(fe.a,{style:{fontSize:"20px",fontWeight:500,marginBottom:"10px"}},"你的推荐入选了"),f.a.createElement(fe.a,null,"长按 👇 下面的图片保存，分享给朋友"))};function mq(e){return(mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yq(){return(yq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hq(e,t){return!t||"object"!==mq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gq(e){return(gq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xq(e,t,n){return t&&vq(e.prototype,t),n&&vq(e,n),e}function wq(e,t){return(wq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oq=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=hq(this,(e=gq(t)).call.apply(e,[this].concat(o)))).state={loadStatus:"initial"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wq(e,t)}(t,f.a.Component),xq(t,null,[{key:"propTypes",get:function(){return{src:de.a.string.isRequired,spinner:de.a.func}}},{key:"defaultProps",get:function(){return{spinner:q.a}}}]),xq(t,[{key:"componentDidMount",value:function(){this.startFetching()}},{key:"startFetching",value:function(){var e=this,t=this.props.src;this.setState({loadStatus:"loading"});var n=new window.Image;n.onload=function(){e.setState({loadStatus:"loaded"})},O.f?fetch(t,{headers:{"x-cacheable":"app"}}).then(function(e){return e.blob()}).then(function(e){n.src=URL.createObjectURL(e)}):n.src=t}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.alt,r=e.spinner,o=bq(e,["src","alt","spinner"]);return"loading"===this.state.loadStatus?f.a.createElement(r,null):f.a.createElement("img",yq({alt:n,src:"loaded"===this.state.loadStatus?t:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},o))}}]),t}(),Eq=n("yfAj");function jq(e){return(jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _q(e,t){return!t||"object"!==jq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sq(e){return(Sq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cq(e,t){return(Cq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pq=function(){return f.a.createElement("div",{style:{height:"75vh"}},f.a.createElement(q.a,{style:{width:"25px",height:"25px",position:"fixed",top:"50vh"},leafStyle:{backgroundColor:"#ffffff"}}))},Iq=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_q(this,Sq(t).call(this,e))).state={imgUrl:String(Object(Eq.a)(e.contrib))},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cq(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){if(O.f){var e={imgUrl:this.state.imgUrl};Jr.c.onShare(e,e),Jr.c.callOutMenu({opacity:"0.0"})}}},{key:"render",value:function(){return f.a.createElement(At.a,{even:!0},f.a.createElement(Oq,{spinner:Pq,width:"85.3333%",height:"85.3333%",alt:"荐书图片快照",src:this.state.imgUrl,style:{boxShadow:"0 0 10px 0 rgba(0,0,0,0.16)"}}))}}])&&kq(n.prototype,r),o&&kq(n,o),t}();function Tq(){return(Tq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rq(e,t,n[t])})}return e}function Rq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Aq=function(){return f.a.createElement("div",null,"长按 👇 下面的图片保存，分享给朋友")},Fq=function(e){e.contrib;var t=e.style,n=Lq(e,["contrib","style"]);return f.a.createElement(At.a,Tq({column:!0,even:!0,alignCenter:!0},n,{style:Nq({color:"white",fontSize:"15px",padding:"26px 0 24px",textAlign:"justify"},t)}),f.a.createElement(Aq,null))},Bq=Object(a.b)(function(e,t){var n=e.entities,r=t.match.params.id;return{id:r,contrib:Object(Is.f)(n,r),loadStatus:Object(Is.d)(n,r)}},function(e,t){var n=t.match.params.id;return{loader:function(){return e(Object(Ds.d)(n))}}})(function(e){var t=e.id,n=e.loader,r=e.loadStatus,o=e.contrib,a=e.isRecentlyApproved,i=Object(eq.a)(o,"collection.id");return f.a.createElement(Im.a,{id:t,loader:n,loadStatus:r},f.a.createElement(At.a,{column:!0,alignCenter:!0,className:"page",style:{boxSizing:"border-box",paddingBottom:"45px",minHeight:"100vh",backgroundColor:Object(eq.a)(o,"collection.maskColor")||L.a.golden}},f.a.createElement(ue.a,{title:"initial"===Object(eq.a)(o,"auditState")?"提交成功":"分享"}),f.a.createElement("div",{className:"jsx-745789659 contribPage"},f.a.createElement(Bu,{appHeight:0,calcFn:function(e){return"calc(".concat(e," - 40px)")}}),O.f?null:a?f.a.createElement(dq,{contrib:o}):f.a.createElement(Fq,{contrib:o}),f.a.createElement(Iq,{contrib:o}),!O.f&&i&&f.a.createElement(At.a,{even:!0},f.a.createElement(iq,{ocId:i})),f.a.createElement(P.a,{id:"745789659"},[".contribPage.jsx-745789659{padding-top:60px;}"]))))});function Dq(){return(Dq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mq=function(e){return f.a.createElement(Bq,Dq({isRecentlyApproved:!0},e))},Uq=function(e){var t=e.location,n=Object(Mt.a)(t.search),r=n.contribId,o=n.ocID;return f.a.createElement(xd.a,{to:{pathname:"/open-collections/".concat(o,"/new-contrib?source=collection"),state:{scrollToContrib:r}}})},zq=Object(a.b)(function(e,t){var n=e.entities,r=t.match.params.id;return{id:r,contrib:Object(Is.f)(n,r),loadStatus:Object(Is.d)(n,r)}},function(e,t){var n=t.match.params.id;return{loader:function(){return e(Object(Ds.d)(n))}}})(function(e){var t=e.id,n=e.loader,r=e.loadStatus,o=e.contrib;return f.a.createElement(Im.a,{id:t,loader:n,loadStatus:r},o&&("approved"!==o.auditState&&o.collection?f.a.createElement(xd.a,{to:"/open-collections/".concat(o.collection.id)}):f.a.createElement(xd.a,{to:"/oc-contrib/".concat(o.id,"/comments")})))}),Gq=function(e){var t=e.text,n=e.onClick;return f.a.createElement("span",null,f.a.createElement(fe.a,{style:{padding:"0 0.5em"}},"·"),f.a.createElement(D.a,{cleanText:!0,onClick:n},t))},Hq=function(e){var t=e.contrib,n=e.showVoters,r=e.isContributor,o=e.onDelete;if(!t)return null;var a=t.id,i=t.hasRated,c=t.rating,l=t.reason,s=t.contributor,u=t.latestVoters,p=t.voteCount,d=t.collection,m=t.auditState,y=t.created,b=d&&"approved"===m||!d;return f.a.createElement("div",null,f.a.createElement("div",{className:"root",style:{padding:"16px",borderBottom:"0.5px solid ".concat(L.a.confusingGray)}},f.a.createElement(MW.a,{withUserInfo:!0,id:a,hasRated:i,rating:c,reason:l,contributor:s,renderLabel:function(e){var t=e.name;return l||i?"".concat(t):"".concat(t,"推荐")}}),f.a.createElement(At.a,{component:"footer",alignCenter:!0,style:{marginTop:"1em",fontSize:"14px",color:L.a.lighterFont}},f.a.createElement(At.a,{alignCenter:!0,to:"/oc-contrib/".concat(a),component:M.a},f.a.createElement(wH,{width:18,height:18,style:{color:"#aaa"}}),f.a.createElement("span",{style:{margin:"0 24px 0 4px"}},"分享")),f.a.createElement(Ks,{disableComment:!0,contribId:a}),f.a.createElement("div",{style:{flexGrow:1}}),f.a.createElement("div",null,f.a.createElement(be,{relative:!0,value:y}),r&&f.a.createElement(Gq,{text:"删除",onClick:o})))),n&&f.a.createElement(ur,{voteCount:p,latestVoters:u,link:1===p?"/users/".concat(u[0]):"/oc-contrib/".concat(a,"/voters")}),!b&&r&&f.a.createElement(At.a,{center:!0,alignCenter:!0,style:{height:"30vh",textAlign:"center",fontSize:"13px",color:L.a.lighterFont,lineHeight:"2"}},"感谢你的投稿 ",f.a.createElement("br",null),"鱼编会选择有趣的推荐展示在书单里"))};Hq.defaultProps={showVoters:!1};var Wq=Hq;function Vq(e){return(Vq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qq(e){return(qq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(e,t){return(Qq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zq={onCommentChange:qe,onCreateComment:function(){return function(e,t){var n=ze(t().entities).contribId;return e(function(e,t){var n=[];return ze(t().entities).text||n.push({key:"text",text:"写点什么吧"}),n.length?Promise.reject(n):Promise.resolve()}).catch(function(t){return e(Object(We.d)("COMMENT_FORM_INVALID",!1,t[0].text)),Promise.reject()}).then(function(){return e(Object(Ge.e)())}).then(function(){return e(function(e,t){var n=ze(t().entities),r=n.contribId;return e({contribId:r,attrs:n,fetch:{from:"post /oc-contributions/".concat(r,"/comments"),schema:Ve.a.occComment,body:n,types:[Ke.e,Ke.f,Ke.d]}})})}).then(function(){e(qe({contribId:n,text:""})),e(Object(Ge.c)())}).then(function(){setTimeout(function(){window.scrollTo(0,window.document.body.scrollHeight)},100)})}}},Xq=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=qq(t).call(this,e))||"object"!==Vq(o)&&"function"!=typeof o?Yq(r):o).handleComment=n.handleComment.bind(Yq(n)),n.handleChange=n.handleChange.bind(Yq(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qq(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contribId;(0,e.onCommentChange)({contribId:t})}},{key:"handleComment",value:function(){var e=this.props,t=e.commentContent;return(0,e.onCreateComment)(t)}},{key:"handleChange",value:function(e){(0,this.props.onCommentChange)({text:e})}},{key:"render",value:function(){var e=this.props.commentContent;return f.a.createElement(_t,{comment:e,onChange:this.handleChange,onComment:this.handleComment})}}])&&Kq(n.prototype,r),o&&Kq(n,o),t}(),Jq=Object(a.b)(function(e){var t=ze(e.entities);return{commentContent:t?t.text:""}},Zq)(Xq);function $q(e){return($q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tY(e,t){return!t||"object"!==$q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nY(e){return(nY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rY(e,t){return(rY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tY(this,nY(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rY(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.canDelete,r=e.onDelete;return f.a.createElement(nn,{comment:t,canDelete:n,onDelete:r})}}])&&eY(n.prototype,r),o&&eY(n,o),t}(),aY=Object(a.b)(function(e,t){var n=t.id,r=e.session.user,o=De(e,n);return{comment:o,canDelete:o&&o.author.id===r.id}},function(e,t){var n=t.id;return{onDelete:function(){return e(Ye(n))}}})(oY);function iY(e){return(iY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lY(e,t){return!t||"object"!==iY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sY(e){return(sY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uY(e,t){return(uY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fY=function(e){return f.a.createElement(aY,{key:e,id:e})},pY=function(){return f.a.createElement(Ft,null)},dY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lY(this,sY(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uY(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.commentIds,n=e.contrib.commentsCount,r=e.loadStatus,o=e.loader;return f.a.createElement(Qt,{count:n,loadStatus:r,loader:o,comments:t,renderFooter:pY,renderComment:fY})}}])&&cY(n.prototype,r),o&&cY(n,o),t}(),mY=Object(a.b)(function(e,t){var n=t.contribId;return{contrib:Object(Is.a)(e.entities,n),commentIds:Me(e,n),loadStatus:Ue(e,n),isCommentFormFocused:e.occCommentFormFocus}},function(e,t){var n=t.contribId;return{loader:function(){return e(function(e){return function(t,n){var r=n().occComments[e],o=r&&r.nextUrl?r.nextUrl:"/oc-contributions/".concat(e,"/comments");return t({contribId:e,isReset:!1,fetch:{from:o,schema:Ve.a.occComments,types:[Ke.b,Ke.c,Ke.a]}})}}(n))}}})(dY),yY=n("NfRc"),bY=function(){return f.a.createElement("span",{style:{padding:"3.5px 7.5px",border:"1px solid #fff",borderRadius:"4px"}},"去看看")},hY=function(e){var t=e.oc;return f.a.createElement(At.a,{column:!0},f.a.createElement("div",null,"书单",f.a.createElement(fe.a,{padStart:!0,padEnd:!0},"·"),f.a.createElement(pC,{itemsCount:t.itemsCount,contributorsCount:t.contributorsCount,style:{fontSize:"11px",verticalAlign:"inherit"}})),f.a.createElement(jS,{style:{fontSize:"18px",fontWeight:"500",marginBottom:0}},t.name))},gY=function(e){var t=e.oc;return f.a.createElement(At.a,{evenBetween:!0,alignCenter:!0,component:M.a,to:"/open-collections/".concat(t.id),style:{height:"92px",padding:"0 15px",color:"white",fontSize:"11px",backgroundImage:"linear-gradient(\n        to bottom,\n        ".concat(t.maskColor," 29%,\n        ").concat(Object(mi.a)(t.maskColor,.8),"\n      ), url(").concat(t.image,")"),backgroundSize:"cover",backgroundPosition:"top"}},f.a.createElement(hY,{oc:t}),f.a.createElement(bY,null))};function vY(e){return(vY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wY(e,t){return!t||"object"!==vY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OY(e){return(OY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EY(e,t){return(EY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jY=function(e){var t=e.book;return f.a.createElement(RW.a,{book:t,style:{marginLeft:"16px",borderBottom:"none"},coverStyle:{boxShadow:"2px 2px 16px 0 rgba(0,0,0,0.2)"},imageProps:{small:!0}})},kY=function(e){return e?"评论":"推荐"},_Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wY(this,OY(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EY(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.loader,o=t.loadStatus;return f.a.createElement(Im.a,{id:n,loader:r,loadStatus:o},function(){var t=e.props,n=t.location.pathname,r=t.contrib,o=t.commentEnabled,a=t.currentUser,i=t.onDeleteContrib,c=Object(eq.a)(r,"collection"),l=Object(eq.a)(r,"book"),s=Object(eq.a)(r,"auditState"),u=Object(eq.a)(r,"contributor.name"),p=Object(eq.a)(r,"hasRated"),d=c&&"approved"===s||!c,m=c&&o||!c,y=!!r&&a.id===r.contributor.id;return f.a.createElement(f.a.Fragment,null,f.a.createElement(At.a,{column:!0,className:"page",style:{boxSizing:"border-box",paddingBottom:"50px",minHeight:"100vh",backgroundColor:"#ffffff"}},f.a.createElement(ue.a,{title:e.pageTitle,withSuffix:!0}),r&&f.a.createElement(Bc.a,{link:n,imgUrl:l.images.small,title:"".concat(u).concat(kY(p),"了《").concat(l.title,"》"),desc:c?"多抓鱼书单-".concat(c.name):""}),c&&f.a.createElement(gY,{oc:c}),f.a.createElement("div",{style:{marginTop:25,padding:"0 15px"}},l&&f.a.createElement(jY,{book:Object(eq.a)(r,"book")}),f.a.createElement("div",{style:{position:"relative"}},f.a.createElement(Wq,{showVoters:!0,contrib:r,isContributor:y,onDelete:i}),f.a.createElement(yY.a,{style:{position:"absolute",top:"1em",right:"1em"},width:"35"})),r&&d&&f.a.createElement(mY,{contribId:r.id})),r&&d&&m&&f.a.createElement(Jq,{contribId:r.id})),!m&&f.a.createElement(sT,null))})}},{key:"pageTitle",get:function(){var e=Object(eq.a)(this.props,"contrib.contributor.name"),t=Object(eq.a)(this.props,"contrib.hasRated");if(e)return"".concat(e,"的").concat(kY(t))}}])&&xY(n.prototype,r),o&&xY(n,o),t}(),SY=Object(a.b)(function(e,t){var n=t.match.params.id;return{id:n,currentUser:e.session.user,commentEnabled:Ce(e,"openCollectionContributionComment"),contrib:Object(Is.f)(e.entities,n),loadStatus:Object(Is.d)(e.entities,n)}},function(e,t){var n=t.match.params.id;return{loader:function(){return e(Object(Ds.d)(n))},onDeleteContrib:function(){return e(Object(Ds.b)(n))}}})(Object(Ne.a)(_Y));function CY(e){return(CY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IY(e,t){return!t||"object"!==CY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TY(e){return(TY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NY(e,t){return(NY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var RY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IY(this,TY(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NY(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contrib,n=e.onLoadContrib;t||n()}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.loadStatus,r=e.onLoad,o=e.contrib;return"loading"===n?f.a.createElement(se,{empty:!0,loading:!0},f.a.createElement(ue.a,{title:"加载中"})):"notFound"===n?f.a.createElement(gc.a,null):f.a.createElement("div",{className:"jsx-4114000294 root"},f.a.createElement(ue.a,{title:o?"".concat(o.voteCount,"人觉得有趣"):"加载中"}),f.a.createElement(zr,{users:t,loadStatus:n,onLoad:r}),f.a.createElement(P.a,{id:"4114000294"},[".root.jsx-4114000294{box-sizing:border-box;min-height:100vh;background:#fff;}"]))}}])&&PY(n.prototype,r),o&&PY(n,o),t}(),LY=Object(a.b)(function(e,t){var n=t.match.params.id;return{id:n,users:Object(Is.i)(e,{contribId:n}),loadStatus:Object(Is.j)(e.ocContribVoters,{contribId:n}),contrib:Object(Is.f)(e.entities,n)}},function(e,t){var n=t.match.params.id;return{onLoad:function(t){return e(Object(Ds.f)(n,t))},onLoadContrib:function(){return e(Object(Ds.d)(n))}}})(Object(Ne.a)(RY)),AY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/items/".concat(e),r=Object(Mt.b)(t),o=r?"".concat(n,"?").concat(r):n;return{id:e,fetch:{types:[Uo.kc,Uo.lc,Uo.jc],from:o,schema:Ve.a.item}}};function FY(e){return(FY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BY(){return(BY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DY(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function MY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UY(e){return(UY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GY(e,t){return(GY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HY=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=UY(t).call(this,e))||"object"!==FY(o)&&"function"!=typeof o?zY(r):o).handleCartClick=n.handleCartClick.bind(zY(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GY(e,t)}(t,u["Component"]),n=t,(r=[{key:"handleCartClick",value:function(){var e=this.props;(0,e.onAddToCart)(e.item.id)}},{key:"render",value:function(){var e=this.props,t=e.inStock,n=e.isAddedToCart,r=(e.onAddToCart,DY(e,["inStock","isAddedToCart","onAddToCart"]));return t?n?f.a.createElement(D.a,BY({normal:!0,block:!0,mega:!0,gray:!0,round:!0,disabled:!0},r),"已加入购物车"):f.a.createElement(D.a,BY({normal:!0,block:!0,mega:!0,emphasis:!0,round:!0,onClick:this.handleCartClick},r),"加入购物车"):f.a.createElement(D.a,{normal:!0,block:!0,mega:!0,gray:!0,round:!0,disabled:!0},"已售出")}}])&&MY(n.prototype,r),o&&MY(n,o),t}();function WY(e){return(WY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KY(e,t){return!t||"object"!==WY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qY(e){return(qY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YY(e,t){return(YY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QY={onAddToCart:qo.j},ZY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KY(this,qY(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YY(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.cartCount,n=e.onAddToCart,r=e.item,o=e.item.virtuals,a=Boolean(o&&o.cartItem);return f.a.createElement(Ze.a,{paddingStyle:{background:"#fff"}},f.a.createElement(ll,{cartCount:t,btnContent:f.a.createElement(HY,{item:r,inStock:r.stock,isAddedToCart:a,onAddToCart:n})}))}}])&&VY(n.prototype,r),o&&VY(n,o),t}(),XY=Object(a.b)(function(e){return{cartCount:e.cart.inStockCount}},QY)(ZY),JY=function(){return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},f.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},f.a.createElement("circle",{cx:"8",cy:"8",r:"8",stroke:"#D6BA8C"}),f.a.createElement("path",{fill:"#D6BA8C",fillRule:"nonzero",d:"M6.21372032,9.52506596 L7.40105541,9.52506596 L7.40105541,8.7651715 L6.21372032,8.7651715 C5.71415757,8.7651715 5.46437995,8.59982575 5.46437995,8.26912929 C5.46437995,7.94546892 5.71415757,7.78364116 6.21372032,7.78364116 L6.88390501,7.78364116 L5.3060686,5.30870712 C5.17941889,5.11169646 5.09674602,4.97097668 5.05804749,4.88654354 C5.01934897,4.8021104 5,4.70888354 5,4.60686016 C5,4.42392169 5.05540842,4.27704541 5.16622691,4.16622691 C5.27704541,4.05540842 5.42040369,4 5.59630607,4 C5.77572649,4 5.92084377,4.05452892 6.03166227,4.16358839 C6.14248077,4.27264786 6.27176707,4.4485476 6.41952507,4.69129288 L8.12401055,7.36147757 L9.64907652,4.84432718 C9.70536528,4.74582185 9.76517119,4.6429205 9.82849604,4.53562005 C9.8918209,4.4283196 9.9533858,4.33685174 10.0131926,4.26121372 C10.0729994,4.1855757 10.1477568,4.12313129 10.237467,4.07387863 C10.3271772,4.02462596 10.4335966,4 10.5567282,4 C10.7326306,4 10.8759889,4.05364942 10.9868074,4.16094987 C11.0976259,4.26825032 11.1530343,4.39929562 11.1530343,4.55408971 C11.1530343,4.67722137 11.1310468,4.7897972 11.0870712,4.89182058 C11.0430956,4.99384396 10.9736153,5.12225077 10.878628,5.27704485 L9.35883905,7.78364116 L10.0290237,7.78364116 C10.5250684,7.78364116 10.7730871,7.94546892 10.7730871,8.26912929 C10.7730871,8.59982575 10.5250684,8.7651715 10.0290237,8.7651715 L8.83641161,8.7651715 L8.83641161,9.52506596 L10.0290237,9.52506596 C10.5250684,9.52506596 10.7730871,9.69041172 10.7730871,10.0211082 C10.7730871,10.3447685 10.5250684,10.5065963 10.0290237,10.5065963 L8.83641161,10.5065963 L8.83641161,10.9287599 C8.83641161,11.6429235 8.59894697,12 8.12401055,12 C7.64203805,12 7.40105541,11.6429235 7.40105541,10.9287599 L7.40105541,10.5065963 L6.21372032,10.5065963 C5.71415757,10.5065963 5.46437995,10.3447685 5.46437995,10.0211082 C5.46437995,9.69041172 5.71415757,9.52506596 6.21372032,9.52506596 Z"})))},$Y=function(e){var t=e.item,n=t.newImages,r=void 0===n?[]:n,o=t.description;return f.a.createElement(u.Fragment,null,f.a.createElement(Cc,{plain:!0},f.a.createElement("div",{className:"jsx-293353767 description"},o),f.a.createElement(P.a,{id:"293353767"},[".description.jsx-293353767{word-wrap:break-word;}"])),f.a.createElement(Ac,{to:"/support/item-service",text:"多抓鱼自营 ‧ 清洁消毒 ‧ 7 天售后"}),f.a.createElement(Cc,{plain:!0,bordered:!0},f.a.createElement(At.a,{row:!0,alignCenter:!0},f.a.createElement(JY,null),f.a.createElement("span",{className:P.a.dynamic([["2132961501",[L.a.golden]]])+" acquiring-tip"},"想卖东西请微信搜索关注「多抓鱼百货」公众号")),f.a.createElement(P.a,{id:"2132961501",dynamic:[L.a.golden]},[".acquiring-tip.__jsx-style-dynamic-selector{color:".concat(L.a.golden,";font-size:13px;margin:1px 0 1px 10px;}")])),f.a.createElement(Cc,{plain:!0,bordered:!0},f.a.createElement("div",{className:"jsx-1820423886 main"},r.slice(1).map(function(e,t){return f.a.createElement("img",{key:t,src:e.medium||"",alt:"",className:"jsx-1820423886"})})),f.a.createElement(P.a,{id:"1820423886"},[".main.jsx-1820423886{font-size:0;}",".main.jsx-1820423886 img.jsx-1820423886{max-width:100%;}",".main.jsx-1820423886 img.jsx-1820423886+img.jsx-1820423886{margin-top:20px;}"])))},eQ=function(e){var t=e.item,n=t.newImages,r=t.stock;return f.a.createElement("header",{className:P.a.dynamic([["1674456744",[eO(n,"medium")]]])+" root"},f.a.createElement("div",{className:P.a.dynamic([["1674456744",[eO(n,"medium")]]])+" ItemImage"},!r&&f.a.createElement("div",{className:P.a.dynamic([["1674456744",[eO(n,"medium")]]])+" sold-out"},"已售出")),f.a.createElement(P.a,{id:"1674456744",dynamic:[eO(n,"medium")]},[".ItemImage.__jsx-style-dynamic-selector{width:100%;min-height:250px;background-image:url(".concat(eO(n,"medium"),");background-size:cover;background-position:center;position:relative;overflow:hidden;}"),".ItemImage.__jsx-style-dynamic-selector::before{content:'';float:left;margin-top:100%;}",".sold-out.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,0.5);color:#fff;font-size:20px;font-weight:400;}"]))},tQ={sizeLength:"长",sizeWidth:"宽",sizeHeight:"高"},nQ=function(e){var t=e.item,n=t.goods,r=void 0===n?[]:n,o=t.brand,a=t.model,i=t.material,c=t.origin,l=["sizeLength","sizeWidth","sizeHeight"].filter(function(e){return t[e]}),s=[{isVisible:!0,name:"品相",render:function(){if(!r.length)return"";var e=r[0],t=e.condition,n=e.flawReasons;return f.a.createElement(Px,{withButton:!0,condition:t,flawReasons:n})}},{isVisible:Boolean(o),name:"品牌",render:function(){return o}},{isVisible:Boolean(a),name:"型号",render:function(){return a}},{isVisible:Boolean(i),name:"材质",render:function(){return i}},{isVisible:Boolean(c),name:"产地",render:function(){return c}},{isVisible:Boolean(l.length),name:"尺寸",render:function(){return l.map(function(e){return"".concat(tQ[e]," ").concat((Number(t[e])/10).toFixed(1)," cm")}).join(" / ")}}];return f.a.createElement(Cc,{plain:!0},f.a.createElement(Ku,{properties:s}))};function rQ(e){return(rQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aQ(e,t){return!t||"object"!==rQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iQ(e){return(iQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cQ(e,t){return(cQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aQ(this,iQ(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cQ(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.seller;return e?f.a.createElement(Cc,null,f.a.createElement(ma.a,{to:"/users/".concat(e.id)},f.a.createElement("div",{className:"jsx-3278108397 root"},f.a.createElement("div",{className:"jsx-3278108397 avatar"},f.a.createElement(rr,{userId:e.id})),f.a.createElement("div",{className:"jsx-3278108397 content"},f.a.createElement("span",{className:"jsx-3278108397"},e.name,"是前主人")),f.a.createElement(qn.a,{stroke:L.a.darkGray}))),f.a.createElement(P.a,{id:"3278108397"},[".root.jsx-3278108397{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".content.jsx-3278108397{-webkit-flex:1;-ms-flex:1;flex:1;}",".avatar.jsx-3278108397{margin-right:10px;}"])):null}}])&&oQ(n.prototype,r),o&&oQ(n,o),t}(),sQ=Object(a.b)(function(e,t){var n=t.item.latestSellers,r=e.entities;return{seller:n&&n.length?Object(Pe.F)(r,n[0]):null}})(lQ);function uQ(e){return(uQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pQ(e,t){return!t||"object"!==uQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dQ(e){return(dQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mQ(e,t){return(mQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pQ(this,dQ(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mQ(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.price,n=void 0===t?0:t,r=e.originalPrice,o=void 0===r?0:r,a=e.sellerBoughtPrice,i=void 0===a?0:a,c=Math.max(o,i);return f.a.createElement("div",{className:P.a.dynamic([["2870968777",[L.a.lighterFont]]])+" root"},f.a.createElement(Mo.a,{sign:!0,bold:!0,mega:!0,n:n}),f.a.createElement("div",{className:P.a.dynamic([["2870968777",[L.a.lighterFont]]])+" label-wrap"},f.a.createElement(rO,{large:!0,price:n,referencePrice:c})),c>0&&f.a.createElement("div",{className:P.a.dynamic([["2870968777",[L.a.lighterFont]]])+" reference-price"},f.a.createElement("span",{className:P.a.dynamic([["2870968777",[L.a.lighterFont]]])},"参考原价"),f.a.createElement(Mo.a,{invalid:!0,n:c})),f.a.createElement(P.a,{id:"2870968777",dynamic:[L.a.lighterFont]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:17px;}",".label-wrap.__jsx-style-dynamic-selector{margin:0 6px;line-height:0;}",".reference-price.__jsx-style-dynamic-selector{font-size:13px;color:".concat(L.a.lighterFont,";}"),".reference-price.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{margin:0 6px;}"]))}}])&&fQ(n.prototype,r),o&&fQ(n,o),t}();function bQ(e){return(bQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gQ(e,t){return!t||"object"!==bQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vQ(e){return(vQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xQ(e,t){return(xQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wQ={marginTop:0,marginBottom:12},OQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gQ(this,vQ(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xQ(e,t)}(t,u["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.item,r=e.loadStatus,o=null;if(!n&&("loading"===r&&(o=f.a.createElement(se,{empty:!0,loading:!0},f.a.createElement(ue.a,null))),"notFound"===r))return f.a.createElement(gc.a,null);if(n){var a=this.props.location,i=n.title,c=n.newImages,l=n.goods,s="来自多抓鱼二手商店";if(n.stock){var u=Object(Do.c)(l),p=Object(Mo.b)(u,!0,1);s="这个二手商品在多抓鱼卖 ".concat(p)}o=f.a.createElement("div",{className:P.a.dynamic([["3820828719",[L.c.navHeight]]])+" root"},f.a.createElement(ue.a,{title:this.pageTitle}),f.a.createElement(Fc.a,null),f.a.createElement(Bc.a,{link:a.pathname,title:i,imgUrl:eO(c,"small"),desc:s}),f.a.createElement(eQ,{item:n}),f.a.createElement("div",{className:P.a.dynamic([["3820828719",[L.c.navHeight]]])+" main"},f.a.createElement(sQ,{item:n}),f.a.createElement(Cc,{bordered:!0,plain:!0},f.a.createElement(fO,{itemId:t,limit:3,style:wQ}),f.a.createElement(Dc,{item:n}),f.a.createElement(yQ,{item:n})),f.a.createElement(Cc,{plain:!0,style:{margin:0}},f.a.createElement(nQ,{item:n}),f.a.createElement($Y,{item:n})),f.a.createElement(XY,{item:n})),f.a.createElement(P.a,{id:"3820828719",dynamic:[L.c.navHeight]},[".root.__jsx-style-dynamic-selector{padding-bottom:".concat(L.c.navHeight,";min-height:100vh;}"),".main.__jsx-style-dynamic-selector{padding:18px 0;background:#fff;}"]))}return f.a.createElement("div",{className:"Item-wrap"},o)}},{key:"pageTitle",get:function(){return this.props.item.title}}])&&hQ(n.prototype,r),o&&hQ(n,o),t}(),EQ=Object(a.b)(function(e,t){var n=t.match,r=t.location,o=n.params.id,a=e.entities;return{id:o,item:Object(Pe.l)(a,o),loadStatus:Object(Pe.n)(a,o),location:r}},function(e,t){var n=t.match,r=t.location,o=n.params.id,a=Object(Mt.a)(r.search).mode;return{onLoad:function(){return e(AY(o,{mode:a}))}}})(Object(Ne.a)(OQ));n("Q8kY");function jQ(e){return(jQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _Q(e,t){return!t||"object"!==jQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SQ(e){return(SQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CQ(e,t){return(CQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var PQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_Q(this,SQ(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CQ(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.loadStatus;if("initial"===e)return null;var t=null;t="loading"===e?f.a.createElement(q.a,null):f.a.createElement(I.a,null,f.a.createElement(i.a,{exact:!0,path:"/",component:RP}),f.a.createElement(i.a,{exact:!0,path:"/categories/subscribed/:id",component:RP}),f.a.createElement(i.a,{exact:!0,path:"/categories",component:qw}),f.a.createElement(i.a,{exact:!0,path:"/categories/:id",component:pk}),f.a.createElement(i.a,{exact:!0,path:"/me",component:FI}),f.a.createElement(i.a,{exact:!0,path:"/me/:type",component:FI}),f.a.createElement(i.a,{exact:!0,path:"/rejected/checkout",component:EB}),f.a.createElement(i.a,{path:"/rejected",component:dB}),f.a.createElement(i.a,{exact:!0,path:"/cart/checkout",component:h_}),f.a.createElement(i.a,{exact:!0,path:"/cart(/all|/wishlist)?",component:Sw}),f.a.createElement(i.a,{exact:!0,path:"/search",component:UD}),f.a.createElement(i.a,{exact:!0,path:"/search/:keyword",component:UD}),f.a.createElement(i.a,{exact:!0,path:"/books/:id",component:vd}),f.a.createElement(i.a,{exact:!0,path:"/books/:id/:type",component:$y}),f.a.createElement(i.a,{exact:!0,path:"/items/:id",component:EQ}),f.a.createElement(i.a,{exact:!0,path:"/support",component:Pz}),f.a.createElement(i.a,{exact:!0,path:"/support/recall",component:fF}),f.a.createElement(i.a,{exact:!0,path:"/support/shipping-cost",component:lz}),f.a.createElement(i.a,{exact:!0,path:"/support/condition",component:OS}),f.a.createElement(i.a,{exact:!0,path:"/support/item-condition",component:HP}),f.a.createElement(i.a,{exact:!0,path:"/support/item-service",component:RI}),f.a.createElement(i.a,{exact:!0,path:"/support/book-service",component:uh}),f.a.createElement(i.a,{exact:!0,path:"/support/revenue",component:SB}),f.a.createElement(i.a,{exact:!0,path:"/support/quality",component:Pm}),f.a.createElement(i.a,{exact:!0,path:"/support/lockin",component:hm}),f.a.createElement(i.a,{exact:!0,path:"/support/user-protocol",component:qH}),f.a.createElement(i.a,{exact:!0,path:"/support/reserve",component:By}),f.a.createElement(i.a,{exact:!0,path:"/sell/order",component:ZD}),f.a.createElement(i.a,{exact:!0,path:"/sell(/add)?",component:rz}),f.a.createElement(i.a,{exact:!0,path:"/orders/:type/:id",component:WL}),f.a.createElement(i.a,{exact:!0,path:"/orders/sell/:id/changed",component:cF}),f.a.createElement(i.a,{exact:!0,path:"/orders/:type/:id/update",component:JA}),f.a.createElement(i.a,{exact:!0,path:"/users/:id",component:WH}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/owning-bookshelf",component:WH}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/bookshelf-manage",component:ah}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/activities",component:WH}),f.a.createElement(i.a,{exact:!0,path:"/users/:userId/activities/:activityId",component:Lr}),f.a.createElement(i.a,{exact:!0,path:"/activities/:activityId/voters",component:Yr}),f.a.createElement(i.a,{exact:!0,path:"/account",component:je}),f.a.createElement(i.a,{exact:!0,path:"/coupons",component:LS}),f.a.createElement(i.a,{exact:!0,path:"/user/books",component:dm}),f.a.createElement(i.a,{exact:!0,path:"/user/sold-books",component:dm}),f.a.createElement(i.a,{exact:!0,path:"/user/purchased-books",component:dm}),f.a.createElement(i.a,{exact:!0,path:"/orders",component:lA}),f.a.createElement(i.a,{exact:!0,path:"/collections",component:uS}),f.a.createElement(i.a,{exact:!0,path:"/collections/:id",component:Q_}),f.a.createElement(i.a,{exact:!0,path:"/open-collections",component:yW}),f.a.createElement(i.a,{exact:!0,path:"/open-collections/:id",component:dV}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id",component:Bq}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/comments",component:SY}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/voters",component:LY}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/recently-approved",component:Mq}),f.a.createElement(i.a,{exact:!0,path:"/open-collections/:id/new-contrib",component:bK}),f.a.createElement(i.a,{exact:!0,path:"/book/new-contrib",component:bK}),f.a.createElement(i.a,{exact:!0,path:"/book/rating",component:Py}),f.a.createElement(i.a,{path:"/open-collections/:id/search-book-to-contrib",component:$K}),f.a.createElement(i.a,{path:"/book/search-book-to-contrib",component:$K}),f.a.createElement(i.a,{exact:!0,path:"/landing/wechat-notif/contrib-admin-reply",component:Uq}),f.a.createElement(i.a,{exact:!0,path:"/landing/oc-contrib-image/:id",component:zq}),f.a.createElement(i.a,{exact:!0,path:"/messages/:id",component:XI}),f.a.createElement(i.a,{exact:!0,path:"/tags/:id",component:Zz}),f.a.createElement(i.a,{exact:!0,path:"/notifications",component:ZT}),f.a.createElement(i.a,{exact:!0,path:"/landing/close-mp-guide",component:L_}),f.a.createElement(i.a,{exact:!0,path:"/userbooks/:id/images",component:bG}),f.a.createElement(i.a,{exact:!0,path:"/redirect",component:xF}),f.a.createElement(i.a,{exact:!0,path:"/support/license",component:AI}),f.a.createElement(i.a,{exact:!0,path:"/tarot",component:lG}),f.a.createElement(i.a,{exact:!0,path:"/support/free",component:BS}),f.a.createElement(i.a,{exact:!0,path:"/item-categories/:id/list",component:TI}),f.a.createElement(i.a,{exact:!0,path:"/item/list",component:TI}),O.f?f.a.createElement(f.a.Fragment,null,f.a.createElement(i.a,{exact:!0,path:"/app-login",component:co}),f.a.createElement(i.a,{exact:!0,path:"/app-setting",component:Fo}),f.a.createElement(i.a,{exact:!0,path:"/blank",component:Bo})):null,f.a.createElement(i.a,{component:gc.a}));var n=N()("content",{loading:"loading"===e,isWechat:O.c});return f.a.createElement(Xe.a,null,f.a.createElement("div",{className:P.a.dynamic([["3984380853",[L.c.navHeight]]])+" "+(n||"")},f.a.createElement(sG.a,null),f.a.createElement(rW,null),f.a.createElement(i.a,{component:QH}),f.a.createElement(i.a,{component:aW}),f.a.createElement(i.a,{component:Uc.a}),f.a.createElement(i.a,{component:__}),f.a.createElement(i.a,{component:AB}),f.a.createElement(i.a,{component:CT}),!1,f.a.createElement(I.a,null,f.a.createElement(i.a,{path:"/users/:id"}),f.a.createElement(i.a,{exact:!0,path:"/books/:id"}),f.a.createElement(i.a,{exact:!0,path:"/items/:id"}),f.a.createElement(i.a,{exact:!0,path:"/collections/:id"}),f.a.createElement(i.a,{component:Bc.a})),t,f.a.createElement(I.a,null,f.a.createElement(i.a,{path:"/search"}),f.a.createElement(i.a,{path:"/cart"}),f.a.createElement(i.a,{path:"/rejected"}),f.a.createElement(i.a,{exact:!0,path:"/support"}),f.a.createElement(i.a,{exact:!0,path:"/support/recall"}),f.a.createElement(i.a,{exact:!0,path:"/support/condition"}),f.a.createElement(i.a,{exact:!0,path:"/support/revenue"}),f.a.createElement(i.a,{exact:!0,path:"/support/shipping-cost"}),f.a.createElement(i.a,{exact:!0,path:"/sell/order"}),f.a.createElement(i.a,{exact:!0,path:"/sell(/add)?"}),f.a.createElement(i.a,{exact:!0,path:"/donate/order"}),f.a.createElement(i.a,{exact:!0,path:"/donate(/add)?"}),f.a.createElement(i.a,{exact:!0,path:"/messages/:id"}),f.a.createElement(i.a,{exact:!0,path:"/notifications"}),f.a.createElement(i.a,{exact:!0,path:"/account"}),f.a.createElement(i.a,{exact:!0,path:"/coupons"}),f.a.createElement(i.a,{exact:!0,path:"/user/:type"}),f.a.createElement(i.a,{exact:!0,path:"/orders/:type/:id"}),f.a.createElement(i.a,{exact:!0,path:"/orders/:type/:id/update"}),f.a.createElement(i.a,{exact:!0,path:"/orders/sell/:id/changed"}),f.a.createElement(i.a,{exact:!0,path:"/orders"}),f.a.createElement(i.a,{path:"/open-collections/:id/new-contrib"}),f.a.createElement(i.a,{path:"/book/new-contrib"}),f.a.createElement(i.a,{path:"/book/rating"}),f.a.createElement(i.a,{path:"/open-collections/:id/search-book-to-contrib"}),f.a.createElement(i.a,{path:"/book/search-book-to-contrib"}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id"}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/comments"}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/voters"}),f.a.createElement(i.a,{exact:!0,path:"/oc-contrib/:id/recently-approved"}),f.a.createElement(i.a,{path:"/headshot"}),f.a.createElement(i.a,{exact:!0,path:"/books/:id"}),f.a.createElement(i.a,{exact:!0,path:"/items/:id"}),f.a.createElement(i.a,{exact:!0,path:"/support/quality"}),f.a.createElement(i.a,{exact:!0,path:"/support/lockin"}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/bookshelf-manage"}),f.a.createElement(i.a,{exact:!0,path:"/users/:id/activities/:activityId"}),f.a.createElement(i.a,{exact:!0,path:"/userbooks/:id/images"}),f.a.createElement(i.a,{exact:!0,path:"/support/user-protocol"}),f.a.createElement(i.a,{exact:!0,path:"/redirect"}),f.a.createElement(i.a,{exact:!0,path:"/support/license"}),f.a.createElement(i.a,{exact:!0,path:"/support/reserve"}),f.a.createElement(i.a,{exact:!0,path:"/tarot"}),f.a.createElement(i.a,{exact:!0,path:"/activities/:activityId/voters"}),f.a.createElement(i.a,{exact:!0,path:"/app-login"}),f.a.createElement(i.a,{exact:!0,path:"/app-setting"}),f.a.createElement(i.a,{exact:!0,path:"/support/free"}),f.a.createElement(i.a,{exact:!0,path:"/support/item-condition"}),f.a.createElement(i.a,{exact:!0,path:"/item-categories/:id/list"}),f.a.createElement(i.a,{exact:!0,path:"/item/list"}),O.f&&f.a.createElement(i.a,{exact:!0,path:"/categories"}),O.f&&f.a.createElement(i.a,{exact:!0,path:"/open-collections"}),O.f&&f.a.createElement(i.a,{exact:!0,path:"/blank"}),f.a.createElement(i.a,{component:sT}))),f.a.createElement(P.a,{id:"3984380853",dynamic:[L.c.navHeight]},[".__jsx-style-dynamic-selector{min-height:100vh;}",".content.__jsx-style-dynamic-selector{position:relative;}",".loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;padding-bottom:".concat(L.c.navHeight,";}")]))}}])&&kQ(n.prototype,r),o&&kQ(n,o),t}(),IQ=Object(a.b)(function(e){var t=e.session;return{loadStatus:Object(R.c)(t)}})(PQ),TQ=n("x6Vd");h.a.polyfill();var NQ=s.a.get("fish_c0");if(Object(v.a)(),NQ&&!Object(v.d)()||!O.c)if(O.c&&NQ&&Object(v.e)())x.a.dispatch(Ad.d()),x.a.dispatch(Object(_.e)(NQ));else{var RQ=document.getElementById("root");O.c&&(x.a.dispatch(Ad.d()),x.a.dispatch(Object(g.g)())),Object(O.a)(),Object(S.b)(RQ),y.a.setAppElement(RQ);var LQ=function(e){(RQ.innerText.trim()?d.a.hydrate:d.a.render)(f.a.createElement(o.AppContainer,null,f.a.createElement(a.a,{store:e,key:+new Date},f.a.createElement(c.a,{history:Object(A.a)()},f.a.createElement(TQ.a,null,f.a.createElement(i.a,{component:IQ}))))),RQ)};LQ(x.a),j(LQ)}else x.a.dispatch(Object(g.e)({event:"beforeWechatOAuth"})),Object(v.f)()?Object(k.b)():Object(k.c)()},u1Tj:function(e,t,n){},ueSK:function(e,t,n){"use strict";n.d(t,"o",function(){return r}),n.d(t,"ff",function(){return o}),n.d(t,"Rb",function(){return a}),n.d(t,"nb",function(){return i}),n.d(t,"tf",function(){return c}),n.d(t,"uf",function(){return l}),n.d(t,"af",function(){return s}),n.d(t,"bf",function(){return u}),n.d(t,"Ze",function(){return f}),n.d(t,"ld",function(){return p}),n.d(t,"vg",function(){return d}),n.d(t,"ug",function(){return m}),n.d(t,"ce",function(){return y}),n.d(t,"be",function(){return b}),n.d(t,"Db",function(){return h}),n.d(t,"Cb",function(){return g}),n.d(t,"cf",function(){return v}),n.d(t,"df",function(){return x}),n.d(t,"ef",function(){return w}),n.d(t,"lg",function(){return O}),n.d(t,"ng",function(){return E}),n.d(t,"kg",function(){return j}),n.d(t,"mg",function(){return k}),n.d(t,"jg",function(){return _}),n.d(t,"pg",function(){return S}),n.d(t,"qg",function(){return C}),n.d(t,"og",function(){return P}),n.d(t,"r",function(){return I}),n.d(t,"s",function(){return T}),n.d(t,"q",function(){return N}),n.d(t,"Gg",function(){return R}),n.d(t,"Hg",function(){return L}),n.d(t,"Fg",function(){return A}),n.d(t,"b",function(){return F}),n.d(t,"c",function(){return B}),n.d(t,"Xe",function(){return D}),n.d(t,"Ye",function(){return M}),n.d(t,"Ue",function(){return U}),n.d(t,"We",function(){return z}),n.d(t,"Ve",function(){return G}),n.d(t,"Fc",function(){return H}),n.d(t,"Gc",function(){return W}),n.d(t,"x",function(){return V}),n.d(t,"y",function(){return K}),n.d(t,"w",function(){return q}),n.d(t,"T",function(){return Y}),n.d(t,"U",function(){return Q}),n.d(t,"N",function(){return Z}),n.d(t,"P",function(){return X}),n.d(t,"O",function(){return J}),n.d(t,"F",function(){return $}),n.d(t,"z",function(){return ee}),n.d(t,"V",function(){return te}),n.d(t,"R",function(){return ne}),n.d(t,"S",function(){return re}),n.d(t,"Q",function(){return oe}),n.d(t,"sd",function(){return ae}),n.d(t,"td",function(){return ie}),n.d(t,"rd",function(){return ce}),n.d(t,"H",function(){return le}),n.d(t,"J",function(){return se}),n.d(t,"G",function(){return ue}),n.d(t,"M",function(){return fe}),n.d(t,"I",function(){return pe}),n.d(t,"lf",function(){return de}),n.d(t,"ec",function(){return me}),n.d(t,"Uf",function(){return ye}),n.d(t,"Vf",function(){return be}),n.d(t,"Wf",function(){return he}),n.d(t,"Tf",function(){return ge}),n.d(t,"Yf",function(){return ve}),n.d(t,"Zf",function(){return xe}),n.d(t,"Xf",function(){return we}),n.d(t,"bg",function(){return Oe}),n.d(t,"cg",function(){return Ee}),n.d(t,"ag",function(){return je}),n.d(t,"dg",function(){return ke}),n.d(t,"eg",function(){return _e}),n.d(t,"Sd",function(){return Se}),n.d(t,"Td",function(){return Ce}),n.d(t,"Rd",function(){return Pe}),n.d(t,"Ud",function(){return Ie}),n.d(t,"Zd",function(){return Te}),n.d(t,"ae",function(){return Ne}),n.d(t,"Yd",function(){return Re}),n.d(t,"Wd",function(){return Le}),n.d(t,"Xd",function(){return Ae}),n.d(t,"Vd",function(){return Fe}),n.d(t,"Rf",function(){return Be}),n.d(t,"qb",function(){return De}),n.d(t,"rb",function(){return Me}),n.d(t,"pb",function(){return Ue}),n.d(t,"tb",function(){return ze}),n.d(t,"ub",function(){return Ge}),n.d(t,"sb",function(){return He}),n.d(t,"rf",function(){return We}),n.d(t,"sf",function(){return Ve}),n.d(t,"qf",function(){return Ke}),n.d(t,"Mf",function(){return qe}),n.d(t,"Ge",function(){return Ye}),n.d(t,"He",function(){return Qe}),n.d(t,"Be",function(){return Ze}),n.d(t,"Fe",function(){return Xe}),n.d(t,"Ae",function(){return Je}),n.d(t,"Hb",function(){return $e}),n.d(t,"De",function(){return et}),n.d(t,"Ee",function(){return tt}),n.d(t,"Ce",function(){return nt}),n.d(t,"Dg",function(){return rt}),n.d(t,"Eg",function(){return ot}),n.d(t,"Cg",function(){return at}),n.d(t,"xg",function(){return it}),n.d(t,"yg",function(){return ct}),n.d(t,"wg",function(){return lt}),n.d(t,"Ag",function(){return st}),n.d(t,"Bg",function(){return ut}),n.d(t,"zg",function(){return ft}),n.d(t,"db",function(){return pt}),n.d(t,"eb",function(){return dt}),n.d(t,"cb",function(){return mt}),n.d(t,"l",function(){return yt}),n.d(t,"m",function(){return bt}),n.d(t,"k",function(){return ht}),n.d(t,"Ab",function(){return gt}),n.d(t,"Bb",function(){return vt}),n.d(t,"zb",function(){return xt}),n.d(t,"Gf",function(){return wt}),n.d(t,"Hf",function(){return Ot}),n.d(t,"Ff",function(){return Et}),n.d(t,"Je",function(){return jt}),n.d(t,"Ke",function(){return kt}),n.d(t,"Ie",function(){return _t}),n.d(t,"Pe",function(){return St}),n.d(t,"Qe",function(){return Ct}),n.d(t,"Oe",function(){return Pt}),n.d(t,"Ne",function(){return It}),n.d(t,"Sb",function(){return Tt}),n.d(t,"ve",function(){return Nt}),n.d(t,"we",function(){return Rt}),n.d(t,"ue",function(){return Lt}),n.d(t,"hf",function(){return At}),n.d(t,"Wb",function(){return Ft}),n.d(t,"Re",function(){return Bt}),n.d(t,"ib",function(){return Dt}),n.d(t,"jb",function(){return Mt}),n.d(t,"hb",function(){return Ut}),n.d(t,"gb",function(){return zt}),n.d(t,"fb",function(){return Gt}),n.d(t,"Pd",function(){return Ht}),n.d(t,"Qd",function(){return Wt}),n.d(t,"Nd",function(){return Vt}),n.d(t,"Od",function(){return Kt}),n.d(t,"Md",function(){return qt}),n.d(t,"lb",function(){return Yt}),n.d(t,"yb",function(){return Qt}),n.d(t,"Bd",function(){return Zt}),n.d(t,"Cd",function(){return Xt}),n.d(t,"Ad",function(){return Jt}),n.d(t,"Hd",function(){return $t}),n.d(t,"Id",function(){return en}),n.d(t,"Gd",function(){return tn}),n.d(t,"Kd",function(){return nn}),n.d(t,"Ld",function(){return rn}),n.d(t,"Jd",function(){return on}),n.d(t,"Ed",function(){return an}),n.d(t,"Fd",function(){return cn}),n.d(t,"Dd",function(){return ln}),n.d(t,"wf",function(){return sn}),n.d(t,"xf",function(){return un}),n.d(t,"vf",function(){return fn}),n.d(t,"gg",function(){return pn}),n.d(t,"hg",function(){return dn}),n.d(t,"fg",function(){return mn}),n.d(t,"ig",function(){return yn}),n.d(t,"Pb",function(){return bn}),n.d(t,"Qb",function(){return hn}),n.d(t,"fc",function(){return gn}),n.d(t,"pd",function(){return vn}),n.d(t,"qd",function(){return xn}),n.d(t,"od",function(){return wn}),n.d(t,"Gb",function(){return On}),n.d(t,"Of",function(){return En}),n.d(t,"Pf",function(){return jn}),n.d(t,"Nf",function(){return kn}),n.d(t,"sc",function(){return _n}),n.d(t,"vd",function(){return Sn}),n.d(t,"wd",function(){return Cn}),n.d(t,"ud",function(){return Pn}),n.d(t,"md",function(){return In}),n.d(t,"nd",function(){return Tn}),n.d(t,"A",function(){return Nn}),n.d(t,"D",function(){return Rn}),n.d(t,"C",function(){return Ln}),n.d(t,"E",function(){return An}),n.d(t,"B",function(){return Fn}),n.d(t,"Qf",function(){return Bn}),n.d(t,"Me",function(){return Dn}),n.d(t,"Ic",function(){return Mn}),n.d(t,"Jc",function(){return Un}),n.d(t,"Hc",function(){return zn}),n.d(t,"if",function(){return Gn}),n.d(t,"Xb",function(){return Hn}),n.d(t,"gd",function(){return Wn}),n.d(t,"hd",function(){return Vn}),n.d(t,"fd",function(){return Kn}),n.d(t,"Yb",function(){return qn}),n.d(t,"ab",function(){return Yn}),n.d(t,"bb",function(){return Qn}),n.d(t,"Z",function(){return Zn}),n.d(t,"Lc",function(){return Xn}),n.d(t,"Mc",function(){return Jn}),n.d(t,"Kc",function(){return $n}),n.d(t,"ac",function(){return er}),n.d(t,"cc",function(){return tr}),n.d(t,"L",function(){return nr}),n.d(t,"K",function(){return rr}),n.d(t,"jd",function(){return or}),n.d(t,"id",function(){return ar}),n.d(t,"kd",function(){return ir}),n.d(t,"ee",function(){return cr}),n.d(t,"fe",function(){return lr}),n.d(t,"de",function(){return sr}),n.d(t,"Se",function(){return ur}),n.d(t,"ye",function(){return fr}),n.d(t,"ze",function(){return pr}),n.d(t,"xe",function(){return dr}),n.d(t,"Uc",function(){return mr}),n.d(t,"Vc",function(){return yr}),n.d(t,"Tc",function(){return br}),n.d(t,"Xc",function(){return hr}),n.d(t,"Yc",function(){return gr}),n.d(t,"Wc",function(){return vr}),n.d(t,"Te",function(){return xr}),n.d(t,"Le",function(){return wr}),n.d(t,"u",function(){return Or}),n.d(t,"v",function(){return Er}),n.d(t,"t",function(){return jr}),n.d(t,"qe",function(){return kr}),n.d(t,"pe",function(){return _r}),n.d(t,"yc",function(){return Sr}),n.d(t,"zc",function(){return Cr}),n.d(t,"xc",function(){return Pr}),n.d(t,"ne",function(){return Ir}),n.d(t,"oe",function(){return Tr}),n.d(t,"me",function(){return Nr}),n.d(t,"Ac",function(){return Rr}),n.d(t,"Bc",function(){return Lr}),n.d(t,"wc",function(){return Ar}),n.d(t,"zf",function(){return Fr}),n.d(t,"Af",function(){return Br}),n.d(t,"yf",function(){return Dr}),n.d(t,"i",function(){return Mr}),n.d(t,"j",function(){return Ur}),n.d(t,"h",function(){return zr}),n.d(t,"a",function(){return Gr}),n.d(t,"d",function(){return Hr}),n.d(t,"Ub",function(){return Wr}),n.d(t,"jf",function(){return Vr}),n.d(t,"Zb",function(){return Kr}),n.d(t,"ob",function(){return qr}),n.d(t,"mf",function(){return Yr}),n.d(t,"ic",function(){return Qr}),n.d(t,"Jf",function(){return Zr}),n.d(t,"If",function(){return Xr}),n.d(t,"Sf",function(){return Jr}),n.d(t,"hc",function(){return $r}),n.d(t,"kf",function(){return eo}),n.d(t,"dc",function(){return to}),n.d(t,"se",function(){return no}),n.d(t,"te",function(){return ro}),n.d(t,"re",function(){return oo}),n.d(t,"X",function(){return ao}),n.d(t,"Y",function(){return io}),n.d(t,"W",function(){return co}),n.d(t,"Jb",function(){return lo}),n.d(t,"Kb",function(){return so}),n.d(t,"Ib",function(){return uo}),n.d(t,"Mb",function(){return fo}),n.d(t,"Lb",function(){return po}),n.d(t,"Nb",function(){return mo}),n.d(t,"p",function(){return yo}),n.d(t,"bc",function(){return bo}),n.d(t,"gc",function(){return ho}),n.d(t,"n",function(){return go}),n.d(t,"Eb",function(){return vo}),n.d(t,"Ob",function(){return xo}),n.d(t,"kb",function(){return wo}),n.d(t,"gf",function(){return Oo}),n.d(t,"Tb",function(){return Eo}),n.d(t,"dd",function(){return jo}),n.d(t,"ed",function(){return ko}),n.d(t,"cd",function(){return _o}),n.d(t,"sg",function(){return So}),n.d(t,"tg",function(){return Co}),n.d(t,"rg",function(){return Po}),n.d(t,"Cf",function(){return Io}),n.d(t,"Df",function(){return To}),n.d(t,"Bf",function(){return No}),n.d(t,"uc",function(){return Ro}),n.d(t,"vc",function(){return Lo}),n.d(t,"tc",function(){return Ao}),n.d(t,"wb",function(){return Fo}),n.d(t,"xb",function(){return Bo}),n.d(t,"vb",function(){return Do}),n.d(t,"Fb",function(){return Mo}),n.d(t,"Dc",function(){return Uo}),n.d(t,"Ec",function(){return zo}),n.d(t,"Cc",function(){return Go}),n.d(t,"ke",function(){return Ho}),n.d(t,"le",function(){return Wo}),n.d(t,"je",function(){return Vo}),n.d(t,"Vb",function(){return Ko}),n.d(t,"Ef",function(){return qo}),n.d(t,"Kf",function(){return Yo}),n.d(t,"f",function(){return Qo}),n.d(t,"g",function(){return Zo}),n.d(t,"e",function(){return Xo}),n.d(t,"nc",function(){return Jo}),n.d(t,"oc",function(){return $o}),n.d(t,"mc",function(){return ea}),n.d(t,"he",function(){return ta}),n.d(t,"ie",function(){return na}),n.d(t,"ge",function(){return ra}),n.d(t,"kc",function(){return oa}),n.d(t,"lc",function(){return aa}),n.d(t,"jc",function(){return ia}),n.d(t,"Rc",function(){return ca}),n.d(t,"Sc",function(){return la}),n.d(t,"Qc",function(){return sa}),n.d(t,"mb",function(){return ua}),n.d(t,"Oc",function(){return fa}),n.d(t,"Pc",function(){return pa}),n.d(t,"Nc",function(){return da}),n.d(t,"Lf",function(){return ma}),n.d(t,"ad",function(){return ya}),n.d(t,"bd",function(){return ba}),n.d(t,"Zc",function(){return ha}),n.d(t,"of",function(){return ga}),n.d(t,"pf",function(){return va}),n.d(t,"nf",function(){return xa}),n.d(t,"qc",function(){return wa}),n.d(t,"rc",function(){return Oa}),n.d(t,"pc",function(){return Ea}),n.d(t,"yd",function(){return ja}),n.d(t,"zd",function(){return ka}),n.d(t,"xd",function(){return _a});n("juUW"),n("mWCn");var r="ALERT",o="SHOW_BANNER",a="HIDE_BANNER",i="CLOSE_ALERT",c="TOGGLE_EXPANDED",l="TOGGLE_LAYER",s="SESSION_REQUEST",u="SESSION_SUCCESS",f="SESSION_FAILURE",p="LOGOUT_SUCCESS",d="WECHAT_SDK_SUCCESS",m="WECHAT_SDK_FAILURE",y="REGIONS_SUCCESS",b="REGIONS_FAILURE",h="DELIVERY_TIME_SUCCESS",g="DELIVERY_TIME_FAILURE",v="SETTINGS_EDIT",x="SETTINGS_REQUEST",w="SETTINGS_SUCCESS",O="VERIFICATION_CODE_REQUEST",E="VERIFICATION_CODE_SUCCESS",j="VERIFICATION_CODE_FAILURE",k="VERIFICATION_CODE_RESEND_COUNTDOWN",_="VERIFICATION_CODE_EDIT",S="VERIFY_PHONE_REQUEST",C="VERIFY_PHONE_SUCCESS",P="VERIFY_PHONE_FAILURE",I="BALANCE_TRANSACTIONS_REQUEST",T="BALANCE_TRANSACTIONS_SUCCESS",N="BALANCE_TRANSACTIONS_FAILURE",R="WITHDRAW_REQUEST",L="WITHDRAW_SUCCESS",A="WITHDRAW_FAILURE",F="ADDRESS_FORM_EDIT",B="ADDRESS_FORM_PROMPT",D="SELL_REQUEST",M="SELL_SUCCESS",U="SELL_FAILURE",z="SELL_ORDER_ANONYMOUS_TOGGLE",G="SELL_ORDER_ANONYMOUS_RESET",H="LOAD_CHANGED_USERBOOKS_REQUEST",W="LOAD_CHANGED_USERBOOKS_SUCCESS",V="BOOKS_REQUEST",K="BOOKS_SUCCESS",q="BOOKS_FAILURE",Y="BOOK_REQUEST",Q="BOOK_SUCCESS",Z="BOOK_FAILURE",X="BOOK_HIDE_SUCCESS",J="BOOK_HIDE_FAILURE",$="BOOK_ADD_SUCCESS",ee="BOOK_ADD_FAILURE",te="BOOK_TOP_FAILURE",ne="BOOK_RELATED_BOOKS_REQUEST",re="BOOK_RELATED_BOOKS_SUCCESS",oe="BOOK_RELATED_BOOKS_FAILURE",ae="MULTI_VERSION_BOOKS_REQUEST",ie="MULTI_VERSION_BOOKS_SUCCESS",ce="MULTI_VERSION_BOOKS_FAILURE",le="BOOK_CONTRIBS_REQUEST",se="BOOK_CONTRIBS_SUCCESS",ue="BOOK_CONTRIBS_FAILURE",fe="BOOK_CONTRIB_TOGGLE_FOLDING",pe="BOOK_CONTRIBS_SHOW_FOLDING",de="SHOW_RESERVE_HINT",me="HIDE_RESERVE_HINT",ye="USERBOOKS_PRICE_CHANGE",be="USERBOOKS_REQUEST",he="USERBOOKS_SUCCESS",ge="USERBOOKS_FAILURE",ve="USERBOOK_ADD_REQUEST",xe="USERBOOK_ADD_SUCCESS",we="USERBOOK_ADD_FAILURE",Oe="USERBOOK_DELETE_REQUEST",Ee="USERBOOK_DELETE_SUCCESS",je="USERBOOK_DELETE_FAILURE",ke="USERBOOK_FORM_EDIT",_e="USERBOOK_FORM_PROMPT",Se="REFUSED_BOOKS_REQUEST",Ce="REFUSED_BOOKS_SUCCESS",Pe="REFUSED_BOOKS_FAILURE",Ie="REFUSED_BOOK_ADD",Te="REFUSED_BOOK_DELETE_REQUEST",Ne="REFUSED_BOOK_DELETE_SUCCESS",Re="REFUSED_BOOK_DELETE_FAILURE",Le="REFUSED_BOOK_APPEAL_REQUEST",Ae="REFUSED_BOOK_APPEAL_SUCCESS",Fe="REFUSED_BOOK_APPEAL_FAILURE",Be="UPDATE_SOLDBOOK_ACTIVITY_SUCCESS",De="COLLECTIONS_REQUEST",Me="COLLECTIONS_SUCCESS",Ue="COLLECTIONS_FAILURE",ze="COLLECTION_REQUEST",Ge="COLLECTION_SUCCESS",He="COLLECTION_FAILURE",We="TAG_REQUEST",Ve="TAG_SUCCESS",Ke="TAG_FAILURE",qe="UPDATE_KEYWORD",Ye="SEARCH_REQUEST",Qe="SEARCH_SUCCESS",Ze="SEARCH_FAILURE",Xe="SEARCH_RECS_SUCCESS",Je="SEARCH_CLEAR",$e="EDIT_SEARCH_FEEDBACK",et="SEARCH_FEEDBACK_REQUEST",tt="SEARCH_FEEDBACK_SUCCESS",nt="SEARCH_FEEDBACK_FAILURE",rt="WISHLIST_REQUEST",ot="WISHLIST_SUCCESS",at="WISHLIST_FAILURE",it="WISHLIST_ADD_REQUEST",ct="WISHLIST_ADD_SUCCESS",lt="WISHLIST_ADD_FAILURE",st="WISHLIST_DELETE_REQUEST",ut="WISHLIST_DELETE_SUCCESS",ft="WISHLIST_DELETE_FAILURE",pt="CART_REQUEST",dt="CART_SUCCESS",mt="CART_FAILURE",yt="ADD_TO_CART_REQUEST",bt="ADD_TO_CART_SUCCESS",ht="ADD_TO_CART_FAILURE",gt="DELETE_FROM_CART_REQUEST",vt="DELETE_FROM_CART_SUCCESS",xt="DELETE_FROM_CART_FAILURE",wt="UPDATE_CART_REQUEST",Ot="UPDATE_CART_SUCCESS",Et="UPDATE_CART_FAILURE",jt="SELECT_ALL_CART_ITEM_REQUEST",kt="SELECT_ALL_CART_ITEM_SUCCESS",_t="SELECT_ALL_CART_ITEM_FAILURE",St="SELECT_CART_ITEM_REQUEST",Ct="SELECT_CART_ITEM_SUCCESS",Pt="SELECT_CART_ITEM_FAILURE",It="SELECT_CART_ITEM",Tt="HIDE_CART_WISHLIST_GUIDE_SUCCESS",Nt="RESERVE_REQUEST",Rt="RESERVE_SUCCESS",Lt="RESERVE_FAILURE",At="SHOW_COUPON_ACTIONSHEET",Ft="HIDE_COUPON_ACTIONSHEET",Bt="SELECT_COUPON",Dt="CHECKOUT_REQUEST",Mt="CHECKOUT_SUCCESS",Ut="CHECKOUT_FAILURE",zt="CHECKOUT_ANONYMOUS_TOGGLE",Gt="CHECKOUT_ANONYMOUS_RESET",Ht="PURCHASE_INFO_SUCCESS",Wt="PURCHASE_INFO_SUCCESS",Vt="PAYMENT_REQUEST",Kt="PAYMENT_SUCCESS",qt="PAYMENT_FAILURE",Yt="CHECK_PAYMENT_SUCCESS",Qt="CREATE_PAYMENT_SUCCESS",Zt="ORDERS_REQUEST",Xt="ORDERS_SUCCESS",Jt="ORDERS_FAILURE",$t="ORDER_REQUEST",en="ORDER_SUCCESS",tn="ORDER_FAILURE",nn="ORDER_UPDATE_REQUEST",rn="ORDER_UPDATE_SUCCESS",on="ORDER_UPDATE_FAILURE",an="ORDER_CANCEL_REQUEST",cn="ORDER_CANCEL_SUCCESS",ln="ORDER_CANCEL_FAILURE",sn="TRADERS_REQUEST",un="TRADERS_SUCCESS",fn="TRADERS_FAILURE",pn="USER_REQUEST",dn="USER_SUCCESS",mn="USER_FAILURE",yn="USER_UPDATE_SUCCESS",bn="HIDE_ADD_OWNINGBOOK_GUIDE_FAILURE",hn="HIDE_ADD_OWNINGBOOK_GUIDE_SUCCESS",gn="HIDE_SELLBOOK_TIP_SUCCESS",vn="MESSAGE_REQ",xn="MESSAGE_SUCCESS",wn="MESSAGE_FAILURE",On="EDIT_MESSAGE",En="UPDATE_MESSAGE_REQ",jn="UPDATE_MESSAGE_SUCCESS",kn="UPDATE_MESSAGE_FAILURE",_n="LIKE_MESSAGE_FAILURE",Sn="NOTIFICATIONLIST_REQUEST",Cn="NOTIFICATIONLIST_SUCCESS",Pn="NOTIFICATIONLIST_FAILURE",In="MARK_NOTIFICATIONLIST_READ_FAILURE",Tn="MARK_NOTIFICATIONLIST_READ_SUCCESS",Nn="BOOK_ADD_FORM_EDIT",Rn="BOOK_ADD_FORM_RESET",Ln="BOOK_ADD_FORM_PROMPT",An="BOOK_ADD_FORM_SHOW",Fn="BOOK_ADD_FORM_HIDE",Bn="UPDATE_SELECT_BOOK",Dn="SELECT_BOOK_GOODS",Mn="LOAD_INVITATION_INFO_REQUEST",Un="LOAD_INVITATION_INFO_SUCCESS",zn="LOAD_INVITATION_INFO_FAILURE",Gn="SHOW_LOCKIN_ACTIONSHEET",Hn="HIDE_LOCKIN_ACTIONSHEET",Wn="LOCKIN_BOOK_REQUEST",Vn="LOCKIN_BOOK_SUCCESS",Kn="LOCKIN_BOOK_FAILURE",qn="HIDE_LOCKIN_BOOK_GUIDE_SUCCESS",Yn="CART_BOOK_REQUEST",Qn="CART_BOOK_SUCCESS",Zn="CART_BOOK_FAILURE",Xn="LOAD_INVITED_USER_REQUEST",Jn="LOAD_INVITED_USER_SUCCESS",$n="LOAD_INVITED_USER_FAILURE",er="HIDE_NEW_USER_COUPON_SUCCESS",tr="HIDE_REGISTERED_USER_TIP",nr="BOOK_CONTRIB_SUCCESS",rr="BOOK_CONTRIB_REMOVE",or="LOCKIN_WECHAT_PAY_PENDING",ar="LOCKIN_WECHAT_PAY_FAILURE",ir="LOCKIN_WECHAT_PAY_SUCCESS",cr="REJECTED_USERBOOKS_REQUEST",lr="REJECTED_USERBOOKS_SUCCESS",sr="REJECTED_USERBOOKS_FAILURE",ur="SELECT_REJECTED_USERBOOKS",fr="RETRIEVAL_REQUEST",pr="RETRIEVAL_SUCCESS",dr="RETRIEVAL_FAILURE",mr="LOAD_OWNINGBOOK_REQUEST",yr="LOAD_OWNINGBOOK_SUCCESS",br="LOAD_OWNINGBOOK_FAILURE",hr="LOAD_SHELFBOOK_REQUEST",gr="LOAD_SHELFBOOK_SUCCESS",vr="LOAD_SHELFBOOK_FAILURE",xr="SELECT_SHELFBOOK",wr="SELECT_ALL_SHELFBOOK",Or="BATCH_REMOVE_SHELFBOOK_REQUEST",Er="BATCH_REMOVE_SHELFBOOK_SUCCESS",jr="BATCH_REMOVE_SHELFBOOK_FAILURE",kr="REMOVE_SHELFBOOK_SUCCESS",_r="REMOVE_OWNINGBOOK_SUCCESS",Sr="LOAD_ACTIVITY_LIST_REQUEST",Cr="LOAD_ACTIVITY_LIST_SUCCESS",Pr="LOAD_ACTIVITY_LIST_FAILURE",Ir="REMOVE_ACTIVITY_REQUEST",Tr="REMOVE_ACTIVITY_SUCCESS",Nr="REMOVE_ACTIVITY_FAILURE",Rr="LOAD_ACTIVITY_REQUEST",Lr="LOAD_ACTIVITY_SUCCESS",Ar="LOAD_ACTIVITY_FAILURE",Fr="TRANSFER_SHELFBOOK_REQUEST",Br="TRANSFER_SHELFBOOK_SUCCESS",Dr="TRANSFER_SHELFBOOK_FAILURE",Mr="ADD_SHELFBOOK_REQUEST",Ur="ADD_SHELFBOOK_SUCCESS",zr="ADD_SHELFBOOK_FAILURE",Gr="ACTIVITY_CONTRIB_TOGGLE_FOLDING",Hr="ADD_ACTIVITY_SUCCESS",Wr="HIDE_CLOSE_MINI_PROGRAM_GUIDE",Vr="SHOW_MP_CLOSE_GUIDE",Kr="HIDE_MP_CLOSE_GUIDE",qr="CLOSE_WECHAT_FOLLOW_MP_BANNER",Yr="SHOW_WECHAT_FOLLOW_MP_GUIDE",Qr="HIDE_WECHAT_FOLLOW_MP_GUIDE",Zr="UPDATE_CATEGORY_SORTER",Xr="UPDATE_CATEGORY_FILTER",Jr="UPDATE_TAG_SORTER",$r="HIDE_VARIANT_SELL_PRICE_GUIDE",eo="SHOW_RESERVE_ACTIONSHEET",to="HIDE_RESERVE_ACTIONSHEET",no="RESERVE_BOOK_REQUEST",ro="RESERVE_BOOK_SUCCESS",oo="RESERVE_BOOK_FAILURE",ao="CANCEL_RESERVE_BOOK_REQUEST",io="CANCEL_RESERVE_BOOK_SUCCESS",co="CANCEL_RESERVE_BOOK_FAILURE",lo="FINISH_RESERVE_BOOK_REQUEST",so="FINISH_RESERVE_BOOK_SUCCESS",uo="FINISH_RESERVE_BOOK_FAILURE",fo="FINISH_RESERVE_WECHAT_PAY_PENDING",po="FINISH_RESERVE_WECHAT_PAY_FAILURE",mo="FINISH_RESERVE_WECHAT_PAY_SUCCESS",yo="BALANCE_CHANGE",bo="HIDE_PRE_LOCK_RULE",ho="HIDE_USER_PROTOCOL_TIPS",go="AGREE_USER_PROTOCOL",vo="DISAGREE_USER_PROTOCOL",xo="GENERATE_LOGIN_QRCODE_SUCCESS",wo="CHECK_LOGIN_QRCODE_SUCCESS",Oo="SHOW_CASHIER",Eo="HIDE_CASHIER",jo="LOAD_TAROT_LOADING",ko="LOAD_TAROT_SUCCESS",_o="LOAD_TAROT_FAILURE",So="VOTE_ACTIVITY_REQUEST",Co="VOTE_ACTIVITY_SUCCESS",Po="VOTE_ACTIVITY_FAILURE",Io="UNVOTE_ACTIVITY_REQUEST",To="UNVOTE_ACTIVITY_SUCCESS",No="UNVOTE_ACTIVITY_FAILURE",Ro="LOAD_ACTIVITY_COMMENT_REQUEST",Lo="LOAD_ACTIVITY_COMMENT_SUCCESS",Ao="LOAD_ACTIVITY_COMMENT_FAILURE",Fo="CREATE_ACTIVITY_COMMENT_REQUEST",Bo="CREATE_ACTIVITY_COMMENT_SUCCESS",Do="CREATE_ACTIVITY_COMMENT_FAILURE",Mo="EDIT_ACTIVITY_COMMENT",Uo="LOAD_ACTIVITY_VOTER_REQUEST",zo="LOAD_ACTIVITY_VOTER_SUCCESS",Go="LOAD_ACTIVITY_VOTER_FAILURE",Ho="REMOVE_ACTIVITY_COMMENT_REQUEST",Wo="REMOVE_ACTIVITY_COMMENT_SUCCESS",Vo="REMOVE_ACTIVITY_COMMENT_FAILURE",Ko="HIDE_CONTRIBUTION_GUIDE",qo="UPDATE_APPEAL_BOOK",Yo="UPDATE_FREE_BOOK",Qo="ADD_FREE_USERBOOK_REQUEST",Zo="ADD_FREE_USERBOOK_SUCCESS",Xo="ADD_FREE_USERBOOK_FAILURE",Jo="JOIN_FREE_PLAN_REQUEST",$o="JOIN_FREE_PLAN_SUCCESS",ea="JOIN_FREE_PLAN_FAILURE",ta="REJECT_FREE_PLAN_REQUEST",na="REJECT_FREE_PLAN_SUCCESS",ra="REJECT_FREE_PLAN_FAILURE",oa="ITEM_REQUEST",aa="ITEM_SUCCESS",ia="ITEM_FAILURE",ca="LOAD_ITEM_LIST_REQUEST",la="LOAD_ITEM_LIST_SUCCESS",sa="LOAD_ITEM_LIST_FAILURE",ua="CLEAR_ITEM_LIST",fa="LOAD_ITEM_CATEGORIES_REQUEST",pa="LOAD_ITEM_CATEGORIES_SUCCESS",da="LOAD_ITEM_CATEGORIES_FAILURE",ma="UPDATE_ITEM_FILTER",ya="LOAD_TAG_ITEM_LIST_REQUEST",ba="LOAD_TAG_ITEM_LIST_SUCCESS",ha="LOAD_TAG_ITEM_LIST_FAILURE",ga="TAG_BOOK_REQUEST",va="TAG_BOOK_SUCCESS",xa="TAG_BOOK_FAILURE",wa="KEYWORD_SUGGESTION_REQUEST",Oa="KEYWORD_SUGGESTION_SUCCESS",Ea="KEYWORD_SUGGESTION_FAILURE",ja="OPEN_COLL_SEARCH_REC_REQUEST",ka="OPEN_COLL_SEARCH_REC_SUCCESS",_a="OPEN_COLL_SEARCH_REC_FAILURE"},vD45:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return f});var o=function(){return window.innerHeight},a=function(){return window.innerWidth},i=function(){return document.documentElement.scrollTop||document.body.scrollTop},c=function(e){document.documentElement.scrollTop=e,document.body.scrollTop=e},l=function(e,t){if(e.offsetHeight!==e.scrollHeight){var n=e.getBoundingClientRect(),o=n.top,a=n.bottom,i=t.getBoundingClientRect(),c=i.top,l=i.bottom;if(c<o)e.scrollTop-=o-c;else if(l>a){var s=function(e){return r(e.childNodes).filter(function(e){return 1===e.nodeType})}(e),u=s[0],f=s[s.length-1],p=u.offsetHeight,d=u.getBoundingClientRect().bottom,m=f.getBoundingClientRect().bottom,y=e.offsetHeight,b=t.offsetHeight,h=p+l-d-b;m-l>y-b?e.scrollTop=h:e.scrollTop+=l-a}}},s=function(e,t,n){return e>=t&&e<=n},u=function(e,t,n,r){if(e<=0&&t>=n)return!0;if(![e,t].some(function(e){return s(e,0,n)}))return!1;var o=0;return s(e,0,n)?o=n-e:s(t,0,n)&&(o=t),Math.round(o/n*100)>=r},f=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70,i=t.top,c=t.left,l=t.bottom,s=t.right,f=t.width,p=t.height,d=a(),m=o(),y=c,b=s,h=i,g=l;if(!!n){if(!e(n))return!1;var v=n.left,x=void 0===v?0:v,w=n.top,O=void 0===w?0:w,E=n.height,j=void 0===E?0:E,k=n.width;d=void 0===k?0:k,m=j,y=c-x,b=s-x,h=i-O,g=l-O}var _=y>=0&&b<=d,S=h>=0&&g<=m;return f<=d&&p<=m?_&&S:f>d&&S?u(y,b,d,r):!!(p>m&&_)&&u(h,g,m,r)}},vF1L:function(e,t,n){},vmZo:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("q1tI"),i=n.n(a),c=n("TSYQ"),l=n.n(c),s=n("17x9"),u=n.n(s),f=n("zDcZ");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=function(e){var t=e.large,n=e.larger,r=e.huge,a=e.small,c=e.url,s=e.className,u=d(e,["large","larger","huge","small","url","className"]);return i.a.createElement("span",p({},u,{className:o.a.dynamic([["3626936781",[f.a.gray,f.a.gray]]])+" "+(null!=u.className&&u.className||l()("root",s,{large:t,larger:n,huge:r,small:a})||"")}),i.a.createElement("img",{alt:"",src:c,className:o.a.dynamic([["3626936781",[f.a.gray,f.a.gray]]])}),i.a.createElement(o.a,{id:"3626936781",dynamic:[f.a.gray,f.a.gray]},[".root.__jsx-style-dynamic-selector{display:inline-block;vertical-align:top;box-sizing:border-box;width:30px;height:30px;background:".concat(f.a.gray,";border:1px solid ").concat(f.a.gray,";border-radius:99px;overflow:hidden;}"),".small.__jsx-style-dynamic-selector{width:20px;height:20px;}",".large.__jsx-style-dynamic-selector{width:40px;height:40px;}",".larger.__jsx-style-dynamic-selector{width:50px;height:50px;}",".huge.__jsx-style-dynamic-selector{width:80px;height:80px;border:2px solid #fff;box-shadow:0 0 8px 0 rgba(0,0,0,0.2);}","img.__jsx-style-dynamic-selector{display:block;width:100%;}"]))};m.propTypes={url:u.a.string.isRequired},t.a=m},wNa6:function(e,t,n){"use strict";n.d(t,"b",function(){return v});var r,o=n("fvjX"),a=n("sINF"),i=n("WM2Z"),c=n.n(i),l=n("Bw5p"),s=n("oaNE"),u=n("6tOG"),f=n("q+WG"),p=n("7zx8"),d=n("l9ey");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=o.d,d.f&&(window.localStorage.removeItem("redux"),window.localStorage.removeItem("referRequestId"));var y=window.initialReduxState||{},b=c()(["cart","entities","session","settings","couponSelect"],{merge:function(e,t){return Object(s.a)({},e,t)},slicer:function(e){return function(t){var n={};return e.forEach(function(e){if("cart"===e){var r=t.cart,o=r.inStockCount,a=r.noStockCount,i=r.hasAllSelected;n.cart={inStockCount:o,noStockCount:a,hasAllSelected:i}}if("entities"===e){var c=t.entities.ocContribs.entities,s=Object.keys(c).reduce(function(e,t){return e[t]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}({},Object(l.a)(c[t],["votedByMe","voteCount","commentsCount"])),e},{});n.entities={ocContribs:{entities:s}}}"session"===e&&(n.session=t.session),"settings"===e&&(n.settings=t.settings),"couponSelect"===e&&(n.couponSelect=t.couponSelect)}),n}}}),h=Object(o.a)(a.a,f.a,u.a),g=d.f?r(h,b):r(h),v=function(e){return Object(o.e)(p.b,e,g)},x=v(y);t.a=x},wO6Y:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("ueSK"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sell";return{orderType:e,fetch:{types:[null,r.ce,r.be],from:"/regions?type=".concat(e)}}}},wPgv:function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return v}),n.d(t,"i",function(){return x}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return O});var r=n("bPB8"),o=n("peh1"),a=n("RXTu"),i=n("LTr4"),c=n("78eS"),l=n("51ew");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(a.f)("ocContribs"),f=Object(a.b)("ocContribs"),p=(Object(a.a)("ocContribs"),Object(a.b)("ocContribItems")),d=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({},t,{contributor:Object(i.F)(e,t.contributor),collection:Object(c.g)(e,t.collectionId||t.collection),book:Object(i.c)(e,t.bookId||t.book)})},m=function(e,t){var n=f(e,t);return n&&d(e,n)},y=function(e,t){return Object(r.a)(t.map(function(t){return m(e,t)}))},b=Object(a.d)("ocContribs"),h=function(e,t){return e.ocContribs.foldStatuses[t]},g=function(e,t){var n=Object(l.c)(t);return n in e?e[n].loadStatus:"initial"},v=function(e,t){return t in e?e[t].nextUrl:""},x=Object(o.createSelector)(function(e){return Object(i.J)(e.entities)},function(e,t){return function(e,t){var n=Object(l.c)(t);return n in e?e[n].ids:[]}(e.ocContribVoters,t)},function(e,t){return t.map(function(t){return e[t]})}),w=function(e,t){var n=e.ocContribs,r=e.entities,o=n.contribs[t];return o?o.ids.map(function(t){return p(e.entities,t)}).map(function(t){var n=t.book,o=t.contributions;return{contributions:y(r,o),book:Object(i.c)(e.entities,n)}}):[]},O=function(e,t){var n=e.ocContribs.contribs[t];return n?n.loadStatus:"initial"}},wrrN:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return y});var r=n("GBY4"),o=n.n(r),a=n("pDFs"),i=n("XjTe"),c=n("+Tm7"),l=n("cnfQ"),s=n("l9ey");function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f="https://www.duozhuayu.com/api",p=f.startsWith("http")?f:"".concat(location.origin).concat("https://www.duozhuayu.com/api"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"snsapi_userinfo",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wechat/oauth",n=encodeURIComponent(function(e,t){var n=o()(location.href,!0),r=n.query,a=r.miniProgramCode,i=u(r,["miniProgramCode"]),f={scope:e},d=Object(l.a)().location,m=d.search,y=d.pathname,b=o()(m,!0).query,h=b.sharerId,g=b.sharer_id,v=b.utm_source,x=b.utm_medium,w=function(e){var t=e.match(/\/invitation\/(\d+)(\/\w+)?/i);return t?t[1]:""}(y),O=h||g||w,E=w?"invitation_".concat(w,"_4"):v;return O&&(f.sharer_id=O),E&&(f.utm_source=E),x&&(f.utm_medium=x),a&&(f.miniProgramCode=a,i.syncSession=1),s.e&&(i.t=Date.now()),n.set("query",i),f.url=n.toString(),"".concat(p).concat(t,"?").concat(Object(c.b)(f))}(e,t)),r="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(a.a,"&redirect_uri=").concat(n,"&response_type=code&scope=").concat(e,"#wechat_redirect");window.location.href=r},m=function(){return d("snsapi_base")},y=function(){return Object(i.b)()?"wx_mini_program":s.m?"wechat":s.f&&s.h?"wechat_app":s.f&&s.e?"wechat_app_android":(s.c,"wechat_qrcode")}},wsKf:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return p});var r=n("MXQz"),o=n("JzTR"),a=n("eF/w"),i=n("wrrN"),c=n("l9ey"),l=n("ueSK"),s=n("/ky4"),u=function(){return{fetch:{types:[l.af,l.bf],from:"/user",schema:{subscribedCategories:[o.a.category]}}}},f=function(){return{fetch:{types:[null,l.ld],from:"/logout"}}},p=Object(r.a)(function(e){return e(u()).then(function(t){var n=t.id,r=t.name;Object(a.a)({id:n,username:r}),e(Object(s.b)())},function(t){e({type:l.Ze,error:t}),"AUTH_FAILED"===t.name&&c.c&&Object(i.b)()})});Object(r.a)(function(e){return e({type:l.Ze,error:{name:"OUT_OF_APP_SCOPE"}})})},x6Vd:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("2INN"),c=n("wsKf");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(0,(n=u(this,(e=f(t)).call.apply(e,[this].concat(o)))).props.dispatch)(c.b),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.Component),n=t,(a=[{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&s(n.prototype,a),i&&s(n,i),t}(),m=Object(a.b)()(d);t.a=function(e){var t=e.children;return o.a.createElement(i.a,null,function(e){return o.a.createElement(m,e,t)})}},xQ31:function(e,t,n){"use strict";var r=n("fvjX"),o=n("peh1");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){var t=a(e.types,3),n=t[0],o=t[1],i=t[2];return Object(r.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return t.result;default:return e}},loadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case n:return"loading";case o:return"loaded";case i:return"failed";default:return e}}})},c=n("cUTp"),l=n("JzTR"),s=n("IiWD");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return v});var p="categoryLists",d="".concat(p,"_CATEGORIES_ALL_REQUEST"),m="".concat(p,"_CATEGORIES_ALL_SUCCESS"),y="".concat(p,"_CATEGORIES_ALL_FAILURE"),b=i({types:[d,m,y]}),h=(t.b=Object(r.c)({allCategories:b}),Object(o.createSelector)(s.m,function(e){return e[p].allCategories.item},function(e){return Object(c.d)(e.session)},function(e,t,n){return t?t.map(function(t){var r=t.categories.map(function(t){return u({},e[t],{isSubscribed:n.subscribedCategories.includes(t)})});return u({},t,{categories:r})}):[]})),g=function(e){return e[p].allCategories.loadStatus},v=function(){return{fetch:{from:"/categories",types:[d,m,y],schema:[{categories:l.a.categories}]}}}},yGly:function(e,t,n){"use strict";var r=n("MX0m"),o=n.n(r),a=n("17x9"),i=n.n(a),c=n("q1tI"),l=n.n(c),s=n("TSYQ"),u=n.n(s),f=n("tyei"),p=n.n(f),d=n("zDcZ"),m=n("FQoQ"),y=n("Uo4X"),b=n("mM5K");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(){return null},_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=x(t).call(this,e),(n=!o||"object"!==h(o)&&"function"!=typeof o?w(r):o).throttledCheck=p()(function(){return n.loadCheck()},100),n.getRef=n.getRef.bind(w(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,l.a.Component),E(t,null,[{key:"propTypes",get:function(){return{loadStatus:i.a.string,infiniteScrolling:i.a.bool,items:i.a.array.isRequired,renderItem:i.a.func.isRequired,renderDrainedList:i.a.func,loader:i.a.func,keepLoading:i.a.bool,fixedContainer:i.a.bool}}}]),E(t,[{key:"componentDidMount",value:function(){"initial"===this.props.loadStatus&&this.props.loader(!0),this.isDrained||this.startListening()}},{key:"componentWillReceiveProps",value:function(e){var t=this.isDrained,n=!t,r="drained"===e.loadStatus,o=!r;"initial"===e.loadStatus&&e.loader(!0),n&&r&&this.stopListening(),t&&o&&this.startListening()}},{key:"componentDidUpdate",value:function(e){var t=this,n="loading"===e.loadStatus,r=!this.isLoading;n&&r&&setTimeout(function(){t.loadCheck()},100)}},{key:"componentWillUnmount",value:function(){this.stopListening()}},{key:"getRef",value:function(e){this.el=e}},{key:"isBottomNearViewport",value:function(){if(!this.el)return!1;var e,t=this.props,n=t.fixedContainer,r=t.threshold;if(n){var o=this.el;e=o.scrollTop+o.clientHeight+r>=o.scrollHeight}else{e=this.el.getBoundingClientRect().bottom-r<=window.innerHeight}return e}},{key:"loadCheck",value:function(){this.props.keepLoading&&this.isLoadedButNotDrained?this.props.loader():this.props.infiniteScrolling&&this.isLoadedButNotDrained&&this.isBottomNearViewport()&&this.props.loader()}},{key:"getScrollNode",value:function(){return this.props.fixedContainer?this.el:window}},{key:"startListening",value:function(){if(this.props.infiniteScrolling){var e=this.getScrollNode();e.addEventListener("scroll",this.throttledCheck),e.addEventListener("resize",this.throttledCheck),this.throttledCheck()}}},{key:"stopListening",value:function(){if(this.props.infiniteScrolling){var e=this.getScrollNode();e.removeEventListener("scroll",this.throttledCheck),e.removeEventListener("resize",this.throttledCheck)}}},{key:"renderDrainedList",value:function(){return this.props.renderDrainedList(this.props)}},{key:"renderSSRFooter",value:function(){this.props.renderSSRFooter;return null}},{key:"render",value:function(){var e=this.props,t=e.items,n=(e.loadStatus,e.renderItem),r=e.loader,a=(e.renderEmptyContent,e.renderDrainedList,e.contentContainer),i=e.children,c=(e.threshold,e.infiniteScrolling,e.keepLoading,e.noFooter),s=(e.fixedContainer,e.renderSSRFooter,v(e,["items","loadStatus","renderItem","loader","renderEmptyContent","renderDrainedList","contentContainer","children","threshold","infiniteScrolling","keepLoading","noFooter","fixedContainer","renderSSRFooter"]));return l.a.createElement("div",g({ref:this.getRef},s,{className:o.a.dynamic([["3894590198",[d.a.lightFont,d.a.lightFont]]])+" "+(null!=s.className&&s.className||u()("root",{empty:this.isEmpty})||"")}),l.a.createElement(a,{className:o.a.dynamic([["3894590198",[d.a.lightFont,d.a.lightFont]]])},t.map(n)),!c&&this.isFooterVisible&&l.a.createElement("div",{className:o.a.dynamic([["3894590198",[d.a.lightFont,d.a.lightFont]]])+" footer"},this.isLoading&&l.a.createElement(b.a,null),this.isDrained&&this.renderDrainedList(),this.hasFailed&&l.a.createElement("button",{onClick:function(){return r()},className:o.a.dynamic([["3894590198",[d.a.lightFont,d.a.lightFont]]])},"加载失败，点击重试",l.a.createElement(y.a,{style:{width:"15px",verticalAlign:"-2px",marginLeft:"6px"}}))),this.renderSSRFooter(),i,l.a.createElement(o.a,{id:"3894590198",dynamic:[d.a.lightFont,d.a.lightFont]},[".root.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".empty.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(d.a.lightFont,";}"),".footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:19px;padding:30px 0;color:".concat(d.a.lightFont,";font-size:14px;line-height:19px;}"),".empty.__jsx-style-dynamic-selector .footer.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:inherit;height:auto;padding:0;}",".emptycontent.__jsx-style-dynamic-selector{margin-bottom:20px;}"]))}},{key:"isLoadedButNotDrained",get:function(){return"loaded"===this.props.loadStatus}},{key:"isDrained",get:function(){return"drained"===this.props.loadStatus}},{key:"isEmpty",get:function(){return this.isDrained&&0===this.props.items.length}},{key:"isLoading",get:function(){return"loading"===this.props.loadStatus}},{key:"hasFailed",get:function(){return"failed"===this.props.loadStatus}},{key:"isFooterVisible",get:function(){return this.isLoading||this.hasFailed||this.isDrained&&this.renderDrainedList()}}]),t}();_.defaultProps={infiniteScrolling:!0,threshold:400,loadStatus:"loaded",loader:function(){return console.debug("<PerfectList> probably needs a loader() property"),null},renderEmptyContent:k,renderDrainedList:function(e){var t=e.items,n=e.renderEmptyContent;return t.length?l.a.createElement(m.a,null):l.a.createElement("div",{className:"emptycontent"},n())},renderSSRFooter:k,contentContainer:function(e){var t=e.children;return l.a.createElement("div",null,t)},keepLoading:!1,noFooter:!1,fixedContainer:!1},t.a=_},yfAj:function(e,t,n){"use strict";var r=n("GBY4"),o=n.n(r),a="https://headshot.duozhuayu.com/headshot/v1/";a.endsWith("/")||(a+="/");t.a=function(e){var t=o()("".concat(a,"oc-contrib/").concat(e.id),{},!0);if(t.query.origin="https://www.duozhuayu.com",e.collection){var n=(Number(new Date(e.collection.updated))/1e3).toFixed(0);t.query.ocRev=n}return t}},yrCo:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return d});var r=n("6Vt4"),o=n("q1tI"),a=n.n(o),i=n("i8i4"),c=n.n(i),l=n("YMRG"),s=function(e){var t=e.message,n=e.duration;if(t){var r=document.body,o=document.createElement("div");r.appendChild(o);var i=a.a.createElement(l.a,{value:t,duration:n||600,onHide:function(){c.a.unmountComponentAtNode(o),r.removeChild(o)}});c.a.render(i,o)}},u=Object(r.callbackListener)("Dejavu.Rexxar.Widget"),f=Object(r.widgetMessenger)("dejavu","rexxar")("widget/rn"),p=Object(r.widgetMessenger)("dejavu","rexxar")("widget/native"),d=function(e){return function(t){Object(r.dispatch)(e(Object(r.assemblePayload)(t)))}}},z16u:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var r=n("CpTu"),o=n("ueSK"),a=n("jNpE"),i=n("Rcgl"),c=function(e){return function(t,n){var a=function(e,t){if(e&&t){var n=new Date(t),o=Object(r.a)(e,function(e){var t=new Date(e.date);return t.getYear()===n.getYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()});return o?o.shipperCode:null}return null}(n().address.deliveryTimes.sell,e.deliveryTime);return t({type:o.b,values:e,shipperCode:a})}},l=function(e){return function(t,n){var r=n().address.phone.verifiedPhone===e,a={phone:e};return t({type:o.b,isVerified:r,values:a})}},s=function(e){return{type:o.c,errors:e}},u=function(){return function(e,t){var n=t().address.values.phone,r=a.a.phone(n);e(r?s({phone:r}):Object(i.b)(n))}}},zDcZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i});var r={font:"rgb(51, 51, 51)",lightFont:"rgb(102, 102, 102)",lighterFont:"rgb(170, 170, 170)",confusingGray:"rgb(230, 230, 230)",lightGray:"rgb(247, 247, 247)",beige:"rgb(239, 237, 217)",lightBeige:"rgb(255, 253, 231)",primary:"rgb(24, 195, 170)",emphasis:"rgb(242, 129, 129)",golden:"rgb(214, 186, 140)",gray:"rgb(242, 242, 242)",darkGray:"rgb(210, 210, 210)",lightGreen:"rgb(244, 252, 251)",secondary:"rgb(214, 186, 140)",red:"rgb(195, 71, 55)",yellow:"rgb(250, 193, 68)",lightYellow:"rgb(255, 234, 162)",lightPink:"rgb(246, 242, 236)",black:"rgb(0, 0, 0)",white:"rgb(255, 255, 255)"},o={number:"BodoniSvtyTwoITCTT-Book"},a={navHeight:"51px"},i={gap:"16px",ocEnlistedForHome:{width:"150px",height:"200px"},ocItem:{bgColor:"#ffffff"}}},zmxY:function(e,t,n){}});